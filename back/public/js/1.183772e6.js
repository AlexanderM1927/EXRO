(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"31d6":function(e,t,r){"use strict";var a=r("b066"),n=r.n(a);n.a},"35ca":function(e,t,r){"use strict";var a=r("758b");t["a"]={login:function(e){return Object(a["a"])().post("login",e)},recovery:function(e){return Object(a["a"])().post("recovery",e)},changePassword:function(e){return Object(a["a"])().post("changepassword",e)},register:function(e){return Object(a["a"])().post("register",e,{headers:{Authorization:e.token}})},getUser:function(e){return Object(a["a"])().get("user/"+e.id,{headers:{Authorization:e.token}})},modifyUser:function(e){return Object(a["a"])().post("user/"+e.id,e,{headers:{Authorization:e.token}})},deleteUser:function(e){return Object(a["a"])().delete("user/"+e.id,{headers:{Authorization:e.token}})},getMyUser:function(e){return Object(a["a"])().get("my-user",{headers:{Authorization:e.token}})},getUsers:function(e){return Object(a["a"])().get("users",{headers:{Authorization:e.token}})},getClients:function(e){return Object(a["a"])().get("clients",{headers:{Authorization:e.token}})},getEngineers:function(e){return Object(a["a"])().get("engineers",{headers:{Authorization:e.token}})}}},"3bd4":function(e,t,r){},"6e7b":function(e,t,r){},"713b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"lHh Lpr lFf"}},[a("q-header",{staticClass:"header",attrs:{elevated:""}},[a("q-toolbar",[a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),a("q-toolbar-title",[e._v("\n        My App\n      ")]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"login"},on:{click:function(t){return e.goTo("logout")}}})],1)],1),a("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"menu"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[a("div",{staticClass:"box profile",attrs:{id:"v-step-0"}},[a("q-img",{staticStyle:{height:"100px",width:"100px"},attrs:{src:r("c3e7")}}),a("br"),e._v("\n      "+e._s(e.user.name)+"\n    ")],1),a("q-list",e._l(e.essentialLinks,(function(t){return a("EssentialLink",e._b({key:t.title,attrs:{view:e.view,rank:e.user.rank}},"EssentialLink",t,!1))})),1)],1),a("q-page-container",["home"===e.view?a("home-component",{attrs:{user:e.user},on:{tour:e.activateTour}}):e._e(),"users"===e.view?a("users-component"):e._e(),"user"===e.view?a("user-component"):e._e(),"projects"===e.view?a("projects-component"):e._e(),"project"===e.view?a("project-component"):e._e(),"vars"===e.view?a("vars-component"):e._e(),"var"===e.view?a("var-component"):e._e(),"reports"===e.view?a("reports-component",{attrs:{user:e.user}}):e._e(),"new-report"===e.view?a("new-report-component",{attrs:{user:e.user}}):e._e(),"report"===e.view?a("report-component",{attrs:{user:e.user}}):e._e(),"graphics"===e.view?a("graphics-component"):e._e(),a("v-tour",{attrs:{name:"myTour",steps:e.steps}})],1)],1)},n=[],o=(r("96cf"),r("c973")),i=r.n(o),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.rank>=e.minRank?r("q-item",{class:e.view===e.link?"marked":"",attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(t){return e.goTo(e.link)}}},[e.icon?r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:e.icon}})],1):e._e(),r("q-item-section",{attrs:{id:e.link}},[r("q-item-label",[e._v(e._s(e.title))]),r("q-item-label",{attrs:{caption:""}},[e._v("\n      "+e._s(e.caption)+"\n    ")])],1)],1):e._e()},c=[],l=r("9f21"),u={name:"EssentialLink",mixins:[l["a"]],props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""},view:{type:String,default:""},rank:{},minRank:{}}},d=u,p=(r("cafc"),r("2877")),m=r("66e5"),g=r("4074"),f=r("0016"),v=r("0170"),h=r("eebe"),b=r.n(h),k=Object(p["a"])(d,s,c,!1,null,"7004b885",null),y=k.exports;b()(k,"components",{QItem:m["a"],QItemSection:g["a"],QIcon:f["a"],QItemLabel:v["a"]});var w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10 container"},[r("div",{staticClass:"title"},[r("div",{staticClass:"text-h6"},[e._v("\n                    Usuarios\n                    "),r("div",{staticClass:"right"},[r("q-btn",{attrs:{round:"",color:"positive",size:"sm",icon:"add"},on:{click:e.createUser}},[r("q-tooltip",[e._v("\n                            Agregar\n                        ")])],1)],1)])]),r("br"),r("div",{staticClass:"row"},[r("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.data,columns:e.columns,"row-key":"name",title:"Usuarios",filter:e.filter},scopedSlots:e._u([{key:"body",fn:function(t){return[r("q-tr",{attrs:{props:t}},[r("q-td",{key:"id",attrs:{props:t}},[e._v("\n                                "+e._s(t.row.id)+"\n                            ")]),r("q-td",{key:"name",attrs:{props:t}},[e._v("\n                                "+e._s(t.row.name)+"\n                            ")]),r("q-td",{key:"email",attrs:{props:t}},[r("div",{staticClass:"text-pre-wrap"},[e._v(e._s(t.row.email))])]),r("q-td",{key:"rank",attrs:{props:t}},[e._v("\n                                "+e._s(e.getRankById(t.row.rank))+"\n                            ")]),"project"===e.mode?r("q-td",{key:"ops",attrs:{props:t}},[r("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(r){return e.$emit("add",t.row)}}},[r("q-icon",{attrs:{size:"md",name:"add"}}),r("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("agregar")])],1)]):"engineer"===e.mode?r("q-td",{key:"ops",attrs:{props:t}},[r("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(r){return e.$emit("addengineer",t.row)}}},[r("q-icon",{attrs:{size:"md",name:"add"}}),r("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("agregar")])],1)]):r("q-td",{key:"ops",attrs:{props:t}},[r("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(r){return e.goTo("user/"+t.row.id)}}},[r("q-icon",{attrs:{size:"md",name:"edit"}}),r("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("editar")])],1),r("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(r){return e.del(t.row.id)}}},[r("q-icon",{attrs:{size:"md",name:"delete"}}),r("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("eliminar")])],1)])],1)]}},{key:"top-right",fn:function(){return[r("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])})],1)]),r("div",{staticClass:"col-1"})])])},x=[],C=r("35ca"),q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[r("q-card",{staticClass:"q-dialog-plugin container"},[r("div",{staticClass:"text-h6"},[e._v("Registra un nuevo usuario")]),r("q-separator"),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"account_circle",color:"primary"}})]},proxy:!0}]),model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Email",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"mail",color:"primary"}})]},proxy:!0}]),model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:e.isPwd?"password":"text",label:"Clave",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{color:"primary",name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:e.isPwd2?"password":"text",label:"Confirmar clave",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{color:"primary",name:e.isPwd2?"visibility_off":"visibility"},on:{click:function(t){e.isPwd2=!e.isPwd2}}})]},proxy:!0}]),model:{value:e.user.passwordconfirm,callback:function(t){e.$set(e.user,"passwordconfirm",t)},expression:"user.passwordconfirm"}}),r("q-select",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",options:e.options,label:"Tipo",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"check",color:"primary"}})]},proxy:!0}]),model:{value:e.user.rank,callback:function(t){e.$set(e.user,"rank",t)},expression:"user.rank"}}),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.user.name,e.user.email,e.user.password,e.user.rank],e.onOKClick)}}}),r("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},_=[],j={mixins:[l["a"]],data:function(){return{user:{},isPwd:!0,isPwd2:!0,options:["Cliente","Ingeniero","Administrador"]}},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.user.password===this.user.passwordconfirm?(this.$emit("ok",this.user),this.hide()):this.alert("negative","Las claves no coinciden")},onCancelClick:function(){this.hide()}}},S=j,R=r("24e8"),Q=r("f09f"),I=r("eb85"),O=r("27f9"),E=r("ddd8"),P=r("4b7e"),$=r("9c40"),L=Object(p["a"])(S,q,_,!1,null,null,null),D=L.exports;b()(L,"components",{QDialog:R["a"],QCard:Q["a"],QSeparator:I["a"],QInput:O["a"],QIcon:f["a"],QSelect:E["a"],QCardActions:P["a"],QBtn:$["a"]});var V={name:"users-component",mixins:[l["a"]],props:["mode"],data:function(){return{filter:"",columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"email",align:"center",label:"Email",field:"email",sortable:!0},{name:"rank",align:"center",label:"Tipo",field:"rank",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],data:[]}},mounted:function(){this.getUsers()},methods:{getUsers:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.activateLoading("Cargando"),r={},"project"!==e.mode){t.next=9;break}return t.next=6,C["a"].getClients({token:localStorage.getItem("token")});case 6:r=t.sent,t.next=18;break;case 9:if("engineer"!==e.mode){t.next=15;break}return t.next=12,C["a"].getEngineers({token:localStorage.getItem("token")});case 12:r=t.sent,t.next=18;break;case 15:return t.next=17,C["a"].getUsers({token:localStorage.getItem("token")});case 17:r=t.sent;case 18:a=r.data.users,e.data=a,t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](0),console.log(t.t0);case 25:e.disableLoading();case 26:case"end":return t.stop()}}),t,null,[[0,22]])})))()},createUser:function(){var e=this;this.$q.dialog({component:D,parent:this,text:"Hola"}).onOk(function(){var t=i()(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.token=localStorage.getItem("token"),t.prev=1,e.activateLoading("Cargando"),t.next=5,C["a"].register(r);case 5:a=t.sent,e.getUsers(),201===a.status&&e.alert("positive","Usuario agregado correctamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.alert("negative","Se ha presentado un error al crear el usuario");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))},del:function(e){var t=this;return i()(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.activateLoading("Cargando"),r.next=4,C["a"].deleteUser({id:e,token:localStorage.getItem("token")});case 4:a=r.sent,200===a.status&&(t.getUsers(),t.alert("positive","Eliminado correctamente")),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()}}},z=V,A=(r("fec6"),r("05c0")),T=r("eaac"),M=r("bd08"),B=r("db86"),H=Object(p["a"])(z,w,x,!1,null,"129f7739",null),F=H.exports;b()(H,"components",{QBtn:$["a"],QTooltip:A["a"],QTable:T["a"],QTr:M["a"],QTd:B["a"],QIcon:f["a"],QInput:O["a"]});var U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10 container"},[r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"account_circle",color:"primary"}})]},proxy:!0}]),model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Email",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"mail",color:"primary"}})]},proxy:!0}]),model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),r("q-select",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",options:e.options,label:"Tipo",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"check",color:"primary"}})]},proxy:!0}]),model:{value:e.user.rank,callback:function(t){e.$set(e.user,"rank",t)},expression:"user.rank"}}),r("center",[r("q-btn",{attrs:{label:"Guardar",color:"primary"},on:{click:e.save}})],1)],1),r("div",{staticClass:"col-1"})])])},Y=[],N={name:"user-component",mixins:[l["a"]],props:[],data:function(){return{id:this.$route.params.id,user:{},options:["Cliente","Ingeniero","Administrador"]}},mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,C["a"].getUser({id:e.id,token:localStorage.getItem("token")});case 4:r=t.sent,e.user=r.data.user,e.user.rank=e.getRankById(r.data.user.rank),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:e.disableLoading();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},save:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.user,r.token=localStorage.getItem("token"),e.activateLoading("Cargando"),t.next=6,C["a"].modifyUser(r);case 6:a=t.sent,200===a.status&&e.alert("positive","Guardado correctamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.alert("negative","Se registro un fallo al guardar");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},G=N,K=Object(p["a"])(G,U,Y,!1,null,null,null),J=K.exports;b()(K,"components",{QInput:O["a"],QIcon:f["a"],QSelect:E["a"],QBtn:$["a"]});var W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10",staticStyle:{padding:"10px"}},[r("div",{staticClass:"text-h4",style:"float: left;"},[e._v("Proyectos")]),r("div",{staticClass:"right",style:e.$q.screen.xs?"width: 40%;":""},[r("q-btn",{attrs:{color:"positive",round:"",icon:"add"},on:{click:e.createProject}})],1)]),r("div",{staticClass:"col-1"})]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10 container"},[r("div",{staticClass:"row"}),r("div",{staticClass:"row"},[0===e.projects.length?r("div",[e._v("\n                  Ningun proyecto hasta el momento\n                ")]):e._e(),e._l(e.projects,(function(t,a){return r("div",{key:a,staticClass:"col-md-6 col-xs-12"},[r("q-card",{staticClass:"my-card",attrs:{flat:"",bordered:""}},[r("q-card-section",{staticClass:"cards",attrs:{horizontal:""}},[r("q-card-section",{staticStyle:{width:"58.5%"}},[r("div",{staticClass:"text-h6"},[e._v(e._s(t.name))]),e._v("\n                                "+e._s(t.descripcion)+"\n                            ")]),r("q-img",{staticClass:"col-5",attrs:{src:e.getImgUrl(t.urlimg)}})],1),r("q-separator"),"select"===e.mode?r("q-card-actions",[r("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(r){return e.$emit("selectproject",t.id)}}},[e._v("\n                            Seleccionar\n                            ")])],1):r("q-card-actions",[r("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(r){return e.goTo("project/"+t.id)}}},[e._v("\n                            Ver\n                            ")]),r("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(r){return e.editProject(t)}}},[e._v("\n                            Editar\n                            ")]),r("q-btn",{attrs:{flat:"",color:"negative"},on:{click:function(r){return e.eliminar(t.id)}}},[e._v("\n                            Eliminar\n                            ")])],1)],1)],1)}))],2)]),r("div",{staticClass:"col-1"})])])},X=[],Z=r("758b"),ee={getProject:function(e){return Object(Z["a"])().get("project/"+e.id,{headers:{Authorization:e.token}})},getProjects:function(e){return Object(Z["a"])().get("projects",{headers:{Authorization:e.token}})},newProject:function(e){return Object(Z["a"])().post("projects",e,{headers:{Authorization:e.token}})},deleteProject:function(e){return Object(Z["a"])().delete("project/"+e.id,{headers:{Authorization:e.token}})},modifyProject:function(e){return Object(Z["a"])().post("project/"+e.id,e,{headers:{Authorization:e.token}})}},te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[r("q-card",{staticClass:"q-dialog-plugin container"},[r("div",{staticClass:"text-h6"},[e._v("Crear proyecto")]),r("q-separator"),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"description",color:"primary"}})]},proxy:!0}]),model:{value:e.project.name,callback:function(t){e.$set(e.project,"name",t)},expression:"project.name"}}),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:"textarea",label:"Descripcion",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"topic",color:"primary"}})]},proxy:!0}]),model:{value:e.project.descripcion,callback:function(t){e.$set(e.project,"descripcion",t)},expression:"project.descripcion"}}),r("q-file",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Img",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"attach_file",color:"primary"}})]},proxy:!0}]),model:{value:e.project.photo,callback:function(t){e.$set(e.project,"photo",t)},expression:"project.photo"}}),void 0===e.project.idcliente||""===e.project.idcliente?r("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Agregar cliente",icon:"add"},on:{click:e.addClient}}):r("q-btn",{staticClass:"full-width",attrs:{color:"primary",outline:"",label:"Cambiar cliente",icon:"edit"},on:{click:e.addClient}}),r("br"),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.project.name,e.project.photo,e.project.descripcion],e.onOKClick)}}}),r("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1),r("q-dialog",{attrs:{persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[r("q-card-section",[r("users-component",{attrs:{mode:"project"},on:{add:e.add}})],1)],1)],1)],1)],1)},re=[],ae=(r("b0c0"),{mixins:[l["a"]],components:{UsersComponent:F},data:function(){return{project:{},options:[],dialog:!1}},methods:{add:function(e){this.project.idcliente=e.id,this.dialog=!1},addClient:function(){this.dialog=!0},show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){if(void 0!==this.project.idcliente&&null!==this.project.idcliente&&this.project.idcliente>0){var e=new FormData;e.append("name",this.project.name),e.append("descripcion",this.project.descripcion),e.append("idcliente",this.project.idcliente),e.append("photo",this.project.photo),this.$emit("ok",e),this.hide()}else this.alert("warning","Debes agregar un cliente antes de crear el proyecto")},onCancelClick:function(){this.hide()}}}),ne=ae,oe=r("7d53"),ie=r("a370"),se=Object(p["a"])(ne,te,re,!1,null,null,null),ce=se.exports;b()(se,"components",{QDialog:R["a"],QCard:Q["a"],QSeparator:I["a"],QInput:O["a"],QIcon:f["a"],QFile:oe["a"],QBtn:$["a"],QCardActions:P["a"],QCardSection:ie["a"]});var le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[r("q-card",{staticClass:"q-dialog-plugin container"},[r("div",{staticClass:"text-h6"},[e._v("Editar Proyecto")]),r("q-separator"),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"description",color:"primary"}})]},proxy:!0}]),model:{value:e.project.name,callback:function(t){e.$set(e.project,"name",t)},expression:"project.name"}}),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:"textarea",label:"Descripcion",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"topic",color:"primary"}})]},proxy:!0}]),model:{value:e.project.descripcion,callback:function(t){e.$set(e.project,"descripcion",t)},expression:"project.descripcion"}}),r("q-file",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Img",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"attach_file",color:"primary"}})]},proxy:!0}]),model:{value:e.project.photo,callback:function(t){e.$set(e.project,"photo",t)},expression:"project.photo"}}),r("br"),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.project.name,e.project.descripcion],e.onOKClick)}}}),r("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},ue=[],de={mixins:[l["a"]],data:function(){return{project:{}}},props:["projectToEdit"],mounted:function(){this.project=this.projectToEdit},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){var e=new FormData;e.append("name",this.project.name),e.append("descripcion",this.project.descripcion),e.append("photo",this.project.photo),this.$emit("ok",e),this.hide()},onCancelClick:function(){this.hide()}}},pe=de,me=Object(p["a"])(pe,le,ue,!1,null,null,null),ge=me.exports;b()(me,"components",{QDialog:R["a"],QCard:Q["a"],QSeparator:I["a"],QInput:O["a"],QIcon:f["a"],QFile:oe["a"],QCardActions:P["a"],QBtn:$["a"]});var fe={name:"projects-component",mixins:[l["a"]],props:["mode"],data:function(){return{projects:[]}},mounted:function(){this.getProjects()},methods:{organizarCards:function(){return i()(regeneratorRuntime.mark((function e(){var t,r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,document.getElementsByClassName("cards");case 2:for(t=e.sent,r=0,a=0;a<t.length;a++)r<=t[a].clientHeight&&(r=t[a].clientHeight);for(n=0;n<t.length;n++)document.getElementsByClassName("cards")[n].style.height=r+"px";case 6:case"end":return e.stop()}}),e)})))()},getProjects:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,ee.getProjects({token:localStorage.getItem("token")});case 4:r=t.sent,a=r.data.projects,e.projects=a,e.organizarCards(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},createProject:function(){var e=this;this.$q.dialog({component:ce,parent:this}).onOk(function(){var t=i()(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.token=localStorage.getItem("token"),t.prev=1,e.activateLoading("Cargando"),t.next=5,ee.newProject(r);case 5:a=t.sent,e.getProjects(),201===a.status&&e.alert("positive","Proyecto creado exitosamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.alert("negative","Se ha presentado un error al crear el Proyecto");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))},eliminar:function(e){var t=this;return i()(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.activateLoading("Cargando"),r.next=4,ee.deleteProject({id:e,token:localStorage.getItem("token")});case 4:a=r.sent,200===a.status&&(t.getProjects(),t.alert("positive","Eliminado correctamente")),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},editProject:function(e){var t=this;this.$q.dialog({component:ge,parent:this,projectToEdit:e}).onOk(function(){var r=i()(regeneratorRuntime.mark((function r(a){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.id=e.id,a.token=localStorage.getItem("token"),r.prev=2,t.activateLoading("Cargando"),r.next=6,ee.modifyProject(a);case 6:n=r.sent,t.getProjects(),200===n.status&&t.alert("positive","Proyecto editado exitosamente"),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](2),t.alert("negative","Se ha presentado un error al editar el Proyecto");case 14:t.disableLoading();case 15:case"end":return r.stop()}}),r,null,[[2,11]])})));return function(e){return r.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))}}},ve=fe,he=(r("87af"),r("068f")),be=Object(p["a"])(ve,W,X,!1,null,"dbb02f2e",null),ke=be.exports;b()(be,"components",{QBtn:$["a"],QCard:Q["a"],QCardSection:ie["a"],QImg:he["a"],QSeparator:I["a"],QCardActions:P["a"]});var ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10 container"},[r("div",{staticClass:"text-h4"},[e._v(e._s(e.project.name))]),r("br"),r("q-separator"),r("br"),r("b",[e._v("Descripción")]),r("br"),r("pre",[e._v(e._s(e.project.descripcion))]),r("br"),r("br"),r("q-separator"),r("div",{staticClass:"title"},[r("div",{staticClass:"text-h6"},[e._v("\n              Variables asociadas\n              "),r("div",{staticClass:"right"},[r("q-btn",{attrs:{round:"",color:"positive",size:"sm",icon:"add"},on:{click:e.assocVar}},[r("q-tooltip",[e._v("\n                    Asociar\n                  ")])],1)],1)])]),r("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.data,columns:e.columns,"row-key":"name"},scopedSlots:e._u([{key:"body",fn:function(t){return[r("q-tr",{attrs:{props:t}},[r("q-td",{key:"id",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.idvariable)+"\n                  ")]),r("q-td",{key:"name",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.name)+"\n                  ")]),r("q-td",{key:"max",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.max)+"\n                  ")]),r("q-td",{key:"min",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.min)+"\n                  ")]),r("q-td",{key:"ops",attrs:{props:t}},[r("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(r){return e.del(t.row.id)}}},[r("q-icon",{attrs:{size:"md",name:"delete"}}),r("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("desasociar")])],1)])],1)]}}])}),r("br"),r("q-separator"),r("br"),r("div",{staticClass:"title"},[r("div",{staticClass:"text-h6"},[e._v("\n              Ingenieros asociados\n              "),r("div",{staticClass:"right"},[r("q-btn",{attrs:{round:"",color:"positive",size:"sm",icon:"add"},on:{click:e.assocEngineer}},[r("q-tooltip",[e._v("\n                    Asociar\n                  ")])],1)],1)])]),r("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.dataEngineers,columns:e.columnsEngineers,"row-key":"name"},scopedSlots:e._u([{key:"body",fn:function(t){return[r("q-tr",{attrs:{props:t}},[r("q-td",{key:"id",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.idingeniero)+"\n                  ")]),r("q-td",{key:"name",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.name)+"\n                  ")]),r("q-td",{key:"ops",attrs:{props:t}},[r("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(r){return e.deleteEngineer(t.row.id)}}},[r("q-icon",{attrs:{size:"md",name:"delete"}}),r("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("desasociar")])],1)])],1)]}}])}),r("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[r("q-card-section",[r("vars-component",{attrs:{mode:"project"},on:{add:e.add}})],1)],1)],1),r("q-dialog",{attrs:{persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogEngineers,callback:function(t){e.dialogEngineers=t},expression:"dialogEngineers"}},[r("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[r("q-card-section",[r("users-component",{attrs:{mode:"engineer"},on:{addengineer:e.addengineer}})],1)],1)],1)],1),r("div",{staticClass:"col-1"})])])},we=[],xe={getVariablesByProject:function(e){return Object(Z["a"])().get("variablesprojects/"+e.id,{headers:{Authorization:e.token}})},newVariablesProjects:function(e){return Object(Z["a"])().post("variablesprojects",e,{headers:{Authorization:e.token}})},deleteVarProject:function(e){return Object(Z["a"])().delete("variablesprojects/"+e.id,{headers:{Authorization:e.token}})}},Ce={getEngineersByProject:function(e){return Object(Z["a"])().get("engineersProjects/"+e.id,{headers:{Authorization:e.token}})},newEngineerProject:function(e){return Object(Z["a"])().post("engineersProjects",e,{headers:{Authorization:e.token}})},deleteEngineerProjectById:function(e){return Object(Z["a"])().delete("engineersProjects/"+e.id,{headers:{Authorization:e.token}})}},qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10 container"},[r("div",{staticClass:"text-h6"},[e._v("Variables")]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-4"}),r("div",{staticClass:"col-md-4 container col-xs-12"},[r("center",[r("q-form",{on:{submit:function(t){return e.validateForm([e.variable.name],e.save)}}},[r("q-input",{attrs:{label:"Nombre de la variable",color:"grey-3","bg-color":"white","label-color":"primary"},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"title",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.name,callback:function(t){e.$set(e.variable,"name",t)},expression:"variable.name"}}),r("br"),r("q-btn",{attrs:{type:"submit",color:"positive",label:"Agregar"}})],1)],1)],1),r("div",{staticClass:"col-md-4"})]),r("br"),r("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.data,columns:e.columns,"row-key":"name",title:"Variables",filter:e.filter},scopedSlots:e._u([{key:"body",fn:function(t){return[r("q-tr",{attrs:{props:t}},[r("q-td",{key:"id",attrs:{props:t}},[e._v("\n                            "+e._s(t.row.id)+"\n                        ")]),r("q-td",{key:"name",attrs:{props:t}},[e._v("\n                            "+e._s(t.row.name)+"\n                        ")]),"project"===e.mode?r("q-td",{key:"ops",attrs:{props:t}},[r("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(r){return e.$emit("add",t.row)}}},[r("q-icon",{attrs:{size:"md",name:"add"}}),r("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("asociar")])],1)]):r("q-td",{key:"ops",attrs:{props:t}},[r("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(r){return e.goTo("var/"+t.row.id)}}},[r("q-icon",{attrs:{size:"md",name:"edit"}}),r("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("editar")])],1),r("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(r){return e.del(t.row.id)}}},[r("q-icon",{attrs:{size:"md",name:"delete"}}),r("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("eliminar")])],1)])],1)]}},{key:"top-right",fn:function(){return[r("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])})],1),r("div",{staticClass:"col-1"})])])},_e=[],je={addVar:function(e){return Object(Z["a"])().post("var",e,{headers:{Authorization:e.token}})},modifyVar:function(e){return Object(Z["a"])().post("var/"+e.id,e,{headers:{Authorization:e.token}})},deleteVar:function(e){return Object(Z["a"])().delete("var/"+e.id,{headers:{Authorization:e.token}})},getVars:function(e){return Object(Z["a"])().get("vars",{headers:{Authorization:e.token}})},getVarsByProject:function(e){return Object(Z["a"])().get("vars-project/"+e.id,{headers:{Authorization:e.token}})},getVar:function(e){return Object(Z["a"])().get("var/"+e.id,{headers:{Authorization:e.token}})}},Se={name:"vars-component",mixins:[l["a"]],props:["mode"],data:function(){return{filter:"",variable:{},columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],data:[]}},mounted:function(){this.getVars()},methods:{save:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.variable.token=localStorage.getItem("token"),e.activateLoading("Cargando"),t.next=5,je.addVar(e.variable);case 5:r=t.sent,201===r.status&&(e.variable={},e.alert("positive","Variable agregada correctamente"),e.getVars()),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),422===t.t0.status?e.alert("negative","Ya existe una variable con ese nombre"):e.alert("negative","Error al agregar una variable");case 12:e.disableLoading();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getVars:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,je.getVars({token:localStorage.getItem("token")});case 3:r=t.sent,e.data=r.data.vars,e.disableLoading();case 6:case"end":return t.stop()}}),t)})))()},del:function(e){var t=this;return i()(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.activateLoading("Cargando"),r.next=4,je.deleteVar({id:e,token:localStorage.getItem("token")});case 4:a=r.sent,200===a.status&&(t.getVars(),t.alert("positive","Eliminado correctamente")),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()}}},Re=Se,Qe=r("0378"),Ie=Object(p["a"])(Re,qe,_e,!1,null,null,null),Oe=Ie.exports;b()(Ie,"components",{QForm:Qe["a"],QInput:O["a"],QIcon:f["a"],QBtn:$["a"],QTable:T["a"],QTr:M["a"],QTd:B["a"],QTooltip:A["a"]});var Ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[r("q-card",{staticClass:"q-dialog-plugin container"},[r("div",{staticClass:"text-h6"},[e._v("Máximos y mínimos")]),r("q-separator"),r("q-input",{attrs:{type:"number",color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Máximo"},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"flip_to_front",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.max,callback:function(t){e.$set(e.variable,"max",t)},expression:"variable.max"}}),r("q-input",{attrs:{type:"number",color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Mínimo"},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"flip_to_back",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.min,callback:function(t){e.$set(e.variable,"min",t)},expression:"variable.min"}}),r("div",{staticClass:"text-h6"},[e._v("Razón por tomar valor fuera de rango")]),r("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.variable.razon_outrange,callback:function(t){e.$set(e.variable,"razon_outrange",t)},expression:"variable.razon_outrange"}}),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:e.onOKClick}}),r("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},Pe=[],$e=r("fb3d"),Le=r.n($e),De={mixins:[l["a"]],data:function(){return{variable:{},editor:Le.a,editorConfig:{}}},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.$emit("ok",this.variable),this.hide()},onCancelClick:function(){this.hide()}}},Ve=De,ze=Object(p["a"])(Ve,Ee,Pe,!1,null,null,null),Ae=ze.exports;b()(ze,"components",{QDialog:R["a"],QCard:Q["a"],QSeparator:I["a"],QInput:O["a"],QIcon:f["a"],QCardActions:P["a"],QBtn:$["a"]});var Te={name:"project-component",mixins:[l["a"]],components:{VarsComponent:Oe,UsersComponent:F},props:[],data:function(){return{id:this.$route.params.id,project:{},columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"max",align:"center",label:"Maximo",field:"max",sortable:!0},{name:"min",align:"center",label:"Minimo",field:"min",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],columnsEngineers:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],data:[],dataEngineers:[],dialog:!1,dialogEngineers:!1}},mounted:function(){this.getVarInfo()},methods:{getVarInfo:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,ee.getProject({id:e.id,token:localStorage.getItem("token")});case 4:return r=t.sent,e.project=r.data.project,t.next=8,xe.getVariablesByProject({id:e.id,token:localStorage.getItem("token")});case 8:return a=t.sent,e.data=a.data.variablesprojects,t.next=12,Ce.getEngineersByProject({id:e.id,token:localStorage.getItem("token")});case 12:n=t.sent,e.dataEngineers=n.data.engineerProject,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.log(t.t0);case 19:e.disableLoading();case 20:case"end":return t.stop()}}),t,null,[[0,16]])})))()},assocVar:function(){this.dialog=!0},assocEngineer:function(){this.dialogEngineers=!0},add:function(e){var t=this;return i()(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.dialog=!1,t.$q.dialog({component:Ae,parent:t}).onOk(function(){var r=i()(regeneratorRuntime.mark((function r(a){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.token=localStorage.getItem("token"),a.idproyecto=t.id,a.idvariable=e.id,r.prev=3,t.activateLoading("Cargando"),r.next=7,xe.newVariablesProjects(a);case 7:n=r.sent,201===n.status&&(t.getVarInfo(),t.alert("positive","Variables agregadas exitosamente")),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](3),t.alert("negative","Se ha presentado un error al agregar las variables");case 14:t.disableLoading();case 15:case"end":return r.stop()}}),r,null,[[3,11]])})));return function(e){return r.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}));case 2:case"end":return r.stop()}}),r)})))()},addengineer:function(e){var t=this;return i()(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.dialogEngineers=!1,a={},a.token=localStorage.getItem("token"),a.idproyecto=t.id,a.idingeniero=e.id,r.prev=5,t.activateLoading("Cargando"),r.next=9,Ce.newEngineerProject(a);case 9:n=r.sent,201===n.status&&(t.getVarInfo(),t.alert("positive","Ingeniero agregado exitosamente")),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](5),t.alert("negative","Se ha presentado un error al agregar el ingeniero");case 16:t.disableLoading();case 17:case"end":return r.stop()}}),r,null,[[5,13]])})))()},del:function(e){var t=this;return i()(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.activateLoading("Cargando"),r.next=4,xe.deleteVarProject({id:e,token:localStorage.getItem("token")});case 4:a=r.sent,200===a.status&&(t.getVarInfo(),t.alert("positive","Eliminado correctamente")),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},deleteEngineer:function(e){var t=this;return i()(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.activateLoading("Cargando"),r.next=4,Ce.deleteEngineerProjectById({id:e,token:localStorage.getItem("token")});case 4:a=r.sent,200===a.status&&(t.getVarInfo(),t.alert("positive","Eliminado correctamente")),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()}}},Me=Te,Be=(r("eabc"),Object(p["a"])(Me,ye,we,!1,null,"4ae5592d",null)),He=Be.exports;b()(Be,"components",{QSeparator:I["a"],QBtn:$["a"],QTooltip:A["a"],QTable:T["a"],QTr:M["a"],QTd:B["a"],QIcon:f["a"],QDialog:R["a"],QCard:Q["a"],QCardSection:ie["a"]});var Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10 container"},[r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"account_circle",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.name,callback:function(t){e.$set(e.variable,"name",t)},expression:"variable.name"}}),r("center",[r("q-btn",{attrs:{label:"Guardar",color:"primary"},on:{click:e.save}})],1)],1),r("div",{staticClass:"col-1"})])])},Ue=[],Ye={name:"var-component",mixins:[l["a"]],props:[],data:function(){return{id:this.$route.params.id,variable:{}}},mounted:function(){this.getVarInfo()},methods:{getVarInfo:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,je.getVar({id:e.id,token:localStorage.getItem("token")});case 4:r=t.sent,e.variable=r.data.var,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:e.disableLoading();case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},save:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.variable,r.token=localStorage.getItem("token"),e.activateLoading("Cargando"),t.next=6,je.modifyVar(r);case 6:a=t.sent,200===a.status&&e.alert("positive","Guardado correctamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.alert("negative","Se registro un fallo al guardar");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},Ne=Ye,Ge=Object(p["a"])(Ne,Fe,Ue,!1,null,null,null),Ke=Ge.exports;b()(Ge,"components",{QInput:O["a"],QIcon:f["a"],QBtn:$["a"]});var Je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10 container"},[r("FullCalendar",{ref:"calendar",attrs:{events:e.events,config:e.config}}),r("br"),r("center",[e.user.rank>1?r("q-btn",{attrs:{label:"Crear reporte",color:"primary"},on:{click:e.newReport}}):e._e()],1),r("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogProjects,callback:function(t){e.dialogProjects=t},expression:"dialogProjects"}},[r("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[r("q-card-section",[r("projects-component",{attrs:{mode:"select"},on:{selectproject:e.selectProject}})],1)],1)],1)],1),r("div",{staticClass:"col-1"})])])},We=[],Xe={createReport:function(e){return Object(Z["a"])().post("report",e,{headers:{Authorization:e.token}})},getReportById:function(e){return Object(Z["a"])().get("report/"+e.id,{headers:{Authorization:e.token}})},getReports:function(e){return Object(Z["a"])().get("reports",{headers:{Authorization:e.token}})},deleteReport:function(e){return Object(Z["a"])().delete("report/"+e.id,{headers:{Authorization:e.token}})},editReport:function(e){return Object(Z["a"])().post("modify_report/",e,{headers:{Authorization:e.token}})}},Ze=(r("6e7b"),r("25cc")),et={name:"reports-component",mixins:[l["a"]],components:{FullCalendar:Ze["a"],ProjectsComponent:ke},props:["user"],data:function(){return{events:[],config:{},dialogProjects:!1}},created:function(){this.getCalendarInfo(),this.getReports()},methods:{getReports:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,Xe.getReports({token:localStorage.getItem("token")});case 3:for(r=t.sent,e.disableLoading(),a=r.data.reports,n=0;n<a.length;n++)o={title:a[n].name,start:a[n].fecha,_id:a[n].id},e.events.push(o);case 7:case"end":return t.stop()}}),t)})))()},getCalendarInfo:function(){var e=this,t={months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],daysLong:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],days:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],today:"Hoy",month:"Mes",week:"Semana",day:"Día",list:"Lista"};this.config={defaultView:"month",editable:!1,displayEventTime:!1,header:{left:"prev,today,next",right:"month,listMonth,basicWeek,basicDay"},buttonText:{today:t.today,month:t.month,week:t.week,day:t.day,listMonth:t.list},allDayDefault:!0,height:"auto",monthNames:t.months,monthNamesShort:t.monthsShort,dayNames:t.daysLong,dayNamesShort:t.days,eventTextColor:"white",eventClick:function(t){e.goTo("report/"+t._id)},eventMouseover:function(e,t,r){},eventMouseout:function(e,t,r){}}},newReport:function(){this.dialogProjects=!0},selectProject:function(e){this.goTo("new-report/"+e)}}},tt=et,rt=(r("31d6"),Object(p["a"])(tt,Je,We,!1,null,"e222d258",null)),at=rt.exports;b()(rt,"components",{QBtn:$["a"],QDialog:R["a"],QCard:Q["a"],QCardSection:ie["a"]});var nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10 container"},[r("div",{staticClass:"text-h6"},[e._v("\n                Crear informe\n            ")]),r("q-form",{on:{submit:e.save}},[e._l(e.vars,(function(t){return r("div",{key:t.id},[r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:"number",label:t.name},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"variable.value"}})],1)})),r("q-separator"),r("div",{staticClass:"text-h6"},[e._v("Observacion:")]),r("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}}),e.user.rank>1?r("q-btn",{staticClass:"right",attrs:{round:"",type:"submit",color:"primary",icon:"save"}}):e._e()],2)],1),r("div",{staticClass:"col-1"})])])},ot=[],it=r("bd4c"),st={name:"user-component",mixins:[l["a"]],props:["user"],data:function(){return{id:this.$route.params.id,vars:[],editor:Le.a,observacion:"",editorConfig:{}}},mounted:function(){this.getVarsByProject()},methods:{getVarsByProject:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,xe.getVariablesByProject({id:e.id,token:localStorage.getItem("token")});case 4:r=t.sent,e.vars=r.data.variablesprojects,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:e.disableLoading();case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},save:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={variables:e.vars,token:localStorage.getItem("token"),observacion:e.observacion,idproyecto:e.id,fecha:it["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss")},t.prev=1,e.activateLoading("Cargando"),t.next=5,Xe.createReport(r);case 5:a=t.sent,201===a.status?(e.alert("positive","Reporte generado exitosamente"),e.goTo("reports")):e.alert("warning","Reporte creado, correo no enviado."),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),e.alert("negative","Ha ocurrido un error");case 12:e.disableLoading();case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}},ct=st,lt=Object(p["a"])(ct,nt,ot,!1,null,null,null),ut=lt.exports;b()(lt,"components",{QForm:Qe["a"],QInput:O["a"],QSeparator:I["a"],QBtn:$["a"]});var dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10 container"},[r("div",{staticClass:"text-h6"},[e._v("Reporte #"+e._s(e.id))]),r("div",{staticClass:"text-h8"},[e._v("Proyecto: "+e._s(e.report.name))]),r("div",{staticClass:"text-h8"},[e._v("Cliente: "+e._s(e.report.cliente_name))]),r("q-separator"),e._l(e.report.variables,(function(t){return r("div",{key:t.id},[r("q-input",{attrs:{type:"number",color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:t.name,disable:e.user.rank<2},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"variable.value"}})],1)})),r("div",{staticClass:"text-h6"},[e._v("Observacion:")]),r("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.report.observacion,callback:function(t){e.$set(e.report,"observacion",t)},expression:"report.observacion"}}),e.user.rank>1?r("q-btn",{attrs:{flat:"",color:"primary"},on:{click:e.editReport}},[e._v("\n              Editar\n            ")]):e._e(),e.user.rank>1?r("q-btn",{attrs:{flat:"",color:"negative"},on:{click:e.deleteReport}},[e._v("\n              Eliminar\n            ")]):e._e()],2),r("div",{staticClass:"col-1"})])])},pt=[],mt={name:"report-component",mixins:[l["a"]],props:["user"],data:function(){return{id:this.$route.params.id,report:{},editor:Le.a,editorConfig:{}}},created:function(){this.getReportInfo()},methods:{getReportInfo:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,Xe.getReportById({id:e.id,token:localStorage.getItem("token")});case 3:r=t.sent,e.report=r.data.report,e.disableLoading();case 6:case"end":return t.stop()}}),t)})))()},deleteReport:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,Xe.deleteReport({id:e.id,token:localStorage.getItem("token")});case 4:r=t.sent,200===r.status&&(e.alert("positive","Eliminado correctamente"),e.goTo("reports")),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.alert("negative","Se presentó un error");case 11:e.disableLoading();case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},editReport:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),e.report.token=localStorage.getItem("token"),t.next=5,Xe.editReport(e.report);case 5:r=t.sent,200===r.status&&(e.alert("positive","Actualizado correctamente"),e.goTo("reports")),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.alert("negative","Se presentó un error");case 12:e.disableLoading();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},gt=mt,ft=Object(p["a"])(gt,dt,pt,!1,null,null,null),vt=ft.exports;b()(ft,"components",{QSeparator:I["a"],QInput:O["a"],QBtn:$["a"]});var ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10 container"},[void 0===e.idproject||""===e.idproject?r("q-btn",{staticClass:"full-width",attrs:{color:"primary",outline:"",label:"Seleccionar proyecto",icon:"add"},on:{click:e.addProject}}):r("q-btn",{staticClass:"full-width",attrs:{color:"primary",outline:"",label:"Cambiar proyecto",icon:"edit"},on:{click:e.addProject}}),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",label:"Desde",required:"",rules:[function(e){return!!e||"Tienes que llenar este campo"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"event"}},[r("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"access_time"}},[r("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)],1)]},proxy:!0}]),model:{value:e.from,callback:function(t){e.from=t},expression:"from"}}),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",label:"Hasta",required:"",rules:[function(e){return!!e||"Tienes que llenar este campo"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"event"}},[r("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"access_time"}},[r("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1)]},proxy:!0}]),model:{value:e.to,callback:function(t){e.to=t},expression:"to"}}),r("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Generar grafica"},on:{click:function(t){return e.validateForm([e.idproject],e.generarGraficas)}}}),e._l(e.graphics,(function(t,a){return r("div",{key:t.id},[r("highcharts",{attrs:{options:e.getChartOptions(a)}}),r("br"),r("analisis-grafica-component",{attrs:{values:t}}),r("br"),r("q-separator")],1)})),r("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[r("q-card-section",[r("projects-component",{attrs:{mode:"select"},on:{selectproject:e.selectProject}})],1)],1)],1)],2),r("div",{staticClass:"col-1"})])])},bt=[],kt=r("4452"),yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md box"},[r("div",{staticClass:"text-h5"},[e._v("Analisis de gráfica")]),r("div",{staticClass:"text-h6"},[e._v("Fechas dónde la variable estuvo fuera de rango:")]),e._l(e.reportsOutRange,(function(t,a){return r("ul",{key:a},[r("li",[e._v("Fecha: "+e._s(t.fecha))])])})),r("b",[e._v("Razon:")]),r("div",{domProps:{innerHTML:e._s(e.razon_outrange)}}),r("q-separator"),r("div",{staticClass:"text-h6"},[e._v("Observaciones en los reportes:")]),e._l(e.values,(function(t,a){return r("q-timeline",{key:a,attrs:{color:"orange"}},[t.observacion?r("q-timeline-entry",{attrs:{subtitle:t.fecha+", "+t.ingeniero,side:"left"}},[r("div",{domProps:{innerHTML:e._s(t.observacion)}})]):e._e()],1)}))],2)},wt=[],xt=(r("e260"),r("d3b7"),r("ddb0"),{name:"analisis-graficas-component",mixins:[l["a"]],props:["values"],data:function(){return{reportsOutRange:[],razon_outrange:""}},mounted:function(){this.getReportsOutRange()},methods:{getReportsOutRange:function(){for(var e=0;e<this.values.length;e++)(this.values[e].value>this.values[e].max||this.values[e].value<this.values[e].min)&&(this.reportsOutRange.push(this.values[e]),this.razon_outrange=this.values[e].razon_outrange)}}}),Ct=xt,qt=r("05eb"),_t=r("74af"),jt=Object(p["a"])(Ct,yt,wt,!1,null,null,null),St=jt.exports;b()(jt,"components",{QSeparator:I["a"],QTimeline:qt["a"],QTimelineEntry:_t["a"]});var Rt={getStats:function(e){return Object(Z["a"])().post("getstats",e,{headers:{Authorization:e.token}})}},Qt={name:"graphics-component",mixins:[l["a"]],props:["mode"],components:{highcharts:kt["Chart"],ProjectsComponent:ke,AnalisisGraficaComponent:St},data:function(){return{idproject:"",dialog:!1,generar:!1,from:it["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss"),to:it["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss"),graphics:[]}},methods:{generarGraficas:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.generar=!0,r={},r.idproyecto=e.idproject,r.token=localStorage.getItem("token"),r.from=e.from,r.to=e.to,e.activateLoading("Cargando"),t.next=9,Rt.getStats(r);case 9:a=t.sent,e.disableLoading(),e.graphics=a.data.statics,e.getVars(e.graphics);case 13:case"end":return t.stop()}}),t)})))()},selectProject:function(e){var t=this;return i()(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.idproject=e,t.dialog=!1;case 2:case"end":return r.stop()}}),r)})))()},addProject:function(){this.dialog=!0},getChartOptions:function(e){return this.getChar(e)}}},It=Qt,Ot=r("7cbe"),Et=r("52ee"),Pt=r("ca78"),$t=Object(p["a"])(It,ht,bt,!1,null,null,null),Lt=$t.exports;b()($t,"components",{QBtn:$["a"],QInput:O["a"],QIcon:f["a"],QPopupProxy:Ot["a"],QDate:Et["a"],QTime:Pt["a"],QSeparator:I["a"],QDialog:R["a"],QCard:Q["a"],QCardSection:ie["a"]});var Dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-10 container"},[r("div",{staticClass:"text-h4"},[e._v("Bienvenido, "+e._s(e.user.name)+".")]),r("br"),e._v("\n            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit ducimus doloribus rerum necessitatibus, earum cupiditate voluptatibus eligendi architecto libero. Placeat ipsum ipsa atque minima fugit similique est a, quidem eligendi.\n            "),r("br"),r("q-separator"),r("br"),r("center",[r("q-btn",{attrs:{label:"Activar tour",color:"primary"},on:{click:e.startTour}})],1)],1),r("div",{staticClass:"col-1"})])])},Vt=[],zt={name:"home-component",mixins:[l["a"]],props:["user"],data:function(){return{}},mounted:function(){},methods:{startTour:function(){this.$emit("tour")}}},At=zt,Tt=Object(p["a"])(At,Dt,Vt,!1,null,null,null),Mt=Tt.exports;b()(Tt,"components",{QSeparator:I["a"],QBtn:$["a"]});var Bt=[{title:"Inicio",icon:"home",link:"home",minRank:1},{title:"Usuarios",icon:"business",link:"users",minRank:3},{title:"Proyectos",icon:"library_books",link:"projects",minRank:3},{title:"Variables",icon:"description",link:"vars",minRank:3},{title:"Informes",icon:"article",link:"reports",minRank:1},{title:"Graficas",icon:"analytics",link:"graphics",minRank:1},{title:"Formulas",icon:"calculate",link:"calculate",minRank:2}],Ht={name:"MainLayout",components:{EssentialLink:y,UsersComponent:F,UserComponent:J,ProjectsComponent:ke,ProjectComponent:He,HomeComponent:Mt,VarsComponent:Oe,VarComponent:Ke,ReportsComponent:at,NewReportComponent:ut,ReportComponent:vt,GraphicsComponent:Lt},mixins:[l["a"]],data:function(){return{leftDrawerOpen:!1,essentialLinks:Bt,user:{},steps:[{target:"#home",header:{title:"Hola!"},content:"Acá es dónde te encuentras actualmente, normalmente, se va demarcar con fondo blanco la sección activa."},{target:"#users",overlay:"#users",header:{title:"Sección de Usuarios"},content:"En este apartado puedes agregar clientes, ingenieros y administradores.",params:{placement:"bottom"}}]}},props:["view"],mounted:function(){this.verifySession()},methods:{verifySession:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,C["a"].getMyUser({token:localStorage.getItem("token")});case 4:r=t.sent,e.user=r.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.goTo("login");case 11:e.disableLoading();case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},activateTour:function(){!1===this.leftDrawerOpen&&(this.leftDrawerOpen=!0),this.$tours.myTour.start()}}},Ft=Ht,Ut=(r("ed3d"),r("4d5a")),Yt=r("e359"),Nt=r("65c6"),Gt=r("6ac5"),Kt=r("9404"),Jt=r("1c1c"),Wt=r("09e3"),Xt=Object(p["a"])(Ft,a,n,!1,null,"9e6504e8",null);t["default"]=Xt.exports;b()(Xt,"components",{QLayout:Ut["a"],QHeader:Yt["a"],QToolbar:Nt["a"],QBtn:$["a"],QToolbarTitle:Gt["a"],QDrawer:Kt["a"],QImg:he["a"],QList:Jt["a"],QPageContainer:Wt["a"]})},"87af":function(e,t,r){"use strict";var a=r("3bd4"),n=r.n(a);n.a},"9f21":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r("cf57"),n=r("4515"),o={data:function(){return{graphics:{}}},methods:{getVars:function(e){this.graphics=e},validateForm:function(e,t){for(var r=!0,a=0;a<e.length;a++)void 0!==e[a]&&null!==e[a]&&""!==e[a]||(r=!1);return r?t():this.alert("warning","Faltan campos por rellenar"),r},getImgUrl:function(e){return"http://extranet.exro.co:8082/v1/"+e},goTo:function(e){this.$router.push("/"+e).catch((function(e){e._name}))},alert:function(e,t){this.$q.notify({position:"top",message:t,color:e})},getToken:function(e){var t=e.token_type+" "+e.token;return t},getRankById:function(e){var t="Usuario";return 1===e?t="Cliente":2===e?t="Ingeniero":3===e&&(t="Administrador"),t},getRankByName:function(e){var t=0;return"Cliente"===e?t=1:"Ingeniero"===e?t=2:"Administrador"===e&&(t=3),t},activateLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={message:e};1===t?r.spinner=a["a"]:2===t&&(r.spinner=n["a"]),this.$q.loading.show(r)},disableLoading:function(){this.$q.loading.hide()},getChar:function(e){var t={exporting:{buttons:{contextButton:{menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","downloadCSV"]}}},lang:{downloadPDF:"Descargar PDF",downloadPNG:"Descargar PNG",downloadJPEG:"Descargar JPEG",downloadSVG:"Descargar SVG",downloadCSV:"Descargar EXCEL",printChart:"Imprimir gráfica",viewFullscreen:"Ver en pantalla completa",categories:"Fechas",category:"Fecha"},chart:{type:"line"},title:{text:e},xAxis:{categories:this.getFechas(e)},yAxis:{title:{text:"Valor"}},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!1},area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#E9BC36"]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:[{name:"Minimo",data:this.getMins(e),color:"#21ba45"},{name:"Maximo",data:this.getMaxs(e),color:"#0080DD"},{name:"Reportes",data:this.getValues(e),color:"#E9BC36"}]};return t},getFechas:function(e){for(var t=[],r=0;r<this.graphics[e].length;r++)t.push(this.graphics[e][r].fecha);return t},getValues:function(e){for(var t=[],r=0;r<this.graphics[e].length;r++)t.push(this.graphics[e][r].value);return t},getMins:function(e){for(var t=[],r=0;r<this.graphics[e].length;r++)t.push(this.graphics[e][r].min);return t},getMaxs:function(e){for(var t=[],r=0;r<this.graphics[e].length;r++)t.push(this.graphics[e][r].max);return t}}}},a0ee:function(e,t,r){},a891:function(e,t,r){},b066:function(e,t,r){},b688:function(e,t,r){},c3e7:function(e,t,r){e.exports=r.p+"img/profile.56d6b32a.png"},cafc:function(e,t,r){"use strict";var a=r("b688"),n=r.n(a);n.a},e157:function(e,t,r){},eabc:function(e,t,r){"use strict";var a=r("e157"),n=r.n(a);n.a},ed3d:function(e,t,r){"use strict";var a=r("a891"),n=r.n(a);n.a},fec6:function(e,t,r){"use strict";var a=r("a0ee"),n=r.n(a);n.a}}]);