(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"1dbe":function(e,t,a){"use strict";var o=a("3c05"),r=a.n(o);r.a},2623:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"content"},[a("center",[a("div",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.formName)+"\n      ")])]),a("div",{staticClass:"row"},e._l(e.tables,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("div",{staticClass:"table"},[a("div",{staticClass:"box",staticStyle:{padding:"5px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b",[e._v(e._s(t.name))])])]),e._l(t.fields,(function(t){return a("div",{key:t.id,staticClass:"row"},[a("div",{staticClass:"col-6"},[e._v(e._s(t.name))]),a("div",{staticClass:"col-6"},["Nombre del producto"===t.name?a("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"full-width full-height",style:t.color+"; text-align: center",on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"value",a.target.multiple?o:o[0])}}},[a("option",{attrs:{value:"EXRO 614"}},[e._v("EXRO 614")]),a("option",{attrs:{value:"EXRO 633"}},[e._v("EXRO 663")])]):""!==t.name?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"full-width full-height",style:t.color+"; text-align: center",attrs:{type:"text",readonly:"background-color:yellow"===t.color},domProps:{value:t.value},on:{keypress:function(a){return e.validar(t.value,t.conditions,a)},input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}}):a("br")])])}))],2)])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("br"),a("div",{staticClass:"form__buttons"},[a("q-btn",{attrs:{color:"black",label:"Exportar PDF"},on:{click:e.printPDF}})],1),a("br"),e.showInterpretacion?a("div",{staticClass:"container"},[a("div",{staticClass:"text-h6"},[e._v("Interpretación del RYZNAR")]),e._v("\n          "+e._s(e.interpretacion)+"\n        ")]):e._e(),a("br"),e.showInterpretacion?a("div",{staticClass:"container"},[a("div",{staticClass:"text-h6"},[e._v("Productos sugeridos")]),e._l(e.products,(function(t){return a("ul",{key:t.id},[a("li",[e._v(e._s(t.name))])])})),a("b",[e._v("NOTA:")]),e._v(" Acorde a la caracterizacion fisicoquimica del agua, se pueden encontrar situaciones donde se requieran 2 productos ( Inhibidor de corrosion y dispersante) o un producto multifuncional  independientemente del indice de Ryznar\n        ")],2):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticStyle:{"text-align":"justify"},domProps:{innerHTML:e._s(e.configuration.messageCalculate)}})])])],1)},r=[],n=a("9f21"),i=a("8baf"),s=a("70b0"),l=a.n(s),c={props:["configuration"],name:"form-3-component",mixins:[n["a"]],data:function(){return{formName:"Polimeros - Aplicaciones Industriales",interpretacion:"",showInterpretacion:!1,products:[],tables:[{id:1,name:"Coagulantes u otros Productos liquidos",fields:[{id:1,name:"Nombre del producto",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Densidad Producto Puro gr/ml",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Concentracion Deseada",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Cantidad Sln Requerida x litro",value:"",color:"background-color:#A2CCFA"},{id:5,name:"Volumen producto puro",value:"",color:"background-color:yellow"}]},{id:2,name:"Floculantes u otros productos granulares",fields:[{id:1,name:"Nombre del producto",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Concentracion Deseada",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Cantidad Sln Requerida x litro",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Peso de Producto Puro",value:"",color:"background-color:yellow"}]},{id:3,name:"Coagulantes u otros Productos liquidos",fields:[{id:1,name:"Concentracion Sln mg P Puro / ml Sln",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Dosis deseada mg P / Litro AT",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Caudal de Agua a Tratar Litro AT / Seg",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Aforo de la Sln a dosificar (Caudal bomba)",value:"",color:"background-color:yellow"}]},{id:4,name:"Floculantes u otros productos granulares",fields:[{id:1,name:"Concentracion Sln mg P Puro / ml Sln",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Dosis deseada mg P / Litro AT",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Caudal de Agua a Tratar Litro AT / Seg",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Aforo de la Sln a dosificar (Caudal bomba)",value:"",color:"background-color:yellow"}]}]}},updated:function(){this.volumenProductoPuro(),this.pesoProductoPuro(),this.caudalBomba1(),this.caudalBomba2()},mounted:function(){this.volumenProductoPuro(),this.pesoProductoPuro(),this.caudalBomba1(),this.caudalBomba2()},methods:{isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},validar:function(e,t,a){var o=a.target.value+a.key;"-"===a.key||this.isNumber(o)||a.preventDefault(),t&&(t.min&&o<t.min?(this.alert("negative","No puedes colocar un valor menor que "+t.min),a.preventDefault()):t.max&&o>t.max&&(this.alert("negative","No puedes colocar un valor mayor que "+t.max),a.preventDefault()))},volumenProductoPuro:function(){this.tables[0].fields[4].value=Math.round(this.tables[0].fields[3].value*(10*this.tables[0].fields[2].value)/(1e3*this.tables[0].fields[1].value)*100)/100},pesoProductoPuro:function(){this.tables[1].fields[3].value=this.tables[1].fields[2].value*(10*this.tables[1].fields[1].value)},caudalBomba1:function(){this.tables[2].fields[3].value=this.tables[2].fields[1].value*this.tables[2].fields[2].value/(10*this.tables[2].fields[0].value)},caudalBomba2:function(){this.tables[3].fields[3].value=this.tables[3].fields[2].value*this.tables[3].fields[1].value/(10*this.tables[3].fields[0].value)},getInterpretacion:function(){this.showInterpretacion=!0;var e="";this.tables[2].fields[13].value>=4&&this.tables[2].fields[13].value<5&&(e="Fuertemente incrustante"),this.tables[2].fields[13].value>=5&&this.tables[2].fields[13].value<6&&(e="Ligeramente Incrustante"),this.tables[2].fields[13].value>=6&&this.tables[2].fields[13].value<7&&(e="Ligeramente incriustante o corrosiva"),this.tables[2].fields[13].value>=7&&this.tables[2].fields[13].value<7.5&&(e="Ligeramente corrosiva"),this.tables[2].fields[13].value>=7.5&&this.tables[2].fields[13].value<=9&&(e="Fuertetemente corrosiva"),this.tables[2].fields[13].value>9&&(e="Intolerable corrosion"),this.interpretacion=e,this.getProducts()},getProducts:function(){this.tables[2].fields[13].value<4&&(this.products=[{id:1,name:"EXRO 774"},{id:2,name:"EXRO 764"}]),this.tables[2].fields[13].value>=4&&this.tables[2].fields[13].value<5&&(this.products=[{id:1,name:"EXRO 724"},{id:2,name:"EXRO 760"}]),this.tables[2].fields[13].value>=5&&this.tables[2].fields[13].value<6&&(this.products=[{id:1,name:"EXRO 760"},{id:2,name:"EXRO 771"},{id:3,name:"EXRO 770"}]),this.tables[2].fields[13].value>=6&&this.tables[2].fields[13].value<7&&(this.products=[{id:1,name:"Inhibidor de corrosion + dispersante"},{id:2,name:"EXRO  726"},{id:3,name:"EXRO  717"}]),this.tables[2].fields[13].value>=7&&"Anodica"===this.tables[3].fields[12].value&&(this.products=[{id:1,name:"EXRO  718"},{id:2,name:"EXRO  721"},{id:3,name:"EXRO  725"},{id:4,name:"EXRO  725L"}]),this.tables[2].fields[13].value>=7&&"Catodica"===this.tables[3].fields[12].value&&(this.products=[{id:3,name:"EXRO  725"},{id:4,name:"EXRO  725L"}]),this.tables[2].fields[13].value>=7&&"Mixta"===this.tables[3].fields[12].value&&(this.products=[{id:1,name:"EXRO  726"},{id:2,name:"EXRO  717"},{id:3,name:"EXRO  725"},{id:4,name:"EXRO  725L"}])},printPDF:function(){document.getElementsByClassName("form__buttons")[0].style.display="none",l.a.toPng(this.$refs.content).then((function(e){var t=new Image;t.src=e;var a=new i["a"]({}),o=a.internal.pageSize.getWidth(),r=a.internal.pageSize.getHeight();a.addImage(t,"JPEG",0,0,o,r);var n="form.pdf";a.save(n),document.getElementsByClassName("form__buttons")[0].style.display="block"})).catch((function(e){console.error("oops, something went wrong!",e)}))}}},d=c,u=(a("ad3e"),a("2877")),m=a("9c40"),p=a("eebe"),v=a.n(p),f=Object(u["a"])(d,o,r,!1,null,"bd1ef55a",null);t["default"]=f.exports;v()(f,"components",{QBtn:m["a"]})},"35ca":function(e,t,a){"use strict";var o=a("758b");t["a"]={login:function(e){return Object(o["a"])().post("login",e)},recovery:function(e){return Object(o["a"])().post("recovery",e)},changePassword:function(e){return Object(o["a"])().post("changepassword",e)},register:function(e){return Object(o["a"])().post("register",e,{headers:{Authorization:e.token}})},registerChildren:function(e){return Object(o["a"])().post("register-children",e,{headers:{Authorization:e.token}})},getUser:function(e){return Object(o["a"])().get("user/"+e.id,{headers:{Authorization:e.token}})},modifyUser:function(e){return Object(o["a"])().post("user/"+e.id,e,{headers:{Authorization:e.token}})},deleteUser:function(e){return Object(o["a"])().delete("user/"+e.id,{headers:{Authorization:e.token}})},getMyUser:function(e){return Object(o["a"])().get("my-user",{headers:{Authorization:e.token}})},getUsers:function(e){return Object(o["a"])().get("users",{headers:{Authorization:e.token}})},getChildrens:function(e){return Object(o["a"])().get("users-childrens",{headers:{Authorization:e.token}})},getClients:function(e){return Object(o["a"])().get("clients",{headers:{Authorization:e.token}})},getEngineers:function(e){return Object(o["a"])().get("engineers",{headers:{Authorization:e.token}})},getTechnicals:function(e){return Object(o["a"])().get("technicals",{headers:{Authorization:e.token}})},getManagers:function(e){return Object(o["a"])().get("managers",{headers:{Authorization:e.token}})},getSupervisors:function(e){return Object(o["a"])().get("supervisors",{headers:{Authorization:e.token}})}}},"383a":function(e,t,a){},"3b72":function(e,t,a){var o={"./Form1":"a55c","./Form1.vue":"a55c","./Form2":"fe0d","./Form2.vue":"fe0d","./Form3":"2623","./Form3.vue":"2623","./Form4":"7925","./Form4.vue":"7925","./Form5":"9754","./Form5.vue":"9754","./Form6":"8014","./Form6.vue":"8014","./Form7":"828a","./Form7.vue":"828a"};function r(e){var t=n(e);return a(t)}function n(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=n,e.exports=r,r.id="3b72"},"3c05":function(e,t,a){},"4bb1":function(e,t,a){"use strict";var o=a("5a77"),r=a.n(o);r.a},"51a8":function(e,t,a){e.exports=a.p+"img/form7.96d82a3e.png"},"5a1c":function(e,t,a){},"5a77":function(e,t,a){},"5a90":function(e,t,a){"use strict";var o=a("b46b"),r=a.n(o);r.a},"5aa1":function(e,t,a){},"5d8b":function(e,t,a){"use strict";var o=a("9d40"),r=a.n(o);r.a},"62f2":function(e,t,a){"use strict";var o=a("c8d6"),r=a.n(o);r.a},"6b36":function(e,t,a){"use strict";var o=a("e0f1"),r=a.n(o);r.a},"6e7b":function(e,t,a){},"713b":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-layout",{attrs:{view:"lHh Lpr lFf"}},[o("q-header",{staticClass:"bg-white text-black",attrs:{elevated:""}},[o("q-toolbar",[o("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),o("q-toolbar-title",[o("q-img",{staticStyle:{width:"100px"},attrs:{src:a("cf05")}})],1),o("q-btn",{staticClass:"bg-primary",attrs:{color:"white",flat:"",round:"",dense:"",icon:"login"},on:{click:function(t){return e.goTo("logout")}}})],1)],1),o("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-white text-black"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[o("div",{staticClass:"box profile",attrs:{id:"v-step-0"}},[o("q-img",{staticStyle:{height:"100px",width:"100px"},attrs:{src:a("c3e7")}}),o("br"),e._v("\n      "+e._s(e.user.name)+"\n    ")],1),o("q-list",e._l(e.essentialLinks,(function(t){return o("EssentialLink",e._b({key:t.title,attrs:{view:e.view,rank:e.user.rank}},"EssentialLink",t,!1))})),1)],1),o("q-page-container",["home"===e.view?o("home-component",{attrs:{user:e.user},on:{tour:e.activateTour}}):e._e(),"users"===e.view?o("users-component"):e._e(),"user"===e.view?o("user-component"):e._e(),"clients"===e.view?o("clients-component"):e._e(),"projects"===e.view?o("projects-component"):e._e(),"projects-client"===e.view?o("projects-client-component"):e._e(),"project"===e.view?o("project-component",{attrs:{user:e.user}}):e._e(),"vars"===e.view?o("vars-component"):e._e(),"var"===e.view?o("var-component"):e._e(),"reports"===e.view?o("reports-component",{attrs:{user:e.user}}):e._e(),"new-report"===e.view?o("new-report-component",{attrs:{user:e.user}}):e._e(),"report"===e.view?o("report-component",{attrs:{user:e.user}}):e._e(),"graphics"===e.view?o("graphics-component"):e._e(),"calculate"===e.view?o("calculate-component"):e._e(),"calculate-form"===e.view?o("calculate-form-component"):e._e(),"logs"===e.view?o("logs-component"):e._e(),"settings"===e.view?o("settings-component"):e._e(),3===e.user.rank?o("v-tour",{attrs:{name:"myTour",steps:e.steps3}}):e._e(),2===e.user.rank?o("v-tour",{attrs:{name:"myTour",steps:e.steps2}}):e._e(),1===e.user.rank?o("v-tour",{attrs:{name:"myTour",steps:e.steps1}}):e._e()],1)],1)},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ranks.includes(e.rank)?a("q-item",{class:e.view===e.link?"marked":"",attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(t){return e.goTo(e.link)}}},[e.icon?a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1):e._e(),a("q-item-section",{attrs:{id:e.link}},[a("q-item-label",[e._v(e._s(e.title))]),a("q-item-label",{attrs:{caption:""}},[e._v("\n      "+e._s(e.caption)+"\n    ")])],1)],1):e._e()},i=[],s=a("9f21"),l={name:"EssentialLink",mixins:[s["a"]],props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""},view:{type:String,default:""},rank:{},ranks:{}}},c=l,d=(a("c664"),a("2877")),u=a("66e5"),m=a("4074"),p=a("0016"),v=a("0170"),f=a("eebe"),g=a.n(f),h=Object(d["a"])(c,n,i,!1,null,"b69bd566",null),b=h.exports;g()(h,"components",{QItem:u["a"],QItemSection:m["a"],QIcon:p["a"],QItemLabel:v["a"]});var C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text-h4"},[e._v("\n                    Usuarios\n                    "),a("div",{staticClass:"right"},[1===e.user.rank?a("q-btn",{attrs:{round:"",color:"positive",size:"md",icon:"add"},on:{click:e.createChildren}},[a("q-tooltip",[e._v("\n                            Agregar\n                        ")])],1):e.hasAccess([3],e.user)?a("q-btn",{attrs:{round:"",color:"positive",size:"md",icon:"add"},on:{click:e.createUser}},[a("q-tooltip",[e._v("\n                            Agregar\n                        ")])],1):e._e()],1)])]),a("br"),a("div",{staticClass:"row"},[a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.data,columns:e.columns,"row-key":"name",filter:e.filter},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                                "+e._s(t.row.id)+"\n                            ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                                "+e._s(t.row.name)+"\n                            ")]),a("q-td",{key:"email",attrs:{props:t}},[a("div",{staticClass:"text-pre-wrap"},[e._v(e._s(t.row.email))])]),a("q-td",{key:"rank",attrs:{props:t}},[e._v("\n                                "+e._s(e.getRankById(t.row.rank))+"\n                            ")]),"project"===e.mode?a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.$emit("add",t.row)}}},[a("q-icon",{attrs:{size:"md",name:"add"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("agregar")])],1)]):"engineer"===e.mode?a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.$emit("addengineer",t.row)}}},[a("q-icon",{attrs:{size:"md",name:"add"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("agregar")])],1)]):"technical"===e.mode?a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.$emit("addtechnical",t.row)}}},[a("q-icon",{attrs:{size:"md",name:"add"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("agregar")])],1)]):"manager"===e.mode?a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.$emit("addmanager",t.row)}}},[a("q-icon",{attrs:{size:"md",name:"add"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("agregar")])],1)]):"supervisor"===e.mode?a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.$emit("addsupervisor",t.row)}}},[a("q-icon",{attrs:{size:"md",name:"add"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("agregar")])],1)]):a("q-td",{key:"ops",attrs:{props:t}},[e.hasAccess([3],e.user)?a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.goTo("user/"+t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"edit"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("editar")])],1):e._e(),a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.del(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("eliminar")])],1)])],1)]}},{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",color:"grey-3","bg-color":"white","label-color":"primary",filled:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])})],1)]),a("div",{staticClass:"col-1"})])])},k=[],y=(a("96cf"),a("c973")),w=a.n(y),x=a("35ca"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin container"},[a("div",{staticClass:"text-h6"},[e._v("Registra un nuevo usuario")]),a("q-separator"),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"account_circle",color:"primary"}})]},proxy:!0}]),model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Email",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"mail",color:"primary"}})]},proxy:!0}]),model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:e.isPwd?"password":"text",label:"Clave",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{color:"primary",name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:e.isPwd2?"password":"text",label:"Confirmar clave",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{color:"primary",name:e.isPwd2?"visibility_off":"visibility"},on:{click:function(t){e.isPwd2=!e.isPwd2}}})]},proxy:!0}]),model:{value:e.user.passwordconfirm,callback:function(t){e.$set(e.user,"passwordconfirm",t)},expression:"user.passwordconfirm"}}),e.isChildren||e.isClient?e._e():a("q-select",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",options:e.options,label:"Tipo",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"check",color:"primary"}})]},proxy:!0}],null,!1,1708247963),model:{value:e.user.rank,callback:function(t){e.$set(e.user,"rank",t)},expression:"user.rank"}}),a("q-card-actions",{attrs:{align:"right"}},[e.isChildren||e.isClient?a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.user.name,e.user.email,e.user.password],e.onOKClick)}}}):a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.user.name,e.user.email,e.user.password,e.user.rank],e.onOKClick)}}}),a("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},q=[],A={mixins:[s["a"]],props:["isChildren","isClient"],data:function(){return{user:{},isPwd:!0,isPwd2:!0,options:["Cliente","Ingeniero","Administrador","Tecnico","Supervisor","Gerente"]}},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.user.password===this.user.passwordconfirm?(this.$emit("ok",this.user),this.hide()):this.alert("negative","Las claves no coinciden")},onCancelClick:function(){this.hide()}}},S=A,j=a("24e8"),E=a("f09f"),R=a("eb85"),P=a("27f9"),O=a("ddd8"),F=a("4b7e"),D=a("9c40"),I=Object(d["a"])(S,_,q,!1,null,null,null),T=I.exports;g()(I,"components",{QDialog:j["a"],QCard:E["a"],QSeparator:R["a"],QInput:P["a"],QIcon:p["a"],QSelect:O["a"],QCardActions:F["a"],QBtn:D["a"]});var Q={name:"users-component",mixins:[s["a"]],props:["mode"],data:function(){return{filter:"",columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"email",align:"center",label:"Email",field:"email",sortable:!0},{name:"rank",align:"center",label:"Tipo",field:"rank",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],data:[],user:JSON.parse(localStorage.getItem("user"))}},mounted:function(){this.getUsers()},methods:{getUsers:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.activateLoading("Cargando"),a={},"project"!==e.mode){t.next=9;break}return t.next=6,x["a"].getClients({token:localStorage.getItem("token")});case 6:a=t.sent,t.next=42;break;case 9:if("engineer"!==e.mode){t.next=15;break}return t.next=12,x["a"].getEngineers({token:localStorage.getItem("token")});case 12:a=t.sent,t.next=42;break;case 15:if("technical"!==e.mode){t.next=21;break}return t.next=18,x["a"].getTechnicals({token:localStorage.getItem("token")});case 18:a=t.sent,t.next=42;break;case 21:if("manager"!==e.mode){t.next=27;break}return t.next=24,x["a"].getManagers({token:localStorage.getItem("token")});case 24:a=t.sent,t.next=42;break;case 27:if("supervisor"!==e.mode){t.next=33;break}return t.next=30,x["a"].getSupervisors({token:localStorage.getItem("token")});case 30:a=t.sent,t.next=42;break;case 33:if(1!==e.user.rank){t.next=39;break}return t.next=36,x["a"].getChildrens({token:localStorage.getItem("token")});case 36:a=t.sent,t.next=42;break;case 39:return t.next=41,x["a"].getUsers({token:localStorage.getItem("token")});case 41:a=t.sent;case 42:o=a.data.users,e.data=o,t.next=49;break;case 46:t.prev=46,t.t0=t["catch"](0),console.log(t.t0);case 49:e.disableLoading();case 50:case"end":return t.stop()}}),t,null,[[0,46]])})))()},createUser:function(){var e=this;this.$q.dialog({component:T,parent:this}).onOk(function(){var t=w()(regeneratorRuntime.mark((function t(a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.token=localStorage.getItem("token"),t.prev=1,e.activateLoading("Cargando"),t.next=5,x["a"].register(a);case 5:o=t.sent,e.getUsers(),201===o.status&&e.alert("positive","Usuario agregado correctamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),t.t0.response.data.email?e.alert("negative","El correo ya está registrado, intenta con otro."):e.alert("negative","Se ha presentado un error.");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))},createChildren:function(){var e=this;this.$q.dialog({component:T,parent:this,isChildren:!0}).onOk(function(){var t=w()(regeneratorRuntime.mark((function t(a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.token=localStorage.getItem("token"),t.prev=1,e.activateLoading("Cargando"),t.next=5,x["a"].registerChildren(a);case 5:o=t.sent,e.getUsers(),201===o.status&&e.alert("positive","Usuario agregado correctamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),t.t0.response.data.email?e.alert("negative","El correo ya está registrado, intenta con otro."):e.alert("negative","Se ha presentado un error.");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))},del:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"Seguro que deseas eliminar este usuario?",cancel:!0,persistent:!0}).onOk(w()(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,x["a"].deleteUser({id:e,token:localStorage.getItem("token")});case 4:o=a.sent,200===o.status&&(t.getUsers(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))}}},L=Q,$=(a("62f2"),a("05c0")),M=a("eaac"),N=a("bd08"),z=a("db86"),V=Object(d["a"])(L,C,k,!1,null,"3eb33824",null),B=V.exports;g()(V,"components",{QBtn:D["a"],QTooltip:$["a"],QTable:M["a"],QTr:N["a"],QTd:z["a"],QIcon:p["a"],QInput:P["a"]});var H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"account_circle",color:"primary"}})]},proxy:!0}]),model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Email",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"mail",color:"primary"}})]},proxy:!0}]),model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("q-select",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",options:e.options,label:"Tipo",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"check",color:"primary"}})]},proxy:!0}]),model:{value:e.user.rank,callback:function(t){e.$set(e.user,"rank",t)},expression:"user.rank"}}),a("center",[a("q-btn",{attrs:{label:"Guardar",color:"primary"},on:{click:e.save}})],1)],1),a("div",{staticClass:"col-1"})])])},U=[],G={name:"user-component",mixins:[s["a"]],props:[],data:function(){return{id:this.$route.params.id,user:{},options:["Cliente","Ingeniero","Administrador","Tecnico","Supervisor","Gerente"]}},mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,x["a"].getUser({id:e.id,token:localStorage.getItem("token")});case 4:a=t.sent,e.user=a.data.user,e.user.rank=e.getRankById(a.data.user.rank),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:e.disableLoading();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},save:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.user,a.token=localStorage.getItem("token"),e.activateLoading("Cargando"),t.next=6,x["a"].modifyUser(a);case 6:o=t.sent,200===o.status&&e.alert("positive","Guardado correctamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.alert("negative","Se registro un fallo al guardar");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},X=G,Y=Object(d["a"])(X,H,U,!1,null,null,null),K=Y.exports;g()(Y,"components",{QInput:P["a"],QIcon:p["a"],QSelect:O["a"],QBtn:D["a"]});var J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text-h4"},[e._v("\n                    Clientes\n                    "),a("div",{staticClass:"right"},[a("q-btn",{attrs:{round:"",color:"positive",size:"md",icon:"add"},on:{click:e.createUser}},[a("q-tooltip",[e._v("\n                            Agregar\n                        ")])],1)],1)])]),a("br"),a("div",{staticClass:"row"},[a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.data,columns:e.columns,"row-key":"name",filter:e.filter},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                                "+e._s(t.row.id)+"\n                            ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                                "+e._s(t.row.name)+"\n                            ")]),a("q-td",{key:"email",attrs:{props:t}},[a("div",{staticClass:"text-pre-wrap"},[e._v(e._s(t.row.email))])]),a("q-td",{key:"rank",attrs:{props:t}},[e._v("\n                                "+e._s(e.getRankById(t.row.rank))+"\n                            ")]),"project"===e.mode?a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.$emit("add",t.row)}}},[a("q-icon",{attrs:{size:"md",name:"add"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("agregar")])],1)]):"engineer"===e.mode?a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.$emit("addengineer",t.row)}}},[a("q-icon",{attrs:{size:"md",name:"add"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("agregar")])],1)]):a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-yellow",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.goTo("projects-client/"+t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"visibility"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("ver")])],1),a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.goTo("user/"+t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"edit"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("editar")])],1),a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.del(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("eliminar")])],1)])],1)]}},{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",color:"grey-3","bg-color":"white","label-color":"primary",filled:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])})],1)]),a("div",{staticClass:"col-1"})])])},W=[],Z={name:"users-component",mixins:[s["a"]],props:["mode"],data:function(){return{filter:"",columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"email",align:"center",label:"Email",field:"email",sortable:!0},{name:"rank",align:"center",label:"Tipo",field:"rank",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],data:[]}},mounted:function(){this.getUsers()},methods:{getUsers:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,x["a"].getClients({token:localStorage.getItem("token")});case 4:a=t.sent,o=a.data.users,e.data=o,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:e.disableLoading();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},createUser:function(){var e=this;this.$q.dialog({component:T,parent:this,isClient:!0}).onOk(function(){var t=w()(regeneratorRuntime.mark((function t(a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.token=localStorage.getItem("token"),a.rank="Cliente",t.prev=2,e.activateLoading("Cargando"),t.next=6,x["a"].register(a);case 6:o=t.sent,e.getUsers(),201===o.status&&e.alert("positive","Usuario agregado correctamente"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),t.t0.response.data.email?e.alert("negative","El correo ya está registrado, intenta con otro."):e.alert("negative","Se ha presentado un error.");case 14:e.disableLoading();case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))},del:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"Seguro que deseas eliminar este usuario?",cancel:!0,persistent:!0}).onOk(w()(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,x["a"].deleteUser({id:e,token:localStorage.getItem("token")});case 4:o=a.sent,200===o.status&&(t.getUsers(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))}}},ee=Z,te=(a("5a90"),Object(d["a"])(ee,J,W,!1,null,"31fc2e08",null)),ae=te.exports;g()(te,"components",{QBtn:D["a"],QTooltip:$["a"],QTable:M["a"],QTr:N["a"],QTd:z["a"],QIcon:p["a"],QInput:P["a"]});var oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[e._m(0),a("div",{staticClass:"row"},[0===e.projects.length?a("div",[e._v("\n                  Ningun tratamiento hasta el momento\n                ")]):e._e(),e._l(e.projects,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("q-card",{staticClass:"my-card",staticStyle:{margin:"5px"},attrs:{flat:"",bordered:""}},[a("q-card-section",{staticClass:"cards",attrs:{horizontal:""}},[a("q-card-section",{staticStyle:{width:"58.5%"}},[a("div",{staticClass:"text-h6"},[e._v(e._s(t.name))]),e._v("\n                                "+e._s(t.descripcion)+"\n                            ")]),a("q-img",{staticClass:"col-5",attrs:{src:e.getImgUrl(t.urlimg)}})],1),a("q-separator"),"select"===e.mode?a("q-card-actions",[a("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(a){return e.$emit("selectproject",t.id)}}},[e._v("\n                            Seleccionar\n                            ")])],1):a("q-card-actions",[a("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(a){return e.goTo("project/"+t.id)}}},[e._v("\n                            Ver\n                            ")])],1)],1)],1)}))],2)]),a("div",{staticClass:"col-1"})])])},re=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",{staticClass:"text-h4"},[e._v("\n                  Tratamientos\n              ")])])}],ne=a("758b"),ie={getProject:function(e){return Object(ne["a"])().get("project/"+e.id,{headers:{Authorization:e.token}})},getProjects:function(e){return Object(ne["a"])().get("projects",{headers:{Authorization:e.token}})},getProjectsByClient:function(e){return Object(ne["a"])().get("projects-client/"+e.clientId,{headers:{Authorization:e.token}})},newProject:function(e){return Object(ne["a"])().post("projects",e,{headers:{Authorization:e.token}})},deleteProject:function(e){return Object(ne["a"])().delete("project/"+e.id,{headers:{Authorization:e.token}})},modifyProject:function(e){return Object(ne["a"])().post("project/"+e.id,e,{headers:{Authorization:e.token}})}},se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin container"},[a("div",{staticClass:"text-h6"},[e._v("Editar tratamiento")]),a("q-separator"),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"description",color:"primary"}})]},proxy:!0}]),model:{value:e.project.name,callback:function(t){e.$set(e.project,"name",t)},expression:"project.name"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:"textarea",label:"Descripcion",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"topic",color:"primary"}})]},proxy:!0}]),model:{value:e.project.descripcion,callback:function(t){e.$set(e.project,"descripcion",t)},expression:"project.descripcion"}}),a("q-file",{attrs:{color:"grey-3",accept:".jpg, image/*","bg-color":"white","label-color":"primary",filled:"",label:"Img",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"attach_file",color:"primary"}})]},proxy:!0}]),model:{value:e.project.photo,callback:function(t){e.$set(e.project,"photo",t)},expression:"project.photo"}}),a("br"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.project.name,e.project.descripcion],e.onOKClick)}}}),a("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},le=[],ce=(a("b0c0"),{mixins:[s["a"]],data:function(){return{project:{}}},props:["projectToEdit"],mounted:function(){this.project=this.projectToEdit},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){var e=new FormData;e.append("name",this.project.name),e.append("descripcion",this.project.descripcion),e.append("photo",this.project.photo),this.$emit("ok",e),this.hide()},onCancelClick:function(){this.hide()}}}),de=ce,ue=a("7d53"),me=Object(d["a"])(de,se,le,!1,null,null,null),pe=me.exports;g()(me,"components",{QDialog:j["a"],QCard:E["a"],QSeparator:R["a"],QInput:P["a"],QIcon:p["a"],QFile:ue["a"],QCardActions:F["a"],QBtn:D["a"]});var ve={name:"projects-component",mixins:[s["a"]],props:["mode"],data:function(){return{projects:[]}},mounted:function(){this.getProjects()},methods:{organizarCards:function(){return w()(regeneratorRuntime.mark((function e(){var t,a,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,document.getElementsByClassName("cards");case 2:for(t=e.sent,a=0,o=0;o<t.length;o++)a<=t[o].clientHeight&&(a=t[o].clientHeight);for(r=0;r<t.length;r++)document.getElementsByClassName("cards")[r].style.height=a+"px";case 6:case"end":return e.stop()}}),e)})))()},getProjects:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,ie.getProjects({token:localStorage.getItem("token")});case 4:a=t.sent,o=a.data.projects,e.projects=o,e.organizarCards(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},eliminar:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"Seguro que deseas eliminar este tratamiento?",cancel:!0,persistent:!0}).onOk(w()(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,ie.deleteProject({id:e,token:localStorage.getItem("token")});case 4:o=a.sent,200===o.status&&(t.getProjects(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))},editProject:function(e){var t=this;this.$q.dialog({component:pe,parent:this,projectToEdit:e}).onOk(function(){var a=w()(regeneratorRuntime.mark((function a(o){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o.id=e.id,o.token=localStorage.getItem("token"),a.prev=2,t.activateLoading("Cargando"),a.next=6,ie.modifyProject(o);case 6:r=a.sent,t.getProjects(),200===r.status&&t.alert("positive","Tratamiento editado exitosamente"),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](2),t.alert("negative","Se ha presentado un error al editar el Tratamiento");case 14:t.disableLoading();case 15:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e){return a.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))}}},fe=ve,ge=(a("8550"),a("a370")),he=a("068f"),be=Object(d["a"])(fe,oe,re,!1,null,"6f13769a",null),Ce=be.exports;g()(be,"components",{QCard:E["a"],QCardSection:ge["a"],QImg:he["a"],QSeparator:R["a"],QCardActions:F["a"],QBtn:D["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text-h4"},[e._v("\n                  Tratamientos\n                  "),a("div",{staticClass:"right"},[a("q-btn",{attrs:{round:"",color:"positive",size:"md",icon:"add"},on:{click:e.createProject}},[a("q-tooltip",[e._v("\n                          Agregar\n                      ")])],1)],1)])]),a("div",{staticClass:"row"},[0===e.projects.length?a("div",[e._v("\n                  Ningun tratamiento hasta el momento\n                ")]):e._e(),e._l(e.projects,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("q-card",{staticClass:"my-card",staticStyle:{margin:"5px"},attrs:{flat:"",bordered:""}},[a("q-card-section",{staticClass:"cards",attrs:{horizontal:""}},[a("q-card-section",{staticStyle:{width:"58.5%"}},[a("div",{staticClass:"text-h6"},[e._v(e._s(t.name))]),e._v("\n                                "+e._s(t.descripcion)+"\n                            ")]),a("q-img",{staticClass:"col-5",attrs:{src:e.getImgUrl(t.urlimg)}})],1),a("q-separator"),"select"===e.mode?a("q-card-actions",[a("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(a){return e.$emit("selectproject",t.id)}}},[e._v("\n                            Seleccionar\n                            ")])],1):a("q-card-actions",[a("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(a){return e.goTo("project/"+t.id)}}},[e._v("\n                            Ver\n                            ")]),a("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(a){return e.editProject(t)}}},[e._v("\n                            Editar\n                            ")]),a("q-btn",{attrs:{flat:"",color:"negative"},on:{click:function(a){return e.eliminar(t.id)}}},[e._v("\n                            Eliminar\n                            ")])],1)],1)],1)}))],2)]),a("div",{staticClass:"col-1"})])])},ye=[],we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin container"},[a("div",{staticClass:"text-h6"},[e._v("Crear tratamiento")]),a("q-separator"),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"description",color:"primary"}})]},proxy:!0}]),model:{value:e.project.name,callback:function(t){e.$set(e.project,"name",t)},expression:"project.name"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:"textarea",label:"Descripcion",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"topic",color:"primary"}})]},proxy:!0}]),model:{value:e.project.descripcion,callback:function(t){e.$set(e.project,"descripcion",t)},expression:"project.descripcion"}}),a("q-file",{attrs:{color:"grey-3",accept:".jpg, image/*","bg-color":"white","label-color":"primary",filled:"",label:"Img",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"attach_file",color:"primary"}})]},proxy:!0}]),model:{value:e.project.photo,callback:function(t){e.$set(e.project,"photo",t)},expression:"project.photo"}}),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.project.name,e.project.photo,e.project.descripcion],e.onOKClick)}}}),a("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},xe=[],_e={mixins:[s["a"]],props:["clientId"],data:function(){return{project:{},options:[],dialog:!1}},methods:{addClient:function(){this.dialog=!0},show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){var e=new FormData;e.append("name",this.project.name),e.append("descripcion",this.project.descripcion),e.append("idcliente",this.clientId),e.append("photo",this.project.photo),this.$emit("ok",e),this.hide()},onCancelClick:function(){this.hide()}}},qe=_e,Ae=Object(d["a"])(qe,we,xe,!1,null,null,null),Se=Ae.exports;g()(Ae,"components",{QDialog:j["a"],QCard:E["a"],QSeparator:R["a"],QInput:P["a"],QIcon:p["a"],QFile:ue["a"],QCardActions:F["a"],QBtn:D["a"]});var je={name:"projects-component",mixins:[s["a"]],props:["mode"],data:function(){return{projects:[],clientId:this.$route.params.id}},mounted:function(){this.getProjects()},methods:{organizarCards:function(){return w()(regeneratorRuntime.mark((function e(){var t,a,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,document.getElementsByClassName("cards");case 2:for(t=e.sent,a=0,o=0;o<t.length;o++)a<=t[o].clientHeight&&(a=t[o].clientHeight);for(r=0;r<t.length;r++)document.getElementsByClassName("cards")[r].style.height=a+"px";case 6:case"end":return e.stop()}}),e)})))()},getProjects:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,ie.getProjectsByClient({clientId:e.clientId,token:localStorage.getItem("token")});case 4:a=t.sent,o=a.data.projects,e.projects=o,e.organizarCards(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},createProject:function(){var e=this;this.$q.dialog({component:Se,parent:this,clientId:this.clientId}).onOk(function(){var t=w()(regeneratorRuntime.mark((function t(a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.token=localStorage.getItem("token"),t.prev=1,e.activateLoading("Cargando"),t.next=5,ie.newProject(a);case 5:o=t.sent,e.getProjects(),201===o.status&&e.alert("positive","Tratamiento creado exitosamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.alert("negative","Se ha presentado un error al crear el Tratamiento");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))},eliminar:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"Seguro que deseas eliminar este tratamiento?",cancel:!0,persistent:!0}).onOk(w()(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,ie.deleteProject({id:e,token:localStorage.getItem("token")});case 4:o=a.sent,200===o.status&&(t.getProjects(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))},editProject:function(e){var t=this;this.$q.dialog({component:pe,parent:this,projectToEdit:e}).onOk(function(){var a=w()(regeneratorRuntime.mark((function a(o){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o.id=e.id,o.token=localStorage.getItem("token"),a.prev=2,t.activateLoading("Cargando"),a.next=6,ie.modifyProject(o);case 6:r=a.sent,t.getProjects(),200===r.status&&t.alert("positive","Tratamiento editado exitosamente"),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](2),t.alert("negative","Se ha presentado un error al editar el Tratamiento");case 14:t.disableLoading();case 15:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e){return a.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))}}},Ee=je,Re=(a("ed38"),Object(d["a"])(Ee,ke,ye,!1,null,"3fdea9ac",null)),Pe=Re.exports;g()(Re,"components",{QBtn:D["a"],QTooltip:$["a"],QCard:E["a"],QCardSection:ge["a"],QImg:he["a"],QSeparator:R["a"],QCardActions:F["a"]});var Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"text-h4"},[e._v(e._s(e.project.name))]),a("br"),a("q-separator"),a("br"),a("b",[e._v("Descripción")]),a("br"),a("pre",[e._v(e._s(e.project.descripcion))]),a("br"),a("br"),a("q-separator"),a("div",{staticClass:"title"},[a("div",{staticClass:"text-h6"},[e._v("\n              Variables asociadas\n              "),a("div",{staticClass:"right"},[[3,2,4,5,6].includes(e.user.rank)?a("q-btn",{attrs:{round:"",color:"primary",size:"md",icon:"assignment"},on:{click:function(t){return e.goTo("new-report/"+e.id)}}},[a("q-tooltip",[e._v("\n                    Generar reporte\n                  ")])],1):e._e(),[3].includes(e.user.rank)?a("q-btn",{attrs:{round:"",color:"positive",size:"md",icon:"add"},on:{click:e.assocVar}},[a("q-tooltip",[e._v("\n                    Asociar\n                  ")])],1):e._e()],1)])]),a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.dataVars,columns:e.columns,"row-key":"name"},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.idvariable)+"\n                  ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.name)+"\n                  ")]),a("q-td",{key:"max",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.max)+"\n                      "),a("q-popup-edit",{attrs:{title:"Actualizar max"},model:{value:t.row.max,callback:function(a){e.$set(t.row,"max",a)},expression:"props.row.max"}},[a("q-input",{attrs:{type:"number",dense:"",autofocus:""},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.updateRow(t.row)}},model:{value:t.row.max,callback:function(a){e.$set(t.row,"max",a)},expression:"props.row.max"}})],1)],1),a("q-td",{key:"min",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.min)+"\n                      "),a("q-popup-edit",{attrs:{title:"Actualizar min"},model:{value:t.row.min,callback:function(a){e.$set(t.row,"min",a)},expression:"props.row.min"}},[a("q-input",{attrs:{type:"number",dense:"",autofocus:""},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.updateRow(t.row)}},model:{value:t.row.min,callback:function(a){e.$set(t.row,"min",a)},expression:"props.row.min"}})],1)],1),a("q-td",{key:"ops",attrs:{props:t}},[[3].includes(e.user.rank)?a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.del(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("desasociar")])],1):e._e()])],1)]}}])}),a("br"),a("q-separator"),a("br"),a("div",{staticClass:"title"},[a("div",{staticClass:"text-h6"},[e._v("\n              Ingenieros asociados\n              "),a("div",{staticClass:"right"},[[3].includes(e.user.rank)?a("q-btn",{attrs:{round:"",color:"positive",size:"md",icon:"add"},on:{click:e.assocEngineer}},[a("q-tooltip",[e._v("\n                    Asociar\n                  ")])],1):e._e()],1)])]),a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.dataEngineers,columns:e.columnsEngineers,"row-key":"name"},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.idingeniero)+"\n                  ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.name)+"\n                  ")]),a("q-td",{key:"ops",attrs:{props:t}},[[3].includes(e.user.rank)?a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.deleteEngineer(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("desasociar")])],1):e._e()])],1)]}}])}),a("q-separator"),a("br"),a("div",{staticClass:"title"},[a("div",{staticClass:"text-h6"},[e._v("\n              Técnicos asociados\n              "),a("div",{staticClass:"right"},[[3].includes(e.user.rank)?a("q-btn",{attrs:{round:"",color:"positive",size:"md",icon:"add"},on:{click:e.assocTechnical}},[a("q-tooltip",[e._v("\n                    Asociar\n                  ")])],1):e._e()],1)])]),a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.dataTechnicals,columns:e.columnsTechnicals,"row-key":"name"},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.idingeniero)+"\n                  ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.name)+"\n                  ")]),a("q-td",{key:"ops",attrs:{props:t}},[[3].includes(e.user.rank)?a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.deleteEngineer(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("desasociar")])],1):e._e()])],1)]}}])}),a("q-separator"),a("br"),a("div",{staticClass:"title"},[a("div",{staticClass:"text-h6"},[e._v("\n              Gerentes asociados\n              "),a("div",{staticClass:"right"},[[3].includes(e.user.rank)?a("q-btn",{attrs:{round:"",color:"positive",size:"md",icon:"add"},on:{click:e.assocManager}},[a("q-tooltip",[e._v("\n                    Asociar\n                  ")])],1):e._e()],1)])]),a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.dataManagers,columns:e.columnsManagers,"row-key":"name"},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.idingeniero)+"\n                  ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.name)+"\n                  ")]),a("q-td",{key:"ops",attrs:{props:t}},[[3].includes(e.user.rank)?a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.deleteEngineer(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("desasociar")])],1):e._e()])],1)]}}])}),a("q-separator"),a("br"),a("div",{staticClass:"title"},[a("div",{staticClass:"text-h6"},[e._v("\n              Supervisores asociados\n              "),a("div",{staticClass:"right"},[[3].includes(e.user.rank)?a("q-btn",{attrs:{round:"",color:"positive",size:"md",icon:"add"},on:{click:e.assocSupervisor}},[a("q-tooltip",[e._v("\n                    Asociar\n                  ")])],1):e._e()],1)])]),a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.dataSupervisors,columns:e.columnsSupervisors,"row-key":"name"},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.idingeniero)+"\n                  ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.name)+"\n                  ")]),a("q-td",{key:"ops",attrs:{props:t}},[[3].includes(e.user.rank)?a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.deleteEngineer(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("desasociar")])],1):e._e()])],1)]}}])}),a("q-separator"),a("br"),e._m(0),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",label:"Desde",required:"",rules:[function(e){return!!e||"Tienes que llenar este campo"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)],1)]},proxy:!0}]),model:{value:e.from,callback:function(t){e.from=t},expression:"from"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",label:"Hasta",required:"",rules:[function(e){return!!e||"Tienes que llenar este campo"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1)]},proxy:!0}]),model:{value:e.to,callback:function(t){e.to=t},expression:"to"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("q-btn",{staticClass:"full-width",attrs:{color:"black",label:"Generar reporte"},on:{click:e.generarGrilla}})],1),a("div",{staticClass:"col-md-6"},[a("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Generar grafica"},on:{click:e.generarGraficas}})],1)]),e._l(e.graphics,(function(t,o){return a("div",{key:o},[a("highcharts",{attrs:{options:e.getChartOptions(o,t)}}),a("br"),a("analisis-grafica-component",{attrs:{values:t}}),a("br"),a("q-separator")],1)})),e.verGrilla?a("div",[a("br"),a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.dataGrilla,columns:e.columnsGrilla,title:"Reportes"},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("q-btn",{attrs:{color:"primary","icon-right":"archive",label:"Export to csv","no-caps":""},on:{click:e.exportTable}})]},proxy:!0}],null,!1,1388069608)})],1):e._e(),a("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("vars-component",{attrs:{mode:"project",project:e.id},on:{add:e.add}})],1)],1)],1),a("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogEngineers,callback:function(t){e.dialogEngineers=t},expression:"dialogEngineers"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("users-component",{attrs:{mode:"engineer"},on:{addengineer:e.addengineer}})],1)],1)],1),a("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogTechnicals,callback:function(t){e.dialogTechnicals=t},expression:"dialogTechnicals"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("users-component",{attrs:{mode:"technical"},on:{addtechnical:e.addtechnical}})],1)],1)],1),a("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogManagers,callback:function(t){e.dialogManagers=t},expression:"dialogManagers"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("users-component",{attrs:{mode:"manager"},on:{addmanager:e.addmanager}})],1)],1)],1),a("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogSupervisors,callback:function(t){e.dialogSupervisors=t},expression:"dialogSupervisors"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("users-component",{attrs:{mode:"supervisor"},on:{addsupervisor:e.addsupervisor}})],1)],1)],1)],2),a("div",{staticClass:"col-1"})])])},Fe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",{staticClass:"text-h6"},[e._v("\n              Consultar reportes por fechas\n            ")])])}],De=(a("99af"),a("a15b"),a("d81d"),a("07ac"),a("ac1f"),a("1276"),{getVariablesByProject:function(e){return Object(ne["a"])().get("variablesprojects/"+e.id,{headers:{Authorization:e.token}})},newVariablesProjects:function(e){return Object(ne["a"])().post("variablesprojects",e,{headers:{Authorization:e.token}})},updateVariablesProjects:function(e){return Object(ne["a"])().post("variablesprojects/"+e.id,e,{headers:{Authorization:e.token}})},deleteVarProject:function(e){return Object(ne["a"])().delete("variablesprojects/"+e.id,{headers:{Authorization:e.token}})}}),Ie={getEngineersByProject:function(e){return Object(ne["a"])().get("engineersProjects/"+e.id,{headers:{Authorization:e.token}})},getTechnicalsByProject:function(e){return Object(ne["a"])().get("technicalsProjects/"+e.id,{headers:{Authorization:e.token}})},getManagersByProject:function(e){return Object(ne["a"])().get("managersProjects/"+e.id,{headers:{Authorization:e.token}})},getSupervisorsByProject:function(e){return Object(ne["a"])().get("supervisorsProjects/"+e.id,{headers:{Authorization:e.token}})},newEngineerProject:function(e){return Object(ne["a"])().post("engineersProjects",e,{headers:{Authorization:e.token}})},deleteEngineerProjectById:function(e){return Object(ne["a"])().delete("engineersProjects/"+e.id,{headers:{Authorization:e.token}})}},Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text-h4"},[e._v("\n                  Variables\n                  "),a("div",{staticClass:"right"},[a("q-btn",{attrs:{round:"",color:"positive",size:"md",icon:"add"},on:{click:e.createVar}},[a("q-tooltip",[e._v("\n                          Agregar\n                      ")])],1)],1)])]),a("br"),a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.data,columns:e.columns,"row-key":"name",filter:e.filter},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                            "+e._s(t.row.id)+"\n                        ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                            "+e._s(t.row.name)+"\n                        ")]),a("q-td",{key:"ops",attrs:{props:t}},["project"===e.mode?a("a",{staticClass:"text-green",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.$emit("add",t.row)}}},[a("q-icon",{attrs:{size:"md",name:"add"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("asociar")])],1):e._e(),a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.goTo("var/"+t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"edit"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("editar")])],1),a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.del(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("eliminar")])],1)])],1)]}},{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",color:"grey-3","bg-color":"white","label-color":"primary",filled:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])})],1),a("div",{staticClass:"col-1"})])])},Qe=[],Le={addVar:function(e){return Object(ne["a"])().post("var",e,{headers:{Authorization:e.token}})},modifyVar:function(e){return Object(ne["a"])().post("var/"+e.id,e,{headers:{Authorization:e.token}})},deleteVar:function(e){return Object(ne["a"])().delete("var/"+e.id,{headers:{Authorization:e.token}})},getVars:function(e){return Object(ne["a"])().get("vars",{headers:{Authorization:e.token}})},getVarsByProject:function(e){return Object(ne["a"])().get("vars-project/"+e.id,{headers:{Authorization:e.token}})},getVar:function(e){return Object(ne["a"])().get("var/"+e.id,{headers:{Authorization:e.token}})}},$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin container"},[a("div",{staticClass:"text-h6"},[e._v("Crear variable")]),a("q-separator"),a("q-input",{attrs:{label:"Nombre de la variable",color:"grey-3","bg-color":"white","label-color":"primary"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"title",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.name,callback:function(t){e.$set(e.variable,"name",t)},expression:"variable.name"}}),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.variable.name],e.onOKClick)}}}),a("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},Me=[],Ne={mixins:[s["a"]],data:function(){return{variable:{}}},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.$emit("ok",this.variable),this.hide()},onCancelClick:function(){this.hide()}}},ze=Ne,Ve=Object(d["a"])(ze,$e,Me,!1,null,null,null),Be=Ve.exports;g()(Ve,"components",{QDialog:j["a"],QCard:E["a"],QSeparator:R["a"],QInput:P["a"],QIcon:p["a"],QCardActions:F["a"],QBtn:D["a"]});var He={name:"vars-component",mixins:[s["a"]],props:["mode","project"],data:function(){return{filter:"",columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],data:[]}},mounted:function(){this.getVars()},methods:{createVar:function(){var e=this;this.$q.dialog({component:Be,parent:this,text:"Hola"}).onOk(function(){var t=w()(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.token=localStorage.getItem("token"),e.save(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))},save:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,Le.addVar(e);case 4:o=a.sent,console.log("p"),console.log(o),t.project&&t.$emit("add",o.data.variable),201===o.status&&(t.alert("positive","Variable agregada correctamente"),t.getVars()),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),422===a.t0.status?t.alert("negative","Ya existe una variable con ese nombre"):t.alert("negative","Error al agregar una variable");case 14:t.disableLoading();case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()},getVars:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,Le.getVars({token:localStorage.getItem("token")});case 3:a=t.sent,e.data=a.data.vars,e.disableLoading();case 6:case"end":return t.stop()}}),t)})))()},del:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"Seguro que deseas eliminar esta variable? si la eliminas, se eliminará toda la información relacionada.",cancel:!0,persistent:!0}).onOk(w()(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,Le.deleteVar({id:e,token:localStorage.getItem("token")});case 4:o=a.sent,200===o.status&&(t.getVars(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))}}},Ue=He,Ge=Object(d["a"])(Ue,Te,Qe,!1,null,null,null),Xe=Ge.exports;g()(Ge,"components",{QBtn:D["a"],QTooltip:$["a"],QTable:M["a"],QTr:N["a"],QTd:z["a"],QIcon:p["a"],QInput:P["a"]});var Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin container"},[a("div",{staticClass:"text-h6"},[e._v("Máximos y mínimos")]),a("q-separator"),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Máximo"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"flip_to_front",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.max,callback:function(t){e.$set(e.variable,"max",t)},expression:"variable.max"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Mínimo"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"flip_to_back",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.min,callback:function(t){e.$set(e.variable,"min",t)},expression:"variable.min"}}),a("div",{staticClass:"text-h6"},[e._v("Razón por tomar valor fuera de rango")]),a("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.variable.razon_outrange,callback:function(t){e.$set(e.variable,"razon_outrange",t)},expression:"variable.razon_outrange"}}),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:e.onOKClick}}),a("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},Ke=[],Je=a("fb3d"),We=a.n(Je),Ze={mixins:[s["a"]],data:function(){return{variable:{},editor:We.a,editorConfig:{}}},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.$emit("ok",this.variable),this.hide()},onCancelClick:function(){this.hide()}}},et=Ze,tt=Object(d["a"])(et,Ye,Ke,!1,null,null,null),at=tt.exports;g()(tt,"components",{QDialog:j["a"],QCard:E["a"],QSeparator:R["a"],QInput:P["a"],QIcon:p["a"],QCardActions:F["a"],QBtn:D["a"]});var ot=a("bd4c"),rt=a("a357"),nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md box"},[a("div",{staticClass:"text-h5"},[e._v("Analisis de gráfica")]),a("div",{staticClass:"text-h6"},[e._v("Fechas dónde la variable estuvo fuera de rango:")]),e._l(e.reportsOutRange,(function(t,o){return a("ul",{key:o},[a("li",[e._v("Fecha: "+e._s(t.fecha))])])})),a("b",[e._v("Razon:")]),a("div",{domProps:{innerHTML:e._s(e.razon_outrange)}}),a("q-separator"),a("div",{staticClass:"text-h6"},[e._v("Observaciones en los reportes:")]),e._l(e.values,(function(t,o){return a("q-timeline",{key:o,attrs:{color:"orange"}},[t.observacion?a("q-timeline-entry",{attrs:{subtitle:t.fecha+", "+t.ingeniero,side:"left"}},[a("div",{domProps:{innerHTML:e._s(t.observacion)}})]):e._e()],1)}))],2)},it=[],st=(a("e260"),a("d3b7"),a("ddb0"),{name:"analisis-graficas-component",mixins:[s["a"]],props:["values"],data:function(){return{reportsOutRange:[],razon_outrange:""}},mounted:function(){this.getReportsOutRange()},methods:{getReportsOutRange:function(){for(var e=0;e<this.values.length;e++)(this.values[e].value>this.values[e].max||this.values[e].value<this.values[e].min)&&(this.reportsOutRange.push(this.values[e]),this.razon_outrange=this.values[e].razon_outrange)}}}),lt=st,ct=a("05eb"),dt=a("74af"),ut=Object(d["a"])(lt,nt,it,!1,null,null,null),mt=ut.exports;g()(ut,"components",{QSeparator:R["a"],QTimeline:ct["a"],QTimelineEntry:dt["a"]});var pt={getStats:function(e){return Object(ne["a"])().post("getstats",e,{headers:{Authorization:e.token}})},getStatsGrilla:function(e){return Object(ne["a"])().post("getstatsgrilla",e,{headers:{Authorization:e.token}})}},vt=a("4452"),ft={name:"project-component",mixins:[s["a"]],components:{highcharts:vt["Chart"],VarsComponent:Xe,UsersComponent:B,AnalisisGraficaComponent:mt},props:["user"],data:function(){return{id:this.$route.params.id,project:{},columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"max",align:"center",label:"Maximo",field:"max",sortable:!0},{name:"min",align:"center",label:"Minimo",field:"min",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],columnsEngineers:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],columnsTechnicals:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],columnsManagers:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],columnsSupervisors:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],dataVars:[],dataEngineers:[],dataTechnicals:[],dataManagers:[],dataSupervisors:[],dialog:!1,dialogEngineers:!1,dialogTechnicals:!1,dialogManagers:!1,dialogSupervisors:!1,from:ot["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss"),to:ot["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss"),graphics:[],verGrilla:!1,dataGrilla:[],columnsGrilla:[]}},mounted:function(){this.getVarInfo()},methods:{updateRow:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.token=localStorage.getItem("token"),t.activateLoading("Cargando"),a.next=5,De.updateVariablesProjects(e);case 5:o=a.sent,200===o.status&&(t.getVarInfo(),t.alert("positive","Variable actualizada")),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),t.alert("negative","Se ha presentado un error al actualizar");case 12:t.disableLoading();case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getChartOptions:function(e,t){return this.getChar(e,t)},generarGraficas:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},a.idproyecto=e.id,a.token=localStorage.getItem("token"),a.from=e.from,a.to=e.to,e.activateLoading("Cargando"),t.next=8,pt.getStats(a);case 8:o=t.sent,e.disableLoading(),e.graphics=o.data.statics,e.getVars(e.graphics);case 12:case"end":return t.stop()}}),t)})))()},generarGrilla:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.verGrilla=!0,a={},a.idproyecto=e.id,a.token=localStorage.getItem("token"),a.from=e.from,a.to=e.to,e.activateLoading("Cargando"),t.next=9,pt.getStatsGrilla(a);case 9:for(o=t.sent,e.disableLoading(),r=o.data.statics,e.columnsGrilla=[{name:"date",align:"center",label:"Fecha",field:"date",sortable:!0}],n=0;n<e.dataVars.length;n++)e.columnsGrilla.push({name:n,align:"center",label:e.dataVars[n].name,field:n,sortable:!0});for(console.log("this.columnsGrilla"),console.log(e.columnsGrilla),i=Object.values(r),s=0;s<i.length;s++)for(e.dataGrilla[s]={date:i[s][0].date},l=0;l<e.dataVars.length;l++)for(c=0;c<i[s].length;c++)e.dataVars[l].idvariable===i[s][c].var_id&&(e.dataGrilla[s][l]=i[s][c].value);e.dataGrilla=Object.values(e.dataGrilla),console.log("this.dataGrilla"),console.log(e.dataGrilla);case 21:case"end":return t.stop()}}),t)})))()},exportTable:function(){var e=this,t=[this.columnsGrilla.map((function(t){return e.wrapCsvValue(t.label)}))].concat(this.dataGrilla.map((function(t){return e.columnsGrilla.map((function(a){return e.wrapCsvValue("function"===typeof a.field?a.field(t):t[void 0===a.field?a.name:a.field],a.format)})).join(",")}))).join("\r\n"),a=Object(rt["a"])("table-export.csv",t,"text/csv");!0!==a&&this.alert("negative","Browser denied file download...")},wrapCsvValue:function(e,t){var a=void 0!==t?t(e):e;return a=void 0===a||null===a?"":String(a),a=a.split('"').join('""'),'"'.concat(a,'"')},getVarInfo:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,ie.getProject({id:e.id,token:localStorage.getItem("token")});case 4:return a=t.sent,e.project=a.data.project,t.next=8,De.getVariablesByProject({id:e.id,token:localStorage.getItem("token")});case 8:return o=t.sent,e.dataVars=o.data.variablesprojects,t.next=12,Ie.getEngineersByProject({id:e.id,token:localStorage.getItem("token")});case 12:return r=t.sent,e.dataEngineers=r.data.engineerProject,t.next=16,Ie.getTechnicalsByProject({id:e.id,token:localStorage.getItem("token")});case 16:return n=t.sent,e.dataTechnicals=n.data.engineerProject,t.next=20,Ie.getManagersByProject({id:e.id,token:localStorage.getItem("token")});case 20:return i=t.sent,e.dataManagers=i.data.engineerProject,t.next=24,Ie.getSupervisorsByProject({id:e.id,token:localStorage.getItem("token")});case 24:s=t.sent,e.dataSupervisors=s.data.engineerProject,t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](0),console.log(t.t0);case 31:e.disableLoading();case 32:case"end":return t.stop()}}),t,null,[[0,28]])})))()},assocVar:function(){this.dialog=!0},assocEngineer:function(){this.dialogEngineers=!0},assocTechnical:function(){this.dialogTechnicals=!0},assocManager:function(){this.dialogManagers=!0},assocSupervisor:function(){this.dialogSupervisors=!0},add:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.dialog=!1,t.$q.dialog({component:at,parent:t}).onOk(function(){var a=w()(regeneratorRuntime.mark((function a(o){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o.token=localStorage.getItem("token"),o.idproyecto=t.id,o.idvariable=e.id,a.prev=3,t.activateLoading("Cargando"),a.next=7,De.newVariablesProjects(o);case 7:r=a.sent,201===r.status&&(t.getVarInfo(),t.alert("positive","Variables agregadas exitosamente")),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](3),t.alert("negative","Se ha presentado un error al agregar las variables");case 14:t.disableLoading();case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}));case 2:case"end":return a.stop()}}),a)})))()},addengineer:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){var o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogEngineers=!1,o={},o.token=localStorage.getItem("token"),o.idproyecto=t.id,o.idingeniero=e.id,a.prev=5,t.activateLoading("Cargando"),a.next=9,Ie.newEngineerProject(o);case 9:r=a.sent,201===r.status&&(t.getVarInfo(),t.alert("positive","Ingeniero agregado exitosamente")),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](5),t.alert("negative","Se ha presentado un error al agregar el ingeniero");case 16:t.disableLoading();case 17:case"end":return a.stop()}}),a,null,[[5,13]])})))()},addtechnical:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){var o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogTechnicals=!1,o={},o.token=localStorage.getItem("token"),o.idproyecto=t.id,o.idingeniero=e.id,a.prev=5,t.activateLoading("Cargando"),a.next=9,Ie.newEngineerProject(o);case 9:r=a.sent,201===r.status&&(t.getVarInfo(),t.alert("positive","Técnico agregado exitosamente")),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](5),t.alert("negative","Se ha presentado un error al agregar el técnico");case 16:t.disableLoading();case 17:case"end":return a.stop()}}),a,null,[[5,13]])})))()},addmanager:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){var o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogManagers=!1,o={},o.token=localStorage.getItem("token"),o.idproyecto=t.id,o.idingeniero=e.id,a.prev=5,t.activateLoading("Cargando"),a.next=9,Ie.newEngineerProject(o);case 9:r=a.sent,201===r.status&&(t.getVarInfo(),t.alert("positive","Técnico agregado exitosamente")),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](5),t.alert("negative","Se ha presentado un error al agregar el técnico");case 16:t.disableLoading();case 17:case"end":return a.stop()}}),a,null,[[5,13]])})))()},addsupervisor:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){var o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogSupervisors=!1,o={},o.token=localStorage.getItem("token"),o.idproyecto=t.id,o.idingeniero=e.id,a.prev=5,t.activateLoading("Cargando"),a.next=9,Ie.newEngineerProject(o);case 9:r=a.sent,201===r.status&&(t.getVarInfo(),t.alert("positive","Técnico agregado exitosamente")),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](5),t.alert("negative","Se ha presentado un error al agregar el técnico");case 16:t.disableLoading();case 17:case"end":return a.stop()}}),a,null,[[5,13]])})))()},del:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,De.deleteVarProject({id:e,token:localStorage.getItem("token")});case 4:o=a.sent,200===o.status&&(t.getVarInfo(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},deleteEngineer:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,Ie.deleteEngineerProjectById({id:e,token:localStorage.getItem("token")});case 4:o=a.sent,200===o.status&&(t.getVarInfo(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},gt=ft,ht=(a("e3e2"),a("42a1")),bt=a("7cbe"),Ct=a("52ee"),kt=a("ca78"),yt=Object(d["a"])(gt,Oe,Fe,!1,null,"7c78039f",null),wt=yt.exports;g()(yt,"components",{QSeparator:R["a"],QBtn:D["a"],QTooltip:$["a"],QTable:M["a"],QTr:N["a"],QTd:z["a"],QPopupEdit:ht["a"],QInput:P["a"],QIcon:p["a"],QPopupProxy:bt["a"],QDate:Ct["a"],QTime:kt["a"],QDialog:j["a"],QCard:E["a"],QCardSection:ge["a"]});var xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"account_circle",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.name,callback:function(t){e.$set(e.variable,"name",t)},expression:"variable.name"}}),a("center",[a("q-btn",{attrs:{label:"Guardar",color:"primary"},on:{click:e.save}})],1)],1),a("div",{staticClass:"col-1"})])])},_t=[],qt={name:"var-component",mixins:[s["a"]],props:[],data:function(){return{id:this.$route.params.id,variable:{}}},mounted:function(){this.getVarInfo()},methods:{getVarInfo:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,Le.getVar({id:e.id,token:localStorage.getItem("token")});case 4:a=t.sent,e.variable=a.data.var,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:e.disableLoading();case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},save:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.variable,a.token=localStorage.getItem("token"),e.activateLoading("Cargando"),t.next=6,Le.modifyVar(a);case 6:o=t.sent,200===o.status&&e.alert("positive","Guardado correctamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.alert("negative","Se registro un fallo al guardar");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},At=qt,St=Object(d["a"])(At,xt,_t,!1,null,null,null),jt=St.exports;g()(St,"components",{QInput:P["a"],QIcon:p["a"],QBtn:D["a"]});var Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("FullCalendar",{ref:"calendar",attrs:{events:e.events,config:e.config}}),a("br"),a("center",[e.hasAccess([2,3,4,5,6],e.user)?a("q-btn",{attrs:{label:"Crear reporte",color:"primary"},on:{click:e.newReport}}):e._e()],1),a("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogProjects,callback:function(t){e.dialogProjects=t},expression:"dialogProjects"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("projects-component",{attrs:{mode:"select"},on:{selectproject:e.selectProject}})],1)],1)],1)],1),a("div",{staticClass:"col-1"})])])},Rt=[],Pt={createReport:function(e){return Object(ne["a"])().post("report",e,{headers:{Authorization:e.token}})},getReportById:function(e){return Object(ne["a"])().get("report/"+e.id,{headers:{Authorization:e.token}})},getReports:function(e){return Object(ne["a"])().get("reports",{headers:{Authorization:e.token}})},deleteReport:function(e){return Object(ne["a"])().delete("report/"+e.id,{headers:{Authorization:e.token}})},editReport:function(e){return Object(ne["a"])().post("modify_report/",e,{headers:{Authorization:e.token}})}},Ot=(a("6e7b"),a("25cc")),Ft={name:"reports-component",mixins:[s["a"]],components:{FullCalendar:Ot["a"],ProjectsComponent:Ce},props:["user"],data:function(){return{events:[],config:{},dialogProjects:!1}},created:function(){this.getCalendarInfo(),this.getReports()},methods:{getReports:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,Pt.getReports({token:localStorage.getItem("token")});case 3:for(a=t.sent,e.disableLoading(),o=a.data.reports,r=0;r<o.length;r++)n={title:o[r].name,start:o[r].fecha,_id:o[r].id},e.events.push(n);case 7:case"end":return t.stop()}}),t)})))()},getCalendarInfo:function(){var e=this,t={months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],daysLong:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],days:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],today:"Hoy",month:"Mes",week:"Semana",day:"Día",list:"Lista"};this.config={defaultView:"month",editable:!1,displayEventTime:!1,header:{left:"prev,today,next",right:"month,listMonth,basicWeek,basicDay"},buttonText:{today:t.today,month:t.month,week:t.week,day:t.day,listMonth:t.list},allDayDefault:!0,height:"auto",monthNames:t.months,monthNamesShort:t.monthsShort,dayNames:t.daysLong,dayNamesShort:t.days,eventTextColor:"white",eventClick:function(t){e.goTo("report/"+t._id)},eventMouseover:function(e,t,a){},eventMouseout:function(e,t,a){}}},newReport:function(){this.dialogProjects=!0},selectProject:function(e){this.goTo("new-report/"+e)}}},Dt=Ft,It=(a("6b36"),Object(d["a"])(Dt,Et,Rt,!1,null,"8a4adfbc",null)),Tt=It.exports;g()(It,"components",{QBtn:D["a"],QDialog:j["a"],QCard:E["a"],QCardSection:ge["a"]});var Qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"text-h6"},[e._v("\n                Crear informe\n            ")]),a("q-form",{on:{submit:e.save}},[a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",label:"Fecha",required:"",rules:[function(e){return!!e||"Tienes que llenar este campo"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)]},proxy:!0}]),model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),a("q-separator"),a("div",{staticClass:"row"},e._l(e.vars,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",outlined:"",label:t.name},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"variable.value"}})],1)})),0),a("q-separator"),a("div",{staticClass:"text-h6"},[e._v("Observacion:")]),a("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}}),[3,2,4,5,6].includes(e.user.rank)?a("q-btn",{staticClass:"right",attrs:{round:"",type:"submit",color:"primary",icon:"save"}}):e._e()],1)],1),a("div",{staticClass:"col-1"})])])},Lt=[],$t={name:"user-component",mixins:[s["a"]],props:["user"],data:function(){return{id:this.$route.params.id,vars:[],editor:We.a,observacion:"",date:ot["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss"),editorConfig:{}}},mounted:function(){this.getVarsByProject()},methods:{getVarsByProject:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,De.getVariablesByProject({id:e.id,token:localStorage.getItem("token")});case 4:a=t.sent,e.vars=a.data.variablesprojects,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:e.disableLoading();case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},save:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={variables:e.vars,token:localStorage.getItem("token"),observacion:e.observacion,idproyecto:e.id,fecha:e.date},t.prev=1,e.activateLoading("Cargando"),t.next=5,Pt.createReport(a);case 5:o=t.sent,201===o.status?(e.alert("positive","Reporte generado exitosamente"),e.goTo("reports")):e.alert("warning","Reporte creado, correo no enviado."),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),e.alert("negative","Ha ocurrido un error");case 12:e.disableLoading();case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}},Mt=$t,Nt=a("0378"),zt=Object(d["a"])(Mt,Qt,Lt,!1,null,null,null),Vt=zt.exports;g()(zt,"components",{QForm:Nt["a"],QInput:P["a"],QIcon:p["a"],QPopupProxy:bt["a"],QDate:Ct["a"],QTime:kt["a"],QSeparator:R["a"],QBtn:D["a"]});var Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"text-h6"},[e._v("Reporte")]),a("div",{staticClass:"text-h8"},[e._v("Tratamiento: "+e._s(e.report.name))]),a("div",{staticClass:"text-h8"},[e._v("Cliente: "+e._s(e.report.cliente_name))]),a("q-separator"),e._l(e.report.variables,(function(t){return a("div",{key:t.id},[a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:t.name,disable:e.user.rank<2},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"variable.value"}})],1)})),a("div",{staticClass:"text-h6"},[e._v("Observacion:")]),a("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.report.observacion,callback:function(t){e.$set(e.report,"observacion",t)},expression:"report.observacion"}}),[3,2,4,5,6].includes(e.user.rank)?a("q-btn",{attrs:{flat:"",color:"primary"},on:{click:e.editReport}},[e._v("\n              Editar\n            ")]):e._e(),[3,2,4,5,6].includes(e.user.rank)?a("q-btn",{attrs:{flat:"",color:"negative"},on:{click:e.deleteReport}},[e._v("\n              Eliminar\n            ")]):e._e()],2),a("div",{staticClass:"col-1"})])])},Ht=[],Ut={name:"report-component",mixins:[s["a"]],props:["user"],data:function(){return{id:this.$route.params.id,report:{},editor:We.a,editorConfig:{}}},created:function(){this.getReportInfo()},methods:{getReportInfo:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,Pt.getReportById({id:e.id,token:localStorage.getItem("token")});case 3:a=t.sent,e.report=a.data.report,e.disableLoading();case 6:case"end":return t.stop()}}),t)})))()},deleteReport:function(){var e=this;this.$q.dialog({title:"Confirmar",message:"Seguro que deseas eliminar este reporte?",cancel:!0,persistent:!0}).onOk(w()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,Pt.deleteReport({id:e.id,token:localStorage.getItem("token")});case 4:a=t.sent,200===a.status&&(e.alert("positive","Eliminado correctamente"),e.goTo("reports")),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.alert("negative","Se presentó un error");case 11:e.disableLoading();case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).onOk((function(){})).onCancel((function(){})).onDismiss((function(){}))},editReport:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),e.report.token=localStorage.getItem("token"),t.next=5,Pt.editReport(e.report);case 5:a=t.sent,200===a.status&&(e.alert("positive","Actualizado correctamente"),e.goTo("reports")),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.alert("negative","Se presentó un error");case 12:e.disableLoading();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},Gt=Ut,Xt=Object(d["a"])(Gt,Bt,Ht,!1,null,null,null),Yt=Xt.exports;g()(Xt,"components",{QSeparator:R["a"],QInput:P["a"],QBtn:D["a"]});var Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[e._m(0),void 0===e.idproject||""===e.idproject?a("q-btn",{staticClass:"full-width",attrs:{color:"primary",outline:"",label:"Seleccionar tratamiento",icon:"add"},on:{click:e.addProject}}):a("q-btn",{staticClass:"full-width",attrs:{color:"primary",outline:"",label:"Cambiar tratamiento",icon:"edit"},on:{click:e.addProject}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",label:"Desde",required:"",rules:[function(e){return!!e||"Tienes que llenar este campo"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)],1)]},proxy:!0}]),model:{value:e.from,callback:function(t){e.from=t},expression:"from"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",label:"Hasta",required:"",rules:[function(e){return!!e||"Tienes que llenar este campo"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1)]},proxy:!0}]),model:{value:e.to,callback:function(t){e.to=t},expression:"to"}}),a("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Generar grafica"},on:{click:function(t){return e.validateForm([e.idproject],e.generarGraficas)}}}),e._l(e.graphics,(function(t,o){return a("div",{key:t.id},[a("highcharts",{attrs:{options:e.getChartOptions(o)}}),a("br"),a("analisis-grafica-component",{attrs:{values:t}}),a("br"),a("q-separator")],1)})),a("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("projects-component",{attrs:{mode:"select"},on:{selectproject:e.selectProject}})],1)],1)],1)],2),a("div",{staticClass:"col-1"})])])},Jt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",{staticClass:"text-h4"},[e._v("\n                  Gráficas\n              ")])])}],Wt={name:"graphics-component",mixins:[s["a"]],props:["mode"],components:{highcharts:vt["Chart"],ProjectsComponent:Ce,AnalisisGraficaComponent:mt},data:function(){return{idproject:"",dialog:!1,generar:!1,from:ot["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss"),to:ot["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss"),graphics:[]}},methods:{generarGraficas:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.generar=!0,a={},a.idproyecto=e.idproject,a.token=localStorage.getItem("token"),a.from=e.from,a.to=e.to,e.activateLoading("Cargando"),t.next=9,pt.getStats(a);case 9:o=t.sent,e.disableLoading(),e.graphics=o.data.statics,e.getVars(e.graphics);case 13:case"end":return t.stop()}}),t)})))()},selectProject:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.idproject=e,t.dialog=!1;case 2:case"end":return a.stop()}}),a)})))()},addProject:function(){this.dialog=!0},getChartOptions:function(e){return this.getChar(e)}}},Zt=Wt,ea=Object(d["a"])(Zt,Kt,Jt,!1,null,null,null),ta=ea.exports;g()(ea,"components",{QBtn:D["a"],QInput:P["a"],QIcon:p["a"],QPopupProxy:bt["a"],QDate:Ct["a"],QTime:kt["a"],QSeparator:R["a"],QDialog:j["a"],QCard:E["a"],QCardSection:ge["a"]});var aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"text-h4"},[e._v("Bienvenido, "+e._s(e.user.name)+".")]),a("br"),e._v("\n            Plataforma donde se registran los distintos programas químicos, también se realizan calculos de dosificaciones y sugerencias de nuestros productos químicos.\n            "),a("br"),a("q-separator"),a("br"),a("center",[e.hasAccess([1],e.user)?a("q-btn",{attrs:{label:"Activar tour",color:"primary"},on:{click:e.startTour}}):e._e()],1)],1),a("div",{staticClass:"col-1"})])])},oa=[],ra={name:"home-component",mixins:[s["a"]],props:["user"],data:function(){return{}},mounted:function(){},methods:{startTour:function(){this.$emit("tour")}}},na=ra,ia=Object(d["a"])(na,aa,oa,!1,null,null,null),sa=ia.exports;g()(ia,"components",{QSeparator:R["a"],QBtn:D["a"]});var la=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[e._m(0),a("div",{staticClass:"row"},e._l(e.formulas,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("q-card",{class:"my-card bg-green-7 text-white",staticStyle:{margin:"5px"},attrs:{flat:"",bordered:""}},[a("q-card-section",{staticClass:"cards",attrs:{horizontal:""}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v(e._s(t.name))])])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{staticClass:"bg-green",attrs:{flat:""},on:{click:function(a){return e.goTo("calculate/"+t.id)}}},[e._v("\n                            Calcular\n                            ")])],1)],1)],1)})),0)]),a("div",{staticClass:"col-1"})])])},ca=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",{staticClass:"text-h4"},[e._v("\n                  Fórmulas\n              ")])])}],da={name:"calculate-component",mixins:[s["a"]],data:function(){return{formulas:[{name:"Enfriamentos de sistemas abiertos",id:1},{name:"Parametros vapor",id:2},{name:"Polimeros - Aplicaciones Industriales",id:3},{name:"Polimeros - Comparacion tecnica",id:4},{name:"Polimeros - Laboratorio",id:5},{name:"Filtración - Rata de Flujo",id:6},{name:"Filtración - Aplicaciones Antiincrustantes",id:7}]}},mounted:function(){},methods:{organizarCards:function(){return w()(regeneratorRuntime.mark((function e(){var t,a,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,document.getElementsByClassName("cards");case 2:for(t=e.sent,a=0,o=0;o<t.length;o++)a<=t[o].clientHeight&&(a=t[o].clientHeight);for(r=0;r<t.length;r++)document.getElementsByClassName("cards")[r].style.height=a+"px";case 6:case"end":return e.stop()}}),e)})))()}}},ua=da,ma=Object(d["a"])(ua,la,ca,!1,null,null,null),pa=ma.exports;g()(ma,"components",{QCard:E["a"],QCardSection:ge["a"],QCardActions:F["a"],QBtn:D["a"]});var va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("formula",{attrs:{configuration:e.configuration}})],1),a("div",{staticClass:"col-1"})])])},fa=[],ga={getSettings:function(e){return Object(ne["a"])().get("settings",{headers:{Authorization:e.token}})},getSettingByMap:function(e){return Object(ne["a"])().get("setting/"+e.map,{headers:{Authorization:e.token}})},updateSetting:function(e){return Object(ne["a"])().post("setting/"+e.id,e,{headers:{Authorization:e.token}})}},ha={name:"calculate-form-component",mixins:[s["a"]],data:function(){return{id:this.$route.params.id,configuration:{messageCalculate:"La información proporcionada a través de la plataforma de “Cálculos Programas Químicos” se ofrece de buena fe. Los usuarios de la información asumen todos los riesgos y responsabilidades y liberan expresamente a Exro SAS y Quimexcol Zona Franca SAS, sus funcionarios y agentes de cualquier responsabilidad. Debido a que las condiciones de uso y datos de cada proceso pueden cambiar con el tiempo, o con las condiciones actualizadas. Los usuarios de la información aquí establecida o generada durante el uso de la plataforma  son responsables de determinar la idoneidad de la información. Ante cualquier inquietud se debe acudir a nuestro Equipo Técnico y/o de Ventas y Servicios para aclarar o interpretar los resultados. Los usuarios de la plataforma no están autorizados para compartir la información o tecnología."}}},created:function(){this.$options.components.formula=a("3b72")("./Form"+this.id).default},mounted:function(){this.getSettings()},methods:{getSettings:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,ga.getSettingByMap({map:"calculate_text",token:localStorage.getItem("token")});case 3:a=t.sent,e.configuration.messageCalculate=a.data.value,e.disableLoading();case 6:case"end":return t.stop()}}),t)})))()}}},ba=ha,Ca=Object(d["a"])(ba,va,fa,!1,null,null,null),ka=Ca.exports,ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[e._m(0),a("br"),a("q-table",{key:e.reload,staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.data,columns:e.columns,"row-key":"type",filter:e.filter,pagination:e.pagination,loading:e.loading},on:{request:e.onRequest},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                            "+e._s(t.row.id)+"\n                        ")]),a("q-td",{key:"type",attrs:{props:t}},[e._v("\n                            "+e._s(t.row.type)+"\n                        ")]),a("q-td",{key:"action",attrs:{props:t}},[e._v("\n                            "+e._s(t.row.action)+"\n                        ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                            "+e._s(t.row.name)+"\n                        ")])],1)]}},{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",color:"grey-3","bg-color":"white","label-color":"primary",filled:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])})],1),a("div",{staticClass:"col-1"})])])},wa=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",{staticClass:"text-h4"},[e._v("\n                  Auditoria\n                  ")])])}],xa=(a("4de4"),{getLogs:function(e){return Object(ne["a"])().get("logs/"+e.rowsPerPage+"/"+e.page+"/"+e.filter,{headers:{Authorization:e.token}})}}),_a={name:"logs-component",mixins:[s["a"]],props:["mode"],data:function(){return{filter:"",columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"type",align:"center",label:"Tipo",field:"type",sortable:!0},{name:"action",align:"center",label:"Acción",field:"action",sortable:!0},{name:"name",align:"center",label:"Usuario",field:"name",sortable:!0}],data:[],pagination:{page:1,rowsPerPage:5,rowsNumber:10},loading:!1,reload:0}},created:function(){this.getLogs()},methods:{getLogs:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,xa.getLogs({page:0,rowsPerPage:5,filter:"",token:localStorage.getItem("token")});case 3:a=t.sent,e.data=a.data,e.data[0]&&(e.pagination.rowsNumber=e.data[0].total,e.reload++),e.disableLoading();case 7:case"end":return t.stop()}}),t)})))()},truncateLogs:function(){return w()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("truncating");case 1:case"end":return e.stop()}}),e)})))()},onRequest:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){var o,r,n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=e.pagination,r=o.page,n=o.rowsPerPage,i=e.filter,t.loading=!0,a.next=5,xa.getLogs({page:r-1,rowsPerPage:n,filter:i,token:localStorage.getItem("token")});case 5:s=a.sent,t.data=s.data,t.pagination.page=r,t.reload++,t.loading=!1;case 10:case"end":return a.stop()}}),a)})))()}}},qa=_a,Aa=Object(d["a"])(qa,ya,wa,!1,null,null,null),Sa=Aa.exports;g()(Aa,"components",{QBtn:D["a"],QTooltip:$["a"],QTable:M["a"],QTr:N["a"],QTd:z["a"],QInput:P["a"],QIcon:p["a"]});var ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[e._m(0),a("br"),a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.data,columns:e.columns,filter:e.filter,"row-key":"id"},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.id)+"\n                  ")]),a("q-td",{key:"field",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.field)+"\n                  ")]),a("q-td",{key:"value",attrs:{props:t},on:{click:function(a){return e.openModal(t.row)}}},[e._v("\n                      "+e._s(t.row.value)+"\n                  ")])],1)]}},{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",color:"grey-3","bg-color":"white","label-color":"primary",filled:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])}),a("br")],1),a("div",{staticClass:"col-1"}),a("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.valueEditing.value,callback:function(t){e.$set(e.valueEditing,"value",t)},expression:"valueEditing.value"}}),a("q-btn",{attrs:{color:"primary"},on:{click:function(t){return e.updateRow(e.valueEditing)}}},[e._v("\n                Guardar\n              ")])],1)],1)],1)],1)])},Ea=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",{staticClass:"text-h4"},[e._v("\n                  Settings\n                  ")])])}],Ra={name:"settings-component",mixins:[s["a"]],props:["mode"],data:function(){return{editor:We.a,editorConfig:{},filter:"",columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"field",align:"center",label:"Campo",field:"field",sortable:!0},{name:"value",align:"center",label:"Valor",field:"value",sortable:!0}],data:[],dialogEdit:!1,valueEditing:{}}},mounted:function(){this.getSettings()},methods:{openModal:function(e){this.valueEditing=e,this.dialogEdit=!0},getSettings:function(){var e=this;return w()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,ga.getSettings({token:localStorage.getItem("token")});case 3:a=t.sent,e.data=a.data,e.disableLoading();case 6:case"end":return t.stop()}}),t)})))()},updateRow:function(e){var t=this;return w()(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.token=localStorage.getItem("token"),t.activateLoading("Cargando"),a.next=5,ga.updateSetting(e);case 5:o=a.sent,200===o.status&&(t.getSettings(),t.alert("positive","Configuración actualizada")),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),t.alert("negative","Se ha presentado un error al actualizar");case 12:t.disableLoading();case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()}}},Pa=Ra,Oa=Object(d["a"])(Pa,ja,Ea,!1,null,null,null),Fa=Oa.exports;g()(Oa,"components",{QBtn:D["a"],QTooltip:$["a"],QTable:M["a"],QTr:N["a"],QTd:z["a"],QInput:P["a"],QIcon:p["a"],QDialog:j["a"],QCard:E["a"],QCardSection:ge["a"]});var Da=[{title:"Inicio",icon:"home",link:"home",ranks:[1,2,3,4,5,6,7]},{title:"Usuarios",icon:"business",link:"users",ranks:[1,3]},{title:"Clientes",icon:"face",link:"clients",ranks:[3,2,3,4,5,6]},{title:"Tratamientos",icon:"library_books",link:"projects",ranks:[1,7]},{title:"Fórmulas",icon:"calculate",link:"calculate",ranks:[2,3,4,5,6]},{title:"Auditoria",icon:"history",link:"logs",ranks:[3]},{title:"Configuracion",icon:"settings",link:"settings",ranks:[3]}],Ia={name:"MainLayout",components:{EssentialLink:b,UsersComponent:B,UserComponent:K,ClientsComponent:ae,ProjectsComponent:Ce,ProjectsClientComponent:Pe,ProjectComponent:wt,HomeComponent:sa,CalculateComponent:pa,CalculateFormComponent:ka,LogsComponent:Sa,SettingsComponent:Fa,VarsComponent:Xe,VarComponent:jt,ReportsComponent:Tt,NewReportComponent:Vt,ReportComponent:Yt,GraphicsComponent:ta},mixins:[s["a"]],data:function(){return{leftDrawerOpen:!1,essentialLinks:Da,user:JSON.parse(localStorage.getItem("user")),steps3:[{target:"#home",header:{title:"Inicio"},content:"Plataforma donde se registran los distintos programas químicos, también se realizan calculos de dosificaciones y sugerencias de nuestros productos químicos."},{target:"#users",overlay:"#users",header:{title:"Sección de Usuarios"},content:"En este apartado puedes agregar diferentes tipos de usuarios.",params:{placement:"bottom"}},{target:"#projects",overlay:"#projects",header:{title:"Sección de Tratamientos"},content:"Gestiona los tratamientos que manejas actualmente.",params:{placement:"bottom"}},{target:"#vars",overlay:"#vars",header:{title:"Sección de Variables"},content:"Agrega variables a la aplicación para usarlos en tratamientos.",params:{placement:"bottom-right"}},{target:"#reports",overlay:"#reports",header:{title:"Sección de Reportes"},content:"Actualiza los valores de variables de los tratamientos.",params:{placement:"bottom-right"}},{target:"#graphics",overlay:"#graphics",header:{title:"Sección de Gráficas"},content:"Mira los avances de los tratamientos, revisa el estado de sus variables.",params:{placement:"bottom-right"}},{target:"#calculate",overlay:"#calculate",header:{title:"Sección de Fórmulas"},content:"Realiza calculos.",params:{placement:"bottom-right"}}],steps2:[{target:"#home",header:{title:"Inicio"},content:"Plataforma donde se registran los distintos programas químicos, también se realizan calculos de dosificaciones y sugerencias de nuestros productos químicos."},{target:"#reports",overlay:"#reports",header:{title:"Sección de Reportes"},content:"Actualiza los valores de variables de los tratamientos.",params:{placement:"bottom-right"}},{target:"#graphics",overlay:"#graphics",header:{title:"Sección de Gráficas"},content:"Mira los avances de los tratamientos, revisa el estado de sus variables.",params:{placement:"bottom-right"}},{target:"#calculate",overlay:"#calculate",header:{title:"Sección de Fórmulas"},content:"Realiza calculos.",params:{placement:"bottom-right"}}],steps1:[{target:"#home",header:{title:"Inicio"},content:"Plataforma donde se registran los distintos programas químicos, también se realizan calculos de dosificaciones y sugerencias de nuestros productos químicos."},{target:"#reports",overlay:"#reports",header:{title:"Sección de Reportes"},content:"Actualiza los valores de variables de los tratamientos.",params:{placement:"bottom-right"}},{target:"#graphics",overlay:"#graphics",header:{title:"Sección de Gráficas"},content:"Mira los avances de los tratamientos, revisa el estado de sus variables.",params:{placement:"bottom-right"}}]}},props:["view"],methods:{activateTour:function(){!1===this.leftDrawerOpen&&(this.leftDrawerOpen=!0),setTimeout(this.$tours.myTour.start,1e3)}}},Ta=Ia,Qa=(a("9c06"),a("4d5a")),La=a("e359"),$a=a("65c6"),Ma=a("6ac5"),Na=a("9404"),za=a("1c1c"),Va=a("09e3"),Ba=Object(d["a"])(Ta,o,r,!1,null,"813add9c",null);t["default"]=Ba.exports;g()(Ba,"components",{QLayout:Qa["a"],QHeader:La["a"],QToolbar:$a["a"],QBtn:D["a"],QToolbarTitle:Ma["a"],QImg:he["a"],QDrawer:Na["a"],QList:za["a"],QPageContainer:Va["a"]})},"769d":function(e,t,a){},7925:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"content"},[a("center",[a("div",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.formName)+"\n      ")])]),a("div",{staticClass:"row"},e._l(e.tables,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("div",{staticClass:"table"},[a("div",{staticClass:"box",staticStyle:{padding:"5px"}},[a("div",{staticClass:"row"},["3.3 Relaciones de Reemplazo"===t.name?a("div",{staticClass:"col-12"},[a("b",[e._v(e._s(t.name))]),e._v("\n                            Cuantas ppm de ayudante de coagulancion reemplazan cuantas ppm de coagulante principal.\n                        ")]):"3.2 Porcentajes de Sustitucion"===t.name?a("div",{staticClass:"col-12"},[a("b",[e._v(e._s(t.name))]),e._v("\n                            Para uso de ayudante de coagulacion.\n                        ")]):a("div",{staticClass:"col-12"},[a("b",[e._v(e._s(t.name))])])]),e._l(t.fields,(function(t){return a("div",{key:t.id,staticClass:"row"},["titulo"===t.value?a("div",{staticClass:"col-6"},[a("b",[e._v(e._s(t.name))])]):e._e(),"titulo"===t.value?a("div",{staticClass:"col-6"}):a("div",{staticClass:"col-6"},[e._v(e._s(t.name))]),"Nombre"===t.name?a("div",{staticClass:"col-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"full-width full-height",style:t.color+"; text-align: center",attrs:{type:"text"},domProps:{value:t.value},on:{input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}})]):a("div",{staticClass:"col-3"},["titulo"!==t.value?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"full-width full-height",style:t.color+"; text-align: right",attrs:{type:"text",readonly:"background-color:yellow"===t.color},domProps:{value:t.value},on:{keypress:function(a){return e.validar(t.value,t.conditions,a)},input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}}):e._e()]),""!==t.unidad?a("div",{staticClass:"col-3"},[e._v(e._s(t.unidad))]):e._e()])}))],2)])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("br"),a("div",{staticClass:"form__buttons"},[a("q-btn",{attrs:{color:"black",label:"Exportar PDF"},on:{click:e.printPDF}})],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticStyle:{"text-align":"justify"},domProps:{innerHTML:e._s(e.configuration.messageCalculate)}})])])],1)},r=[],n=a("9f21"),i=a("8baf"),s=a("70b0"),l=a.n(s),c={props:["configuration"],name:"form-4-component",mixins:[n["a"]],data:function(){return{formName:"Polimeros - Comparacion tecnica",interpretacion:"",showInterpretacion:!1,products:[],tables:[{id:1,name:"3.1 Comparacion Tecnica",fields:[{id:1,name:"Coagulante Principal",value:"titulo",color:"",unidad:""},{id:2,name:"Nombre",value:"",color:"background-color:#A2CCFA",unidad:""},{id:3,name:"Docis Actual",value:"",color:"background-color:#A2CCFA",unidad:"ppm"}]},{id:2,name:"3.2 Porcentajes de Sustitucion",fields:[{id:1,name:"Sustitucion Deseada",value:"",color:"background-color:#A2CCFA",unidad:"%"},{id:2,name:"Nueva Dosis Coagulante Principal",value:"",color:"background-color:yellow",unidad:"ppm"},{id:3,name:"Dosis Pendiente a reemplazar",value:"",color:"background-color:yellow",unidad:"ppm"}]},{id:3,name:"3.3 Relaciones de Reemplazo",fields:[{id:1,name:"Relacion de Reemplazo 1 a",value:"",color:"background-color:#A2CCFA",unidad:"ppm"},{id:2,name:"Dosis de Ayudante de Coagulacion",value:"",color:"background-color:yellow",unidad:"ppm"}]},{id:4,name:"3.4 Comparacion Economica",fields:[{id:1,name:"3.4.1 Tratamiento Actual",value:"titulo",color:""},{id:2,name:"Precio de Coagulante Principal",value:"",color:"background-color:#A2CCFA",unidad:"$ / m3"},{id:3,name:"Dosis de Coagulante Principal",value:"",color:"background-color:#A2CCFA",unidad:"ppm"},{id:4,name:"$ /m3 de Tratamiento Actual",value:"",color:"background-color:yellow",unidad:"$ / m3"}]},{id:5,name:"3.4.2 Tratamiento con sustitucion parcial",fields:[{id:1,name:"Precio de Coagulante Principal",value:"",color:"background-color:#A2CCFA",unidad:"$ / m3"},{id:2,name:"Dosis de Coagulante Principal",value:"",color:"background-color:#A2CCFA",unidad:"ppm"},{id:3,name:"$ /m3 de Tratamiento",value:"",color:"background-color:yellow",unidad:"$ / m3"},{id:4,name:".",value:"titulo",color:"",unidad:""},{id:5,name:"Precio de Ayudante de Coagulacion",value:"",color:"background-color:#A2CCFA",unidad:"$ / m3"},{id:6,name:"Dosis de Ayudante de Coagulancion",value:"",color:"background-color:#A2CCFA",unidad:"ppm"},{id:7,name:"$ /m3 de Tratamiento",value:"",color:"background-color:yellow",unidad:"$ / m3"},{id:8,name:".",value:"titulo",color:""},{id:9,name:"Nuevo Costo del Tratamiento",value:"",color:"background-color:yellow",unidad:"$ / m3"}]}]}},updated:function(){this.porcentajesSustitucion(),this.relacionesReemplazo(),this.tratamientoActual(),this.tratamientoSustitucionParcial()},mounted:function(){this.porcentajesSustitucion(),this.relacionesReemplazo(),this.tratamientoActual(),this.tratamientoSustitucionParcial()},methods:{isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},validar:function(e,t,a){var o=a.target.value+a.key;"-"===a.key||this.isNumber(o)||a.preventDefault(),t&&(t.min&&o<t.min?(this.alert("negative","No puedes colocar un valor menor que "+t.min),a.preventDefault()):t.max&&o>t.max&&(this.alert("negative","No puedes colocar un valor mayor que "+t.max),a.preventDefault()))},porcentajesSustitucion:function(){this.tables[1].fields[1].value=this.tables[0].fields[2].value*(1-this.tables[1].fields[0].value/100),this.tables[1].fields[2].value=this.tables[0].fields[2].value-this.tables[1].fields[1].value},relacionesReemplazo:function(){this.tables[2].fields[1].value=this.tables[1].fields[2].value/this.tables[2].fields[0].value},tratamientoActual:function(){this.tables[3].fields[2].value=this.tables[0].fields[2].value,this.tables[3].fields[3].value=this.tables[3].fields[1].value*this.tables[3].fields[2].value/1e3},tratamientoSustitucionParcial:function(){this.tables[4].fields[0].value=this.tables[3].fields[1].value,this.tables[4].fields[1].value=this.tables[1].fields[1].value,this.tables[4].fields[5].value=this.tables[2].fields[1].value,this.tables[4].fields[2].value=this.tables[4].fields[0].value*this.tables[4].fields[1].value/1e3,this.tables[4].fields[6].value=this.tables[4].fields[4].value*this.tables[4].fields[5].value/1e3,this.tables[4].fields[8].value=this.tables[4].fields[2].value+this.tables[4].fields[6].value},printPDF:function(){document.getElementsByClassName("form__buttons")[0].style.display="none",l.a.toPng(this.$refs.content).then((function(e){var t=new Image;t.src=e;var a=new i["a"]({}),o=a.internal.pageSize.getWidth(),r=a.internal.pageSize.getHeight();a.addImage(t,"JPEG",0,0,o,r);var n="form.pdf";a.save(n),document.getElementsByClassName("form__buttons")[0].style.display="block"})).catch((function(e){console.error("oops, something went wrong!",e)}))}}},d=c,u=(a("1dbe"),a("2877")),m=a("9c40"),p=a("eebe"),v=a.n(p),f=Object(u["a"])(d,o,r,!1,null,"7af0579a",null);t["default"]=f.exports;v()(f,"components",{QBtn:m["a"]})},"79ca":function(e,t,a){},8014:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"content"},[a("center",[a("div",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.formName)+"\n      ")])]),a("div",{staticClass:"row"},e._l(e.tables,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("div",{staticClass:"table"},[a("div",{staticClass:"box",staticStyle:{padding:"5px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b",[e._v(e._s(t.name))])])]),e._l(t.fields,(function(t){return a("div",{key:t.id,staticClass:"row"},[a("div",{staticClass:"col-6"},[e._v(e._s(t.name))]),a("div",{staticClass:"col-6"},["Nombre del producto"===t.name?a("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"full-width full-height",style:t.color+"; text-align: center",on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"value",a.target.multiple?o:o[0])}}},[a("option",{attrs:{value:"EXRO 614"}},[e._v("EXRO 614")]),a("option",{attrs:{value:"EXRO 633"}},[e._v("EXRO 663")])]):""!==t.name?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"full-width full-height",style:t.color+"; text-align: center",attrs:{type:"text",readonly:"background-color:yellow"===t.color},domProps:{value:t.value},on:{keypress:function(a){return e.validar(t.value,t.conditions,a)},input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}}):a("br")])])}))],2)])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("br"),a("div",{staticClass:"form__buttons"},[a("q-btn",{attrs:{color:"black",label:"Exportar PDF"},on:{click:e.printPDF}})],1),a("br"),e.showInterpretacion?a("div",{staticClass:"container"},[a("div",{staticClass:"text-h6"},[e._v("Interpretación del RYZNAR")]),e._v("\n          "+e._s(e.interpretacion)+"\n        ")]):e._e(),a("br"),e.showInterpretacion?a("div",{staticClass:"container"},[a("div",{staticClass:"text-h6"},[e._v("Productos sugeridos")]),e._l(e.products,(function(t){return a("ul",{key:t.id},[a("li",[e._v(e._s(t.name))])])})),a("b",[e._v("NOTA:")]),e._v(" Acorde a la caracterizacion fisicoquimica del agua, se pueden encontrar situaciones donde se requieran 2 productos ( Inhibidor de corrosion y dispersante) o un producto multifuncional  independientemente del indice de Ryznar\n        ")],2):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticStyle:{"text-align":"justify"},domProps:{innerHTML:e._s(e.configuration.messageCalculate)}})])])],1)},r=[],n=a("9f21"),i=a("8baf"),s=a("70b0"),l=a.n(s),c={props:["configuration"],name:"form-6-component",mixins:[n["a"]],data:function(){return{formName:"Filtración - Rata de Flujo",interpretacion:"",showInterpretacion:!1,products:[],tables:[{id:1,name:"Rata de Filtracion",fields:[{id:1,name:"Q a trabajar (m^3/hora)",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Q a trabajar (m^3/seg)",value:"",color:"background-color:yellow"},{id:3,name:"Q a trabajar (gpm)",value:"",color:"background-color:yellow"},{id:4,name:"Diámetro Filtro (metros)",value:"",color:"background-color:#A2CCFA"},{id:5,name:"Diámetro Filtro (in)",value:"",color:"background-color:yellow"},{id:6,name:"Diámetro Filtro (ft)",value:"",color:"background-color:yellow"},{id:7,name:"Area (m2)",value:"",color:"background-color:yellow"},{id:8,name:"Area (ft^2)",value:"",color:"background-color:yellow"},{id:9,name:"Rata de Flujo (gpm/ft2)",value:"",color:"background-color:yellow"},{id:10,name:"Rata de Flujo (m3/(m2/día))",value:"",color:"background-color:yellow"},{id:11,name:"RF (gpm/ft2)",value:"",color:"background-color:#A2CCFA"},{id:12,name:"RF (m3/m2*día)",value:"",color:"background-color:yellow"},{id:13,name:"RF (m3/m2*día)",value:"",color:"background-color:#A2CCFA"},{id:14,name:"RF (gpm/ft2)",value:"",color:"background-color:yellow"}]},{id:2,name:"Volumen de llenado filtro",fields:[{id:1,name:"Altura Recta Filtro (metros)",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Altura Recta Filtro (in)",value:"",color:"background-color:yellow"},{id:3,name:"V 100% (mts3)",value:"",color:"background-color:yellow"},{id:4,name:"V 60% (mts3)",value:"",color:"background-color:yellow"}]},{id:3,name:"Velocidad lineal del fluido",fields:[{id:1,name:"Ø Tubería (in)",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Ø Tubería (metros)",value:"",color:"background-color:yellow"},{id:3,name:"A (m^2)",value:"",color:"background-color:yellow"},{id:4,name:"V (m/seg)",value:"",color:"background-color:yellow"}]},{id:4,name:"Densidad de Lechos",fields:[{id:1,name:"ɗ Gravas (kg/m3)",value:"",color:"background-color:#A2CCFA"},{id:2,name:"ɗ Carbón (kg/m3)",value:"",color:"background-color:#A2CCFA"},{id:3,name:"ɗ Turbidex (Kg/ft3)",value:"",color:"background-color:#A2CCFA"}]},{id:5,name:"Estratificacion del lecho - OPCIÓN 1  Gravas y Arenas",fields:[{id:1,name:"Grava # 6-8 (Kg)",value:"",color:"background-color:yellow"},{id:2,name:"Gravilla # 8-14 (Kg)",value:"",color:"background-color:yellow"},{id:3,name:"Arena # 14-20 (Kg)",value:"",color:"background-color:yellow"},{id:4,name:"Arena 20-40 (Kg)",value:"",color:"background-color:yellow"}]},{id:6,name:"Estratificacion del lecho - OPCIÓN 2 Grava, Arena y Turbidex",fields:[{id:1,name:"Grava # 6-8 (Kg)",value:"",color:"background-color:yellow"},{id:2,name:"Gravilla # 8-14 (Kg)",value:"",color:"background-color:yellow"},{id:3,name:"Arena # 14-20 (Kg)",value:"",color:"background-color:yellow"},{id:4,name:"Turbidex (ft3)",value:"",color:"background-color:yellow"}]},{id:7,name:"Estratificacion del lecho - OPCIÓN 3 Grava, Gravilla y Carbon Activado",fields:[{id:1,name:"Grava # 6-8 (Kg)",value:"",color:"background-color:yellow"},{id:2,name:"Gravilla # 8-14 (Kg)",value:"",color:"background-color:yellow"},{id:3,name:"Carbon Activado (Kg)",value:"",color:"background-color:yellow"}]}]}},updated:function(){this.qATrabajarUno(),this.qATrabajarDos(),this.diametroFiltroUno(),this.diametroFiltroDos(),this.areaUno(),this.areaDos(),this.rataFlujoUno(),this.rataFlujoDos(),this.rfUno(),this.rfDos(),this.alturaRectoFiltro(),this.vUno(),this.vDos(),this.tuberia(),this.aUno(),this.vTres(),this.gravaUno(),this.gravillaUno(),this.arenaUno(),this.arenaDos(),this.gravaDos(),this.gravillaDos(),this.arenaTres(),this.turbidexUno(),this.gravaTres(),this.gravillaTres(),this.carbonActivadoUno()},mounted:function(){this.qATrabajarUno(),this.qATrabajarDos(),this.diametroFiltroUno(),this.diametroFiltroDos(),this.areaUno(),this.areaDos(),this.rataFlujoUno(),this.rataFlujoDos(),this.rfUno(),this.rfDos(),this.alturaRectoFiltro(),this.vUno(),this.vDos(),this.tuberia(),this.aUno(),this.vTres(),this.gravaUno(),this.gravillaUno(),this.arenaUno(),this.arenaDos(),this.gravaDos(),this.gravillaDos(),this.arenaTres(),this.turbidexUno(),this.gravaTres(),this.gravillaTres(),this.carbonActivadoUno()},methods:{isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},validar:function(e,t,a){var o=a.target.value+a.key;"-"===a.key||this.isNumber(o)||a.preventDefault(),t&&(t.min&&o<t.min?(this.alert("negative","No puedes colocar un valor menor que "+t.min),a.preventDefault()):t.max&&o>t.max&&(this.alert("negative","No puedes colocar un valor mayor que "+t.max),a.preventDefault()))},qATrabajarUno:function(){this.tables[0].fields[1].value=Math.round(this.tables[0].fields[0].value/3600*1e8)/1e8},qATrabajarDos:function(){this.tables[0].fields[2].value=Math.round(1e3*this.tables[0].fields[0].value/(3.785*60)*1e3)/1e3},diametroFiltroUno:function(){this.tables[0].fields[4].value=Math.round(this.tables[0].fields[3].value/2.54*100*1e3)/1e3},diametroFiltroDos:function(){this.tables[0].fields[5].value=Math.round(3.28084*this.tables[0].fields[3].value*1e3)/1e3},areaUno:function(){this.tables[0].fields[6].value=Math.round(.092903*this.tables[0].fields[7].value*1e3)/1e3},areaDos:function(){this.tables[0].fields[7].value=Math.round(3.1416*Math.pow(this.tables[0].fields[5].value,2)/4*1e3)/1e3},rataFlujoUno:function(){this.tables[0].fields[8].value=Math.round(this.tables[0].fields[2].value/this.tables[0].fields[7].value*1e3)/1e3},rataFlujoDos:function(){this.tables[0].fields[9].value=Math.round(3.7851*this.tables[0].fields[8].value*1440/92.903*1e3)/1e3},rfUno:function(){this.tables[0].fields[11].value=Math.round(3.785*this.tables[0].fields[10].value*1440/(1e3*.0929)*1e3)/1e3},rfDos:function(){this.tables[0].fields[13].value=Math.round(1e3*this.tables[0].fields[12].value/58667.56056*1e3)/1e3},alturaRectoFiltro:function(){this.tables[1].fields[1].value=Math.round(100*this.tables[1].fields[0].value/2.54*1e3)/1e3},vUno:function(){this.tables[1].fields[2].value=Math.round(3.14116*Math.pow(this.tables[0].fields[3].value,2)*this.tables[1].fields[0].value/4*1e3)/1e3},vDos:function(){this.tables[1].fields[3].value=Math.round(.6*this.tables[1].fields[2].value*1e3)/1e3},tuberia:function(){this.tables[2].fields[1].value=Math.round(.0254*this.tables[2].fields[0].value*1e6)/1e6},aUno:function(){this.tables[2].fields[2].value=Math.round(3.1416*Math.pow(this.tables[2].fields[1].value,2)/4*1e7)/1e7},vTres:function(){this.tables[2].fields[3].value=Math.round(this.tables[0].fields[1].value/this.tables[2].fields[2].value*1e6)/1e6},gravaUno:function(){this.tables[4].fields[0].value=Math.round(1500*this.tables[1].fields[3].value*.25*1e3)/1e3},gravillaUno:function(){this.tables[4].fields[1].value=Math.round(1500*this.tables[1].fields[3].value*.15*1e3)/1e3},arenaUno:function(){this.tables[4].fields[2].value=Math.round(1500*this.tables[1].fields[3].value*.1*1e3)/1e3},arenaDos:function(){this.tables[4].fields[3].value=Math.round(1500*this.tables[1].fields[3].value*.5*1e3)/1e3},gravaDos:function(){this.tables[5].fields[0].value=Math.round(1500*this.tables[1].fields[3].value*.25*1e3)/1e3},gravillaDos:function(){this.tables[5].fields[1].value=Math.round(1500*this.tables[1].fields[3].value*.15*1e3)/1e3},arenaTres:function(){this.tables[5].fields[2].value=Math.round(1500*this.tables[1].fields[3].value*.1*1e3)/1e3},turbidexUno:function(){this.tables[5].fields[3].value=Math.round(802.5*this.tables[1].fields[3].value*.6/this.tables[3].fields[2].value*1e3)/1e3},gravaTres:function(){this.tables[6].fields[0].value=Math.round(1500*this.tables[1].fields[3].value*.25*1e3)/1e3},gravillaTres:function(){this.tables[6].fields[1].value=Math.round(1500*this.tables[1].fields[3].value*.1*1e3)/1e3},carbonActivadoUno:function(){this.tables[6].fields[2].value=Math.round(this.tables[1].fields[3].value*this.tables[3].fields[1].value*.65*1e3)/1e3},printPDF:function(){document.getElementsByClassName("form__buttons")[0].style.display="none",l.a.toPng(this.$refs.content).then((function(e){var t=new Image;t.src=e;var a=new i["a"]({}),o=a.internal.pageSize.getWidth(),r=a.internal.pageSize.getHeight();a.addImage(t,"JPEG",0,0,o,r);var n="form.pdf";a.save(n),document.getElementsByClassName("form__buttons")[0].style.display="block"})).catch((function(e){console.error("oops, something went wrong!",e)}))}}},d=c,u=(a("aba5"),a("2877")),m=a("9c40"),p=a("eebe"),v=a.n(p),f=Object(u["a"])(d,o,r,!1,null,"1b70040a",null);t["default"]=f.exports;v()(f,"components",{QBtn:m["a"]})},"828a":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"content"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("center",[o("div",{staticClass:"text-h4"},[e._v("\n          "+e._s(e.formName)+"\n        ")]),o("img",{staticStyle:{"max-width":"100%"},attrs:{src:a("51a8")}})])],1)]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("div",{staticStyle:{"text-align":"justify"},domProps:{innerHTML:e._s(e.configuration.messageCalculate)}})])])])},r=[],n=a("9f21"),i={props:["configuration"],name:"form-7-component",mixins:[n["a"]],data:function(){return{formName:"Filtración - Aplicaciones Antiincrustantes"}},updated:function(){},mounted:function(){},methods:{}},s=i,l=a("2877"),c=Object(l["a"])(s,o,r,!1,null,"5fcdd34e",null);t["default"]=c.exports},8550:function(e,t,a){"use strict";var o=a("f0e0"),r=a.n(o);r.a},9754:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"content"},[a("center",[a("div",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.formName)+"\n      ")])]),a("div",{staticClass:"row"},e._l(e.tables,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("div",{staticClass:"table"},[a("div",{staticClass:"box",staticStyle:{padding:"5px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b",[e._v(e._s(t.name))])])]),e._l(t.fields,(function(t){return a("div",{key:t.id,staticClass:"row"},[a("div",{staticClass:"col-6"},[e._v(e._s(t.name))]),a("div",{staticClass:"col-6"},["Nombre del producto"===t.name?a("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"full-width full-height",style:t.color+"; text-align: center",on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"value",a.target.multiple?o:o[0])}}},[a("option",{attrs:{value:"EXRO 614"}},[e._v("EXRO 614")]),a("option",{attrs:{value:"EXRO 633"}},[e._v("EXRO 663")])]):""!==t.name?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"full-width full-height",style:t.color+"; text-align: center",attrs:{type:"text",readonly:"background-color:yellow"===t.color},domProps:{value:t.value},on:{keypress:function(a){return e.validar(t.value,t.conditions,a)},input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}}):a("br")])])}))],2)])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("br"),a("div",{staticClass:"form__buttons"},[a("q-btn",{attrs:{color:"black",label:"Exportar PDF"},on:{click:e.printPDF}})],1),a("br"),e.showInterpretacion?a("div",{staticClass:"container"},[a("div",{staticClass:"text-h6"},[e._v("Interpretación del RYZNAR")]),e._v("\n          "+e._s(e.interpretacion)+"\n        ")]):e._e(),a("br"),e.showInterpretacion?a("div",{staticClass:"container"},[a("div",{staticClass:"text-h6"},[e._v("Productos sugeridos")]),e._l(e.products,(function(t){return a("ul",{key:t.id},[a("li",[e._v(e._s(t.name))])])})),a("b",[e._v("NOTA:")]),e._v(" Acorde a la caracterizacion fisicoquimica del agua, se pueden encontrar situaciones donde se requieran 2 productos ( Inhibidor de corrosion y dispersante) o un producto multifuncional  independientemente del indice de Ryznar\n        ")],2):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticStyle:{"text-align":"justify"},domProps:{innerHTML:e._s(e.configuration.messageCalculate)}})])])],1)},r=[],n=a("9f21"),i=a("8baf"),s=a("70b0"),l=a.n(s),c={props:["configuration"],name:"form-5-component",mixins:[n["a"]],data:function(){return{formName:"Polimeros - Laboratorio",interpretacion:"",showInterpretacion:!1,products:[],tables:[{id:1,name:"Coagulantes u otros Productos liquidos",fields:[{id:1,name:"Nombre del producto",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Densidad Producto Puro gr/ml",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Concentracion Deseada",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Cantidad Sln Requerida x litro",value:"",color:"background-color:#A2CCFA"},{id:5,name:"Volumen producto puro",value:"",color:"background-color:yellow"}]},{id:2,name:"Floculantes u otros productos granulares",fields:[{id:1,name:"Nombre del producto",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Concentracion Deseada",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Cantidad Sln Requerida x litro",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Peso de Producto Puro",value:"",color:"background-color:yellow"}]},{id:3,name:"Coagulantes u otros Productos liquidos",fields:[{id:1,name:"Concentracion Sln mg P Puro / ml Sln",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Dosis deseada mg P / Litro AT",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Caudal de Agua a Tratar Litro AT / Seg",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Volumen de Sln a Tomar",value:"",color:"background-color:yellow"}]},{id:4,name:"Floculantes u otros productos granulares",fields:[{id:1,name:"Concentracion Sln mg P Puro / ml Sln",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Dosis deseada mg P / Litro AT",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Caudal de Agua a Tratar Litro AT / Seg",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Volumen de Sln a Tomar",value:"",color:"background-color:yellow"}]}]}},updated:function(){this.volumenProductoPuro(),this.pesoProductoPuro(),this.VolumenATomar1(),this.VolumenATomar2()},mounted:function(){this.volumenProductoPuro(),this.pesoProductoPuro(),this.VolumenATomar1(),this.VolumenATomar2()},methods:{isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},validar:function(e,t,a){var o=a.target.value+a.key;"-"===a.key||this.isNumber(o)||a.preventDefault(),t&&(t.min&&o<t.min?(this.alert("negative","No puedes colocar un valor menor que "+t.min),a.preventDefault()):t.max&&o>t.max&&(this.alert("negative","No puedes colocar un valor mayor que "+t.max),a.preventDefault()))},volumenProductoPuro:function(){this.tables[0].fields[4].value=Math.round(this.tables[0].fields[3].value*(10*this.tables[0].fields[2].value)/this.tables[0].fields[1].value*100)/100},pesoProductoPuro:function(){this.tables[1].fields[3].value=this.tables[1].fields[2].value*(10*this.tables[1].fields[1].value)},VolumenATomar1:function(){this.tables[2].fields[3].value=this.tables[2].fields[1].value*this.tables[2].fields[2].value/(10*this.tables[2].fields[0].value)},VolumenATomar2:function(){this.tables[3].fields[3].value=this.tables[3].fields[2].value*this.tables[3].fields[1].value/(10*this.tables[3].fields[0].value)},getInterpretacion:function(){this.showInterpretacion=!0;var e="";this.tables[2].fields[13].value>=4&&this.tables[2].fields[13].value<5&&(e="Fuertemente incrustante"),this.tables[2].fields[13].value>=5&&this.tables[2].fields[13].value<6&&(e="Ligeramente Incrustante"),this.tables[2].fields[13].value>=6&&this.tables[2].fields[13].value<7&&(e="Ligeramente incriustante o corrosiva"),this.tables[2].fields[13].value>=7&&this.tables[2].fields[13].value<7.5&&(e="Ligeramente corrosiva"),this.tables[2].fields[13].value>=7.5&&this.tables[2].fields[13].value<=9&&(e="Fuertetemente corrosiva"),this.tables[2].fields[13].value>9&&(e="Intolerable corrosion"),this.interpretacion=e,this.getProducts()},getProducts:function(){this.tables[2].fields[13].value<4&&(this.products=[{id:1,name:"EXRO 774"},{id:2,name:"EXRO 764"}]),this.tables[2].fields[13].value>=4&&this.tables[2].fields[13].value<5&&(this.products=[{id:1,name:"EXRO 724"},{id:2,name:"EXRO 760"}]),this.tables[2].fields[13].value>=5&&this.tables[2].fields[13].value<6&&(this.products=[{id:1,name:"EXRO 760"},{id:2,name:"EXRO 771"},{id:3,name:"EXRO 770"}]),this.tables[2].fields[13].value>=6&&this.tables[2].fields[13].value<7&&(this.products=[{id:1,name:"Inhibidor de corrosion + dispersante"},{id:2,name:"EXRO  726"},{id:3,name:"EXRO  717"}]),this.tables[2].fields[13].value>=7&&"Anodica"===this.tables[3].fields[12].value&&(this.products=[{id:1,name:"EXRO  718"},{id:2,name:"EXRO  721"},{id:3,name:"EXRO  725"},{id:4,name:"EXRO  725L"}]),this.tables[2].fields[13].value>=7&&"Catodica"===this.tables[3].fields[12].value&&(this.products=[{id:3,name:"EXRO  725"},{id:4,name:"EXRO  725L"}]),this.tables[2].fields[13].value>=7&&"Mixta"===this.tables[3].fields[12].value&&(this.products=[{id:1,name:"EXRO  726"},{id:2,name:"EXRO  717"},{id:3,name:"EXRO  725"},{id:4,name:"EXRO  725L"}])},printPDF:function(){document.getElementsByClassName("form__buttons")[0].style.display="none",l.a.toPng(this.$refs.content).then((function(e){var t=new Image;t.src=e;var a=new i["a"]({}),o=a.internal.pageSize.getWidth(),r=a.internal.pageSize.getHeight();a.addImage(t,"JPEG",0,0,o,r);var n="form.pdf";a.save(n),document.getElementsByClassName("form__buttons")[0].style.display="block"})).catch((function(e){console.error("oops, something went wrong!",e)}))}}},d=c,u=(a("4bb1"),a("2877")),m=a("9c40"),p=a("eebe"),v=a.n(p),f=Object(u["a"])(d,o,r,!1,null,"3cd1dfb1",null);t["default"]=f.exports;v()(f,"components",{QBtn:m["a"]})},"9c06":function(e,t,a){"use strict";var o=a("769d"),r=a.n(o);r.a},"9d40":function(e,t,a){},"9f21":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("caad"),a("2532");var o=a("cf57"),r=a("4515"),n={data:function(){return{graphics:{}}},methods:{getVars:function(e){this.graphics=e},validateForm:function(e,t){for(var a=!0,o=0;o<e.length;o++)void 0!==e[o]&&null!==e[o]&&""!==e[o]||(a=!1);return a?t():this.alert("warning","Faltan campos por rellenar"),a},getImgUrl:function(e){return"http://extranet.exro.co:8082/v1/"+e},goTo:function(e){this.$router.push("/"+e).catch((function(e){e._name}))},alert:function(e,t){this.$q.notify({position:"top",message:t,color:e})},getToken:function(e){var t=e.token_type+" "+e.token;return t},getRankById:function(e){var t="Usuario";return 1===e?t="Cliente":2===e?t="Ingeniero":3===e?t="Administrador":4===e?t="Supervisor":5===e?t="Tecnico":6===e?t="Gerente":7===e&&(t="Cliente hijo"),t},getRankByName:function(e){var t=0;return"Cliente"===e?t=1:"Ingeniero"===e?t=2:"Administrador"===e?t=3:"Supervisor"===e?t=4:"Tecnico"===e?t=5:"Gerente"===e?t=6:"Cliente hijo"===e&&(t=7),t},activateLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={message:e};1===t?a.spinner=o["a"]:2===t&&(a.spinner=r["a"]),this.$q.loading.show(a)},disableLoading:function(){this.$q.loading.hide()},hasAccess:function(e,t){return e.includes(t.rank)},getChar:function(e,t){var a={exporting:{buttons:{contextButton:{menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","downloadCSV"]}}},lang:{downloadPDF:"Descargar PDF",downloadPNG:"Descargar PNG",downloadJPEG:"Descargar JPEG",downloadSVG:"Descargar SVG",downloadCSV:"Descargar EXCEL",printChart:"Imprimir gráfica",viewFullscreen:"Ver en pantalla completa",categories:"Fechas",category:"Fecha"},chart:{type:"line"},title:{text:t[0].var_name},xAxis:{categories:this.getFechas(e)},yAxis:{title:{text:"Valor"}},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!1},area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#E9BC36"]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:[{name:"Minimo",data:this.getMins(e),color:"#21ba45"},{name:"Maximo",data:this.getMaxs(e),color:"#0080DD"},{name:"Reportes",data:this.getValues(e),color:"#E9BC36"}]};return a},getFechas:function(e){for(var t=[],a=0;a<this.graphics[e].length;a++)t.push(this.graphics[e][a].fecha);return t},getValues:function(e){for(var t=[],a=0;a<this.graphics[e].length;a++)t.push(this.graphics[e][a].value);return t},getMins:function(e){for(var t=[],a=0;a<this.graphics[e].length;a++)t.push(this.graphics[e][a].min);return t},getMaxs:function(e){for(var t=[],a=0;a<this.graphics[e].length;a++)t.push(this.graphics[e][a].max);return t}}}},a55c:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"content"},[a("center",[a("div",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.formName)+"\n      ")])]),a("div",{staticClass:"row"},e._l(e.tables,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("div",{staticClass:"table"},[a("div",{staticClass:"box",staticStyle:{padding:"5px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b",[e._v(e._s(t.name))])])]),e._l(t.fields,(function(t){return a("div",{key:t.id,staticClass:"row"},[a("div",{staticClass:"col-6"},[e._v(e._s(t.name))]),a("div",{staticClass:"col-6"},["Metalografia total del sistema"===t.name?a("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"full-width full-height",style:t.color+"; text-align: center",on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"value",a.target.multiple?o:o[0])}}},[a("option",{attrs:{value:"Anodica"}},[e._v("Anodica")]),a("option",{attrs:{value:"Catodica"}},[e._v("Catodica")]),a("option",{attrs:{value:"Mixta"}},[e._v("Mixta")])]):""!==t.name?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"full-width full-height",style:t.color+"; text-align: center",attrs:{type:"text",readonly:"background-color:yellow"===t.color},domProps:{value:t.value},on:{keypress:function(a){return e.validar(t.value,t.conditions,a)},input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}}):a("br")])])}))],2)])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("br"),a("div",{staticClass:"form__buttons"},[a("q-btn",{attrs:{color:"primary",label:"Ver interpretacion y productos sugeridos"},on:{click:e.getInterpretacion}}),a("q-btn",{attrs:{color:"black",label:"Exportar PDF"},on:{click:e.printPDF}})],1),a("br"),e.showInterpretacion?a("div",{staticClass:"container"},[a("div",{staticClass:"text-h6"},[e._v("Interpretación del RYZNAR")]),e._v("\n          "+e._s(e.interpretacion)+"\n        ")]):e._e(),a("br"),e.showInterpretacion?a("div",{staticClass:"container"},[a("div",{staticClass:"text-h6"},[e._v("Productos sugeridos")]),e._l(e.products,(function(t){return a("ul",{key:t.id},[a("li",[e._v(e._s(t.name))])])})),a("b",[e._v("NOTA:")]),e._v(" Acorde a la caracterizacion fisicoquimica del agua, se pueden encontrar situaciones donde se requieran 2 productos ( Inhibidor de corrosion y dispersante) o un producto multifuncional  independientemente del indice de Ryznar\n        ")],2):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticStyle:{"text-align":"justify"},domProps:{innerHTML:e._s(e.configuration.messageCalculate)}})])])],1)},r=[],n=(a("6b93"),a("a9e3"),a("9f21")),i=a("8baf"),s=a("70b0"),l=a.n(s),c={props:["configuration"],name:"form-1-component",mixins:[n["a"]],data:function(){return{formName:"Enfriamentos de sistemas abiertos",interpretacion:"",showInterpretacion:!1,products:[],tables:[{id:1,name:"Calidad agua de Reposicion (Ingreso a la Torre)",fields:[{id:1,name:"pH",value:"",color:"background-color:#A2CCFA",conditions:{min:0,max:14}},{id:2,name:"Dureza ppm CaCO3",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Alcalinidad Total ppm CaCO3",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Silice ppm SiO2",value:"",color:"background-color:#A2CCFA"},{id:5,name:"Solidos disueltos ppm",value:"",color:"background-color:#A2CCFA"},{id:6,name:"conductividad uS/cm",value:"",color:"background-color:#A2CCFA"},{id:7,name:"Hierro ppm Fe",value:"",color:"background-color:#A2CCFA"},{id:8,name:"Cloruros ppm Cl",value:"",color:"background-color:#A2CCFA"}]},{id:2,name:"Calidad agua de Recirculacion",fields:[{id:1,name:"pH",value:"",color:"background-color:#A2CCFA",conditions:{min:0,max:14}},{id:2,name:"Dureza ppm",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Alcalinidad Total ppm",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Silice ppm",value:"",color:"background-color:#A2CCFA"},{id:5,name:"Solidos disueltos ppm",value:"",color:"background-color:#A2CCFA"},{id:6,name:"conductividad uS/cm",value:"",color:"background-color:#A2CCFA"},{id:7,name:"Hierro ppm",value:"",color:"background-color:#A2CCFA"},{id:8,name:"Cloruros ppm Cl",value:"",color:"background-color:#A2CCFA"},{id:9,name:"RESIDUAL DE PRODUCTO",value:"",color:"background-color:#A2CCFA"}]},{id:3,name:"RYZNAR AGUA DE RECIRUCLACION TORRE",fields:[{id:1,name:"A",value:"",color:"background-color:yellow"},{id:2,name:"B",value:"",color:"background-color:yellow"},{id:3,name:"C",value:"",color:"background-color:yellow"},{id:4,name:"D",value:"",color:"background-color:yellow"},{id:5,name:"",value:"",color:""},{id:6,name:"TDS, ppm",value:"",color:"background-color:#A2CCFA"},{id:7,name:"Temp, °C",value:"",color:"background-color:#A2CCFA"},{id:8,name:"Dureza, ppm CaCO3",value:"",color:"background-color:#A2CCFA"},{id:9,name:"Alc, ppm CaCO3",value:"",color:"background-color:#A2CCFA"},{id:10,name:"",value:"",color:""},{id:11,name:"pHs",value:"",color:"background-color:yellow"},{id:12,name:"pHa",value:"",color:"background-color:#A2CCFA"},{id:13,name:"",value:"",color:""},{id:14,name:"Ryznar",value:"",color:"background-color:yellow"}]},{id:4,name:"BALANCES HIDRICOS ACTUALES A 2 CICLOS",fields:[{id:1,name:"volumen del sistema m3",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Caudal de Recirculación (m3/h)",value:"",color:"background-color:#A2CCFA"},{id:3,name:"°T Agua de ingreso °F",value:"",color:"background-color:#A2CCFA"},{id:4,name:"°T Agua de salida °F",value:"",color:"background-color:#A2CCFA"},{id:5,name:"delta °T °F",value:"",color:"background-color:yellow"},{id:6,name:"% de evaporación",value:"",color:"background-color:yellow"},{id:7,name:"Horas de trabajo dia",value:"",color:"background-color:#A2CCFA",conditions:{min:0,max:24}},{id:9,name:"Dias de trabajo al mes",value:"",color:"background-color:#A2CCFA",conditions:{min:1,max:30}},{id:10,name:"Ciclos de concentración",value:"",color:"background-color:yellow"},{id:11,name:"Caudal de evaporación (m3/h)",value:"",color:"background-color:yellow"},{id:12,name:"Caudal de purga (m3/h)",value:"",color:"background-color:yellow"},{id:13,name:"Caudal de reposición (m3/h)",value:"",color:"background-color:yellow"},{id:14,name:"Metalografia total del sistema",value:"",color:"background-color:#A2CCFA"}]},{id:5,name:"Calculos de dosificacion Ajuste en el servicio",fields:[{id:1,name:"ppm dosificadas Actuales",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Kg/dia Actuales",value:"",color:"background-color:#A2CCFA"},{id:3,name:"ppm de aporte del Producto",value:"",color:"background-color:yellow"},{id:4,name:"ppm a incrementar en el residual",value:"",color:"background-color:#A2CCFA"},{id:5,name:"ppm de producto a incrementar en la dosis ",value:"",color:"background-color:yellow"},{id:6,name:"Kg de producto a incrementar/dia",value:"",color:"background-color:yellow"}]},{id:6,name:"Calculos de dosificacion Producto nuevo",fields:[{id:1,name:"ppm del Producto",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Cantidad Kg/dia",value:"",color:"background-color:yellow"}]}]}},updated:function(){this.ryznar(),this.balances(),this.calculosProducto(),this.calculosAjuste()},mounted:function(){this.ryznar(),this.balances(),this.calculosProducto(),this.calculosProducto()},methods:{isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},validar:function(e,t,a){var o=a.target.value+a.key;"-"===a.key||this.isNumber(o)||a.preventDefault(),t&&(t.min&&o<t.min?(this.alert("negative","No puedes colocar un valor menor que "+t.min),a.preventDefault()):t.max&&o>t.max&&(this.alert("negative","No puedes colocar un valor mayor que "+t.max),a.preventDefault()))},ryznar:function(){this.tables[2].fields[5].value=this.tables[1].fields[4].value,this.tables[2].fields[7].value=this.tables[1].fields[1].value,this.tables[2].fields[8].value=this.tables[1].fields[2].value,this.tables[2].fields[11].value=this.tables[1].fields[0].value,this.tables[2].fields[0].value=Math.round((Math.log10(this.tables[2].fields[5].value)-1)/10*1e3)/1e3,this.tables[2].fields[6].value=Math.round(5*(Number(this.tables[3].fields[2].value)-32)/9*1e3)/1e3,this.tables[2].fields[1].value=Math.round(1e3*(-13.12*Math.log10(Number(this.tables[2].fields[6].value)+273)+34.55))/1e3,this.tables[2].fields[2].value=Math.round(1e3*Math.log10(this.tables[2].fields[7].value))/1e3,this.tables[2].fields[3].value=Math.round(1e3*Math.log10(this.tables[2].fields[8].value))/1e3,this.tables[2].fields[10].value=Math.round(1e3*(9.3+this.tables[2].fields[0].value+this.tables[2].fields[1].value-(this.tables[2].fields[2].value+this.tables[2].fields[3].value)))/1e3,this.tables[2].fields[13].value=Math.round(1e3*(2*this.tables[2].fields[10].value-this.tables[2].fields[11].value))/1e3},balances:function(){this.tables[3].fields[4].value=this.tables[3].fields[2].value-this.tables[3].fields[3].value;var e=.01*this.tables[3].fields[4].value/10;this.tables[3].fields[5].value=this.tables[3].fields[4].value/10+" %",this.tables[3].fields[8].value=Math.round(this.tables[1].fields[3].value/this.tables[0].fields[3].value*1e9)/1e9,this.tables[3].fields[9].value=Math.round(this.tables[3].fields[1].value*e*1e9)/1e9,this.tables[3].fields[10].value=Math.round(this.tables[3].fields[9].value/(this.tables[3].fields[8].value-1)*1e9)/1e9,this.tables[3].fields[11].value=Math.round(1e9*(Number(this.tables[3].fields[9].value)+Number(this.tables[3].fields[10].value)))/1e9},calculosProducto:function(){this.tables[5].fields[1].value=this.tables[3].fields[11].value*this.tables[5].fields[0].value*this.tables[3].fields[6].value/1e6},calculosAjuste:function(){this.tables[4].fields[2].value=Math.round(this.tables[1].fields[8].value/this.tables[3].fields[8].value*1e3)/1e3,this.tables[4].fields[4].value=Math.round(1e3*(this.tables[4].fields[0].value*this.tables[4].fields[3].value/this.tables[4].fields[2].value-this.tables[4].fields[0].value))/1e3,this.tables[4].fields[5].value=Math.round(this.tables[4].fields[4].value*this.tables[3].fields[11].value/1e3*24*1e3)/1e3},getInterpretacion:function(){this.showInterpretacion=!0;var e="";this.tables[2].fields[13].value>=4&&this.tables[2].fields[13].value<5&&(e="Fuertemente incrustante"),this.tables[2].fields[13].value>=5&&this.tables[2].fields[13].value<6&&(e="Ligeramente Incrustante"),this.tables[2].fields[13].value>=6&&this.tables[2].fields[13].value<7&&(e="Ligeramente incriustante o corrosiva"),this.tables[2].fields[13].value>=7&&this.tables[2].fields[13].value<7.5&&(e="Ligeramente corrosiva"),this.tables[2].fields[13].value>=7.5&&this.tables[2].fields[13].value<=9&&(e="Fuertetemente corrosiva"),this.tables[2].fields[13].value>9&&(e="Intolerable corrosion"),this.interpretacion=e,this.getProducts()},getProducts:function(){this.tables[2].fields[13].value<4&&(this.products=[{id:1,name:"EXRO 774"},{id:2,name:"EXRO 764"}]),this.tables[2].fields[13].value>=4&&this.tables[2].fields[13].value<5&&(this.products=[{id:1,name:"EXRO 724"},{id:2,name:"EXRO 760"}]),this.tables[2].fields[13].value>=5&&this.tables[2].fields[13].value<6&&(this.products=[{id:1,name:"EXRO 760"},{id:2,name:"EXRO 771"},{id:3,name:"EXRO 770"}]),this.tables[2].fields[13].value>=6&&this.tables[2].fields[13].value<7&&(this.products=[{id:1,name:"Inhibidor de corrosion + dispersante"},{id:2,name:"EXRO  726"},{id:3,name:"EXRO  717"}]),this.tables[2].fields[13].value>=7&&"Anodica"===this.tables[3].fields[12].value&&(this.products=[{id:1,name:"EXRO  718"},{id:2,name:"EXRO  721"},{id:3,name:"EXRO  725"},{id:4,name:"EXRO  725L"}]),this.tables[2].fields[13].value>=7&&"Catodica"===this.tables[3].fields[12].value&&(this.products=[{id:3,name:"EXRO  725"},{id:4,name:"EXRO  725L"}]),this.tables[2].fields[13].value>=7&&"Mixta"===this.tables[3].fields[12].value&&(this.products=[{id:1,name:"EXRO  726"},{id:2,name:"EXRO  717"},{id:3,name:"EXRO  725"},{id:4,name:"EXRO  725L"}])},printPDF:function(){document.getElementsByClassName("form__buttons")[0].style.display="none",l.a.toPng(this.$refs.content).then((function(e){var t=new Image;t.src=e;var a=new i["a"]({}),o=a.internal.pageSize.getWidth(),r=a.internal.pageSize.getHeight();a.addImage(t,"JPEG",0,0,o,r);var n="form.pdf";a.save(n),document.getElementsByClassName("form__buttons")[0].style.display="block"})).catch((function(e){console.error("oops, something went wrong!",e)}))}}},d=c,u=(a("cfbd"),a("2877")),m=a("9c40"),p=a("eebe"),v=a.n(p),f=Object(u["a"])(d,o,r,!1,null,"1aded915",null);t["default"]=f.exports;v()(f,"components",{QBtn:m["a"]})},aba5:function(e,t,a){"use strict";var o=a("5aa1"),r=a.n(o);r.a},ad3e:function(e,t,a){"use strict";var o=a("383a"),r=a.n(o);r.a},b46b:function(e,t,a){},c3e7:function(e,t,a){e.exports=a.p+"img/profile.56d6b32a.png"},c664:function(e,t,a){"use strict";var o=a("f9d3"),r=a.n(o);r.a},c8d6:function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"img/logo.f6c7498d.png"},cfbd:function(e,t,a){"use strict";var o=a("d2f1"),r=a.n(o);r.a},d2f1:function(e,t,a){},e0f1:function(e,t,a){},e3e2:function(e,t,a){"use strict";var o=a("5a1c"),r=a.n(o);r.a},ed38:function(e,t,a){"use strict";var o=a("79ca"),r=a.n(o);r.a},f0e0:function(e,t,a){},f9d3:function(e,t,a){},fe0d:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"content"},[a("center",[a("div",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.formName)+"\n      ")])]),a("div",{staticClass:"row"},e._l(e.tables,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("div",{staticClass:"table"},[a("div",{staticClass:"box",staticStyle:{padding:"5px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b",[e._v(e._s(t.name))])])]),e._l(t.fields,(function(t){return a("div",{key:t.id,staticClass:"row"},[a("div",{staticClass:"col-6"},[e._v(e._s(t.name))]),a("div",{staticClass:"col-6"},[""!==t.name?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"full-width full-height",style:t.color+"; text-align: center",attrs:{type:"text",readonly:"background-color:yellow"===t.color},domProps:{value:t.value},on:{keypress:function(a){return e.validar(t.value,t.conditions,a)},input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}}):a("br")])])}))],2)])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("br"),a("div",{staticClass:"form__buttons"},[a("q-btn",{attrs:{color:"primary",label:"Ver productos sugeridos"},on:{click:e.getProducts}}),a("q-btn",{attrs:{color:"black",label:"Exportar PDF"},on:{click:e.printPDF}})],1),a("br"),e.showInterpretacion?a("div",{staticClass:"container"},[a("div",{staticClass:"text-h6"},[e._v("SECUESTRANTES DE OXIGENO")]),e._m(0),e._l(e.products1,(function(t){return a("div",{key:t.id,staticClass:"row"},[a("div",{staticClass:"col-6"},[e._v(e._s(t.name))]),a("div",{staticClass:"col-6"},[e._v(e._s(t.dosis))])])}))],2):e._e(),a("br"),e.showInterpretacion?a("div",{staticClass:"container"},[a("div",{staticClass:"text-h6"},[e._v("INHIBIDORES DE INCRUSTACION Y ACONDICIONADORES DE DUREZA")]),e._m(1),e._l(e.products2,(function(t){return a("div",{key:t.id,staticClass:"row"},[a("div",{staticClass:"col-6"},[e._v(e._s(t.name))]),a("div",{staticClass:"col-6"},[e._v(e._s(t.dosis))])])}))],2):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticStyle:{"text-align":"justify"},domProps:{innerHTML:e._s(e.configuration.messageCalculate)}})])])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[e._v("Productos")]),a("div",{staticClass:"col-6"},[e._v("DODIS RECOMENDADA")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[e._v("Productos")]),a("div",{staticClass:"col-6"},[e._v("DODIS RECOMENDADA")])])}],n=a("9f21"),i=a("8baf"),s=a("70b0"),l=a.n(s),c={props:["configuration"],name:"form-2-component",mixins:[n["a"]],data:function(){return{formName:"Parametros vapor",interpretacion:"",showInterpretacion:!1,products1:[],products2:[],tables:[{id:1,name:"Calidad agua de Alimentacion",fields:[{id:1,name:"pH",value:"",color:"background-color:#A2CCFA",conditions:{min:0,max:14}},{id:2,name:"Dureza ppm CaCO3",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Alcalinidad Total ppm CaCO3",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Silice ppm SiO2",value:"",color:"background-color:#A2CCFA"},{id:5,name:"Solidos disueltos ppm",value:"",color:"background-color:#A2CCFA"},{id:6,name:"conductividad uS/cm",value:"",color:"background-color:#A2CCFA"},{id:7,name:"Hierro ppm Fe",value:"",color:"background-color:#A2CCFA"},{id:8,name:"Oxigeno disuelto ppm O2",value:"",color:"background-color:#A2CCFA",conditions:{min:0,max:20}}]},{id:2,name:"Calidad agua de purga ",fields:[{id:1,name:"pH",value:"",color:"background-color:#A2CCFA",conditions:{min:0,max:14}},{id:2,name:"Dureza ppm",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Alcalinidad P ppm",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Alcalinidad M ppm",value:"",color:"background-color:#A2CCFA"},{id:5,name:"Silice ppm",value:"",color:"background-color:#A2CCFA"},{id:6,name:"Solidos disueltos ppm",value:"",color:"background-color:#A2CCFA"},{id:7,name:"conductividad uS/cm",value:"",color:"background-color:#A2CCFA"},{id:8,name:"Hierro ppm",value:"",color:"background-color:#A2CCFA"}]},{id:3,name:"Calidad agua de Reposicion",fields:[{id:1,name:"pH",value:"",color:"background-color:#A2CCFA",conditions:{min:0,max:14}},{id:2,name:"Dureza ppm CaCo3",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Alcalinidad Total ppm CaCo3",value:"",color:"background-color:#A2CCFA"}]},{id:4,name:"Calidad agua de condensado",fields:[{id:1,name:"pH",value:"",color:"background-color:#A2CCFA",conditions:{min:0,max:14}},{id:2,name:"Dureza ppm",value:"",color:"background-color:#A2CCFA"},{id:3,name:"Alcalinidad Total ppm",value:"",color:"background-color:#A2CCFA"},{id:4,name:"Silice ppm",value:"",color:"background-color:#A2CCFA"},{id:5,name:"Solidos disueltos ppm",value:"",color:"background-color:#A2CCFA"},{id:6,name:"conductividad uS/cm",value:"",color:"background-color:#A2CCFA"},{id:7,name:"Hierro ppm",value:"",color:"background-color:#A2CCFA"}]},{id:5,name:"BALANCES HIDRICOS Y CONDICIONES OPERATIVAS",fields:[{id:1,name:"BHP Caldera",value:"",color:"background-color:#A2CCFA"},{id:2,name:"% eficiencia produccion de vapor",value:"",color:"background-color:#A2CCFA"},{id:3,name:"% Retorno de condensado",value:"",color:"background-color:#A2CCFA"},{id:4,name:"°T Agua de alimentacion °C",value:"",color:"background-color:#A2CCFA",conditions:{min:0,max:100}},{id:5,name:"Presion operación del sistema (PSI)",value:"",color:"background-color:#A2CCFA",conditions:{min:0,max:2e3}},{id:6,name:"Ciclos de concentracion ",value:"",color:"background-color:yellow"},{id:7,name:"Caudal de vapor (TonV/hora)",value:"",color:"background-color:yellow"},{id:8,name:"Caudal retorno de condensado ",value:"",color:"background-color:yellow"},{id:9,name:"Horas de trabajo dia",value:"",color:"background-color:#A2CCFA"},{id:10,name:"Dias de trabajo al mes",value:"",color:"background-color:#A2CCFA"},{id:11,name:"Suavizador",value:"",color:"background-color:#A2CCFA"},{id:12,name:"Caudal de purga (m3/h)",value:"",color:"background-color:yellow"},{id:13,name:"Caudal de Alimentacion  (m3/h)",value:"",color:"background-color:yellow"},{id:14,name:"Caudal de reposición (m3/h)",value:"",color:"background-color:yellow"}]},{id:6,name:"Calculos de dosificacion Secuestrante de oxigeno",fields:[{id:1,name:"ppm del Producto",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Cantidad Kg/dia",value:"",color:"background-color:yellow"}]},{id:7,name:"Calculos de dosificacion Acondicionador de dureza o inhibidor de incrustacion",fields:[{id:1,name:"ppm del Producto",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Cantidad Kg/dia",value:"",color:"background-color:yellow"}]},{id:8,name:"Calculos dosificacion Amina neutralizante",fields:[{id:1,name:"ppm del Producto",value:"",color:"background-color:#A2CCFA"},{id:2,name:"Cantidad Kg/dia",value:"",color:"background-color:yellow"}]}]}},updated:function(){this.BHCO(),this.CDSO(),this.CDAD(),this.CDAN()},mounted:function(){this.BHCO(),this.CDSO(),this.CDAD(),this.CDAN()},methods:{isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},validar:function(e,t,a){var o=a.target.value+a.key;"-"===a.key||this.isNumber(o)||a.preventDefault(),t&&(t.min&&o<t.min?(this.alert("negative","No puedes colocar un valor menor que "+t.min),a.preventDefault()):t.max&&o>t.max&&(this.alert("negative","No puedes colocar un valor mayor que "+t.max),a.preventDefault()))},BHCO:function(){this.tables[4].fields[5].value=Math.round(this.tables[1].fields[3].value/this.tables[0].fields[3].value*1e9)/1e9,this.tables[4].fields[6].value=Math.round(this.tables[4].fields[1].value/100*34.5*this.tables[4].fields[2].value/100/2.2/1e3*1e9)/1e9,this.tables[4].fields[7].value=Math.round(this.tables[4].fields[6].value*(this.tables[4].fields[2].value/100)*1e9)/1e9,this.tables[4].fields[11].value=Math.round(this.tables[4].fields[6].value/(this.tables[4].fields[5].value-1)*1e9)/1e9,this.tables[4].fields[12].value=Math.round(1e9*(this.tables[4].fields[6].value+this.tables[4].fields[11].value))/1e9,this.tables[4].fields[13].value=Math.round(1e9*(this.tables[4].fields[12].value-this.tables[4].fields[7].value))/1e9},CDSO:function(){this.tables[5].fields[1].value=this.tables[4].fields[12].value*this.tables[5].fields[0].value/1e6*this.tables[4].fields[8].value},CDAD:function(){this.tables[6].fields[1].value=this.tables[4].fields[12].value*this.tables[6].fields[0].value/1e6*this.tables[4].fields[8].value},CDAN:function(){this.tables[7].fields[1].value=this.tables[4].fields[12].value*this.tables[7].fields[0].value/1e6*this.tables[4].fields[8].value},getProducts:function(){this.showInterpretacion=!0,this.tables[4].fields[4].value>=1&&this.tables[4].fields[4].value<=500&&(this.products1=[{id:1,name:"E-820",dosis:""},{id:2,name:"E-829",dosis:""},{id:3,name:"E-822",dosis:""},{id:4,name:"E-827",dosis:""},{id:5,name:"E-820L",dosis:""},{id:6,name:"E-822L",dosis:""}]),this.tables[4].fields[4].value>500&&(this.products1=[{id:1,name:"E-14",dosis:""},{id:2,name:"E-814L",dosis:""},{id:3,name:"E-815",dosis:""}]),this.tables[4].fields[4].value>=1&&this.tables[4].fields[4].value<=400&&(this.products2=[{id:1,name:"E-860",dosis:""},{id:2,name:"E-830",dosis:""},{id:3,name:"E-840",dosis:""},{id:4,name:"E-849",dosis:""},{id:5,name:"E-832",dosis:""},{id:6,name:"E-833",dosis:""},{id:7,name:"E-860L",dosis:""}]),this.tables[4].fields[4].value>400&&this.tables[4].fields[4].value<=600&&(this.products2=[{id:1,name:"E-32",dosis:""},{id:2,name:"E-33",dosis:""}]),this.tables[4].fields[4].value>600&&(this.products2=[{id:1,name:"E-3080",dosis:""},{id:2,name:"E-3082",dosis:""},{id:3,name:"E-3087",dosis:""}]),this.getDosis()},getDosis:function(){var e=0;if(this.tables[4].fields[4].value>=1&&this.tables[4].fields[4].value<=500)for(var t=0;t<this.products1.length;t++)0!==t&&1!==t&&2!==t||(e=10),3===t&&(e=20),4!==t&&5!==t||(e=55),this.products1[t].dosis=e*this.tables[0].fields[7].value;if(this.tables[4].fields[4].value>500)for(var a=0;a<this.products1.length;a++)0===a&&(e=2),1===a&&(e=20),2===a&&(e=8),this.products1[a].dosis=e*this.tables[0].fields[7].value;if(this.tables[4].fields[4].value>=1&&this.tables[4].fields[4].value<=400)for(var o=0;o<this.products2.length;o++)0!==o&&1!==o&&2!==o&&3!==o||(e=1),4!==o&&5!==o||(e=10),6===o&&(e=25),this.products2[o].dosis=e*this.tables[0].fields[1].value;if(this.tables[4].fields[4].value>400&&this.tables[4].fields[4].value<=600)for(var r=0;r<this.products2.length;r++)e=10,this.products2[r].dosis=e*this.tables[0].fields[1].value;if(this.tables[4].fields[4].value>600)for(var n=0;n<this.products2.length;n++)this.products2[n].dosis="cada caso puntual"},printPDF:function(){document.getElementsByClassName("form__buttons")[0].style.display="none",l.a.toPng(this.$refs.content).then((function(e){var t=new Image;t.src=e;var a=new i["a"]({}),o=a.internal.pageSize.getWidth(),r=a.internal.pageSize.getHeight();a.addImage(t,"JPEG",0,0,o,r);var n="form.pdf";a.save(n),document.getElementsByClassName("form__buttons")[0].style.display="block"})).catch((function(e){console.error("oops, something went wrong!",e)}))}}},d=c,u=(a("5d8b"),a("2877")),m=a("9c40"),p=a("eebe"),v=a.n(p),f=Object(u["a"])(d,o,r,!1,null,"7b49f5da",null);t["default"]=f.exports;v()(f,"components",{QBtn:m["a"]})}}]);