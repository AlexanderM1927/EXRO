(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"35ca":function(e,t,r){"use strict";var a=r("758b");t["a"]={login:function(e){return Object(a["a"])().post("login",e)},recovery:function(e){return Object(a["a"])().post("recovery",e)},changePassword:function(e){return Object(a["a"])().post("changepassword",e)},register:function(e){return Object(a["a"])().post("register",e,{headers:{Authorization:e.token}})},getUser:function(e){return Object(a["a"])().get("user/"+e.id,{headers:{Authorization:e.token}})},modifyUser:function(e){return Object(a["a"])().post("user/"+e.id,e,{headers:{Authorization:e.token}})},deleteUser:function(e){return Object(a["a"])().delete("user/"+e.id,{headers:{Authorization:e.token}})},getMyUser:function(e){return Object(a["a"])().get("my-user",{headers:{Authorization:e.token}})},getUsers:function(e){return Object(a["a"])().get("users",{headers:{Authorization:e.token}})},getClients:function(e){return Object(a["a"])().get("clients",{headers:{Authorization:e.token}})},getEngineers:function(e){return Object(a["a"])().get("engineers",{headers:{Authorization:e.token}})}}},4632:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-layout",{attrs:{view:"lHh Lpr lFf"}},[r("q-page-container",["login"===e.view?r("login-component"):e._e(),"recovery"===e.view?r("recovery-component"):e._e(),"changepassword"===e.view?r("change-password-component"):e._e()],1)],1)},n=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-layout",{attrs:{view:"lHh Lpr lFf"}},[r("q-page-container",[r("div",{staticClass:"row"},[r("div",{staticClass:"login box col-md-4 col-xs-10"},[r("div",{staticClass:"text-h6"},[e._v("\n                Recupera tu clave\n                "),r("div",{staticClass:"right"},[r("q-btn",{attrs:{icon:"login",color:"primary"},on:{click:function(t){return e.goTo("login")}}})],1)]),r("br"),r("q-separator"),r("br"),r("q-form",{on:{submit:e.recovery}},[r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Correo",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"mail",color:"primary"}})]},proxy:!0}]),model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("br"),r("q-btn",{staticClass:"full-width",attrs:{color:"primary",type:"submit",label:"Enviar correo"}})],1)],1)])])],1)},i=[],s=(r("96cf"),r("c973")),l=r.n(s),c=r("9f21"),u=r("35ca"),d={name:"MainLayout",mixins:[c["a"]],data:function(){return{email:""}},methods:{recovery:function(){var e=this;return l()(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,u["a"].recovery({email:e.email});case 4:r=t.sent,e.disableLoading(),200===r.status?(e.alert("positive","Correo enviado correctamente, revise su correo electronico"),e.goTo("login")):e.alert("negative","No se encontró el correo"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.alert("negative",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},p=d,g=r("2877"),m=r("4d5a"),f=r("09e3"),h=r("9c40"),v=r("eb85"),w=r("0378"),b=r("27f9"),y=r("0016"),x=r("eebe"),C=r.n(x),k=Object(g["a"])(p,o,i,!1,null,null,null),q=k.exports;C()(k,"components",{QLayout:m["a"],QPageContainer:f["a"],QBtn:h["a"],QSeparator:v["a"],QForm:w["a"],QInput:b["a"],QIcon:y["a"]});var P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-layout",{attrs:{view:"lHh Lpr lFf"}},[r("q-page-container",[r("div",{staticClass:"row"},[r("div",{staticClass:"login box col-md-4 col-xs-10"},[r("div",{staticClass:"text-h6"},[e._v("\n                Login\n              ")]),r("q-separator"),r("q-form",{on:{submit:e.login}},[r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Correo",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"mail",color:"primary"}})]},proxy:!0}]),model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("br"),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:e.isPwd?"password":"text",label:"Clave",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{color:"primary",name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("div",{staticClass:"right"},[r("a",{staticClass:"link",on:{click:function(t){return e.goTo("recovery")}}},[e._v("He olvidado mi clave")])]),r("br"),r("q-btn",{staticClass:"full-width",attrs:{color:"primary",type:"submit",label:"Login"}})],1)],1)])])],1)},_=[],Q={name:"MainLayout",mixins:[c["a"]],data:function(){return{email:"",password:"",isPwd:!0}},methods:{login:function(){var e=this;return l()(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].login({email:e.email,password:e.password});case 3:r=t.sent,a=r.data,200===r.status?(localStorage.setItem("token",e.getToken(a)),localStorage.setItem("user",a.user.id),e.goTo("home")):e.alert("negative","Credenciales invalidas"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.alert("negative","Credenciales invalidas");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},L=Q,E=Object(g["a"])(L,P,_,!1,null,null,null),F=E.exports;C()(E,"components",{QLayout:m["a"],QPageContainer:f["a"],QSeparator:v["a"],QForm:w["a"],QInput:b["a"],QIcon:y["a"],QBtn:h["a"]});var O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-layout",{attrs:{view:"lHh Lpr lFf"}},[r("q-page-container",[r("div",{staticClass:"row"},[r("div",{staticClass:"login box col-md-4 col-xs-10"},[r("div",{staticClass:"text-h6"},[e._v("\n                Cambiar clave\n              ")]),r("q-separator"),r("q-form",{on:{submit:e.change}},[r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:e.isPwd?"password":"text",label:"Clave",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{color:"primary",name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:e.isPwd2?"password":"text",label:"Clave",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{color:"primary",name:e.isPwd2?"visibility_off":"visibility"},on:{click:function(t){e.isPwd2=!e.isPwd2}}})]},proxy:!0}]),model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:"passwordConfirm"}}),r("br"),r("q-btn",{staticClass:"full-width",attrs:{color:"primary",type:"submit",label:"Cambiar"}})],1)],1)])])],1)},j=[],S={name:"MainLayout",mixins:[c["a"]],data:function(){return{email:"",password:"",passwordConfirm:"",isPwd:!0,isPwd2:!0}},methods:{change:function(){var e=this;return l()(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.password!==e.passwordConfirm){t.next=10;break}return r={},r.token=e.$route.params.token,r.password=e.password,t.next=6,u["a"].changePassword(r);case 6:a=t.sent,200===a.status?(e.alert("positive","Clave actualizada correctamente"),e.goTo("login")):e.alert("negative","No se encontró el token"),t.next=11;break;case 10:e.alert("negative","Las claves no coinciden");case 11:case"end":return t.stop()}}),t)})))()}}},I=S,A=Object(g["a"])(I,O,j,!1,null,null,null),M=A.exports;C()(A,"components",{QLayout:m["a"],QPageContainer:f["a"],QSeparator:v["a"],QForm:w["a"],QInput:b["a"],QIcon:y["a"],QBtn:h["a"]});var R={name:"MainLayout",mixins:[c["a"]],components:{LoginComponent:F,RecoveryComponent:q,ChangePasswordComponent:M},data:function(){return{}},props:["view"],methods:{}},D=R,G=Object(g["a"])(D,a,n,!1,null,null,null);t["default"]=G.exports;C()(G,"components",{QLayout:m["a"],QPageContainer:f["a"]})},"9f21":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r("cf57"),n=r("4515"),o={data:function(){return{graphics:{}}},methods:{getVars:function(e){this.graphics=e},validateForm:function(e,t){for(var r=!0,a=0;a<e.length;a++)void 0!==e[a]&&null!==e[a]&&""!==e[a]||(r=!1);return r?t():this.alert("warning","Faltan campos por rellenar"),r},getImgUrl:function(e){return"http://localhost:8000/v1/"+e},goTo:function(e){this.$router.push("/"+e).catch((function(e){e._name}))},alert:function(e,t){this.$q.notify({position:"top",message:t,color:e})},getToken:function(e){var t=e.token_type+" "+e.token;return t},getRankById:function(e){var t="Usuario";return 1===e?t="Cliente":2===e?t="Ingeniero":3===e&&(t="Administrador"),t},getRankByName:function(e){var t=0;return"Cliente"===e?t=1:"Ingeniero"===e?t=2:"Administrador"===e&&(t=3),t},activateLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={message:e};1===t?r.spinner=a["a"]:2===t&&(r.spinner=n["a"]),this.$q.loading.show(r)},disableLoading:function(){this.$q.loading.hide()},getChar:function(e){var t={exporting:{buttons:{contextButton:{menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","downloadCSV"]}}},lang:{downloadPDF:"Descargar PDF",downloadPNG:"Descargar PNG",downloadJPEG:"Descargar JPEG",downloadSVG:"Descargar SVG",downloadCSV:"Descargar EXCEL",printChart:"Imprimir gráfica",viewFullscreen:"Ver en pantalla completa",categories:"Fechas",category:"Fecha"},chart:{type:"line"},title:{text:e},xAxis:{categories:this.getFechas(e)},yAxis:{title:{text:"Valor"}},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!1},area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#E9BC36"]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:[{name:"Minimo",data:this.getMins(e),color:"#21ba45"},{name:"Maximo",data:this.getMaxs(e),color:"#0080DD"},{name:"Reportes",data:this.getValues(e),color:"#E9BC36"}]};return t},getFechas:function(e){for(var t=[],r=0;r<this.graphics[e].length;r++)t.push(this.graphics[e][r].fecha);return t},getValues:function(e){for(var t=[],r=0;r<this.graphics[e].length;r++)t.push(this.graphics[e][r].value);return t},getMins:function(e){for(var t=[],r=0;r<this.graphics[e].length;r++)t.push(this.graphics[e][r].min);return t},getMaxs:function(e){for(var t=[],r=0;r<this.graphics[e].length;r++)t.push(this.graphics[e][r].max);return t}}}}}]);