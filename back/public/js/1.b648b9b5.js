(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0d59a":function(e,t,a){},2922:function(e,t,a){"use strict";var r=a("0d59a"),n=a.n(r);n.a},2930:function(e,t,a){},"31d6":function(e,t,a){"use strict";var r=a("b066"),n=a.n(r);n.a},3245:function(e,t,a){"use strict";var r=a("2930"),n=a.n(r);n.a},"35ca":function(e,t,a){"use strict";var r=a("758b");t["a"]={login:function(e){return Object(r["a"])().post("login",e)},recovery:function(e){return Object(r["a"])().post("recovery",e)},changePassword:function(e){return Object(r["a"])().post("changepassword",e)},register:function(e){return Object(r["a"])().post("register",e,{headers:{Authorization:e.token}})},getUser:function(e){return Object(r["a"])().get("user/"+e.id,{headers:{Authorization:e.token}})},modifyUser:function(e){return Object(r["a"])().post("user/"+e.id,e,{headers:{Authorization:e.token}})},deleteUser:function(e){return Object(r["a"])().delete("user/"+e.id,{headers:{Authorization:e.token}})},getMyUser:function(e){return Object(r["a"])().get("my-user",{headers:{Authorization:e.token}})},getUsers:function(e){return Object(r["a"])().get("users",{headers:{Authorization:e.token}})},getClients:function(e){return Object(r["a"])().get("clients",{headers:{Authorization:e.token}})},getEngineers:function(e){return Object(r["a"])().get("engineers",{headers:{Authorization:e.token}})}}},"6e7b":function(e,t,a){},"713b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-layout",{attrs:{view:"lHh Lpr lFf"}},[r("q-header",{staticClass:"bg-white text-black",attrs:{elevated:""}},[r("q-toolbar",[r("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),r("q-toolbar-title",[r("q-img",{staticStyle:{width:"100px"},attrs:{src:a("cf05")}})],1),r("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"login"},on:{click:function(t){return e.goTo("logout")}}})],1)],1),r("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-white text-black"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[r("div",{staticClass:"box profile",attrs:{id:"v-step-0"}},[r("q-img",{staticStyle:{height:"100px",width:"100px"},attrs:{src:a("c3e7")}}),r("br"),e._v("\n      "+e._s(e.user.name)+"\n    ")],1),r("q-list",e._l(e.essentialLinks,(function(t){return r("EssentialLink",e._b({key:t.title,attrs:{view:e.view,rank:e.user.rank}},"EssentialLink",t,!1))})),1)],1),r("q-page-container",["home"===e.view?r("home-component",{attrs:{user:e.user},on:{tour:e.activateTour}}):e._e(),"users"===e.view?r("users-component"):e._e(),"user"===e.view?r("user-component"):e._e(),"projects"===e.view?r("projects-component"):e._e(),"project"===e.view?r("project-component"):e._e(),"vars"===e.view?r("vars-component"):e._e(),"var"===e.view?r("var-component"):e._e(),"reports"===e.view?r("reports-component",{attrs:{user:e.user}}):e._e(),"new-report"===e.view?r("new-report-component",{attrs:{user:e.user}}):e._e(),"report"===e.view?r("report-component",{attrs:{user:e.user}}):e._e(),"graphics"===e.view?r("graphics-component"):e._e(),"calculate"===e.view?r("calculate-component"):e._e(),"calculate-form"===e.view?r("calculate-form-component"):e._e(),r("v-tour",{attrs:{name:"myTour",steps:e.steps}})],1)],1)},n=[],o=(a("96cf"),a("c973")),i=a.n(o),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.rank>=e.minRank?a("q-item",{class:e.view===e.link?"marked":"",attrs:{clickable:"",tag:"a",target:"_blank"},on:{click:function(t){return e.goTo(e.link)}}},[e.icon?a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1):e._e(),a("q-item-section",{attrs:{id:e.link}},[a("q-item-label",[e._v(e._s(e.title))]),a("q-item-label",{attrs:{caption:""}},[e._v("\n      "+e._s(e.caption)+"\n    ")])],1)],1):e._e()},c=[],l=a("9f21"),u={name:"EssentialLink",mixins:[l["a"]],props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""},view:{type:String,default:""},rank:{},minRank:{}}},d=u,p=(a("cafc"),a("2877")),m=a("66e5"),g=a("4074"),f=a("0016"),v=a("0170"),h=a("eebe"),b=a.n(h),k=Object(p["a"])(d,s,c,!1,null,"7004b885",null),y=k.exports;b()(k,"components",{QItem:m["a"],QItemSection:g["a"],QIcon:f["a"],QItemLabel:v["a"]});var x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text-h4"},[e._v("\n                    Usuarios\n                    "),a("div",{staticClass:"right"},[a("q-btn",{attrs:{round:"",color:"positive",icon:"add"},on:{click:e.createUser}},[a("q-tooltip",[e._v("\n                            Agregar\n                        ")])],1)],1)])]),a("br"),a("div",{staticClass:"row"},[a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.data,columns:e.columns,"row-key":"name",filter:e.filter},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                                "+e._s(t.row.id)+"\n                            ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                                "+e._s(t.row.name)+"\n                            ")]),a("q-td",{key:"email",attrs:{props:t}},[a("div",{staticClass:"text-pre-wrap"},[e._v(e._s(t.row.email))])]),a("q-td",{key:"rank",attrs:{props:t}},[e._v("\n                                "+e._s(e.getRankById(t.row.rank))+"\n                            ")]),"project"===e.mode?a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.$emit("add",t.row)}}},[a("q-icon",{attrs:{size:"md",name:"add"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("agregar")])],1)]):"engineer"===e.mode?a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.$emit("addengineer",t.row)}}},[a("q-icon",{attrs:{size:"md",name:"add"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("agregar")])],1)]):a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.goTo("user/"+t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"edit"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("editar")])],1),a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.del(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("eliminar")])],1)])],1)]}},{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])})],1)]),a("div",{staticClass:"col-1"})])])},w=[],C=a("35ca"),q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin container"},[a("div",{staticClass:"text-h6"},[e._v("Registra un nuevo usuario")]),a("q-separator"),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"account_circle",color:"primary"}})]},proxy:!0}]),model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Email",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"mail",color:"primary"}})]},proxy:!0}]),model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:e.isPwd?"password":"text",label:"Clave",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{color:"primary",name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:e.isPwd2?"password":"text",label:"Confirmar clave",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{color:"primary",name:e.isPwd2?"visibility_off":"visibility"},on:{click:function(t){e.isPwd2=!e.isPwd2}}})]},proxy:!0}]),model:{value:e.user.passwordconfirm,callback:function(t){e.$set(e.user,"passwordconfirm",t)},expression:"user.passwordconfirm"}}),a("q-select",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",options:e.options,label:"Tipo",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"check",color:"primary"}})]},proxy:!0}]),model:{value:e.user.rank,callback:function(t){e.$set(e.user,"rank",t)},expression:"user.rank"}}),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.user.name,e.user.email,e.user.password,e.user.rank],e.onOKClick)}}}),a("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},_=[],j={mixins:[l["a"]],data:function(){return{user:{},isPwd:!0,isPwd2:!0,options:["Cliente","Ingeniero","Administrador"]}},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.user.password===this.user.passwordconfirm?(this.$emit("ok",this.user),this.hide()):this.alert("negative","Las claves no coinciden")},onCancelClick:function(){this.hide()}}},S=j,Q=a("24e8"),R=a("f09f"),O=a("eb85"),E=a("27f9"),I=a("ddd8"),P=a("4b7e"),$=a("9c40"),D=Object(p["a"])(S,q,_,!1,null,null,null),L=D.exports;b()(D,"components",{QDialog:Q["a"],QCard:R["a"],QSeparator:O["a"],QInput:E["a"],QIcon:f["a"],QSelect:I["a"],QCardActions:P["a"],QBtn:$["a"]});var z={name:"users-component",mixins:[l["a"]],props:["mode"],data:function(){return{filter:"",columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"email",align:"center",label:"Email",field:"email",sortable:!0},{name:"rank",align:"center",label:"Tipo",field:"rank",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],data:[]}},mounted:function(){this.getUsers()},methods:{getUsers:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.activateLoading("Cargando"),a={},"project"!==e.mode){t.next=9;break}return t.next=6,C["a"].getClients({token:localStorage.getItem("token")});case 6:a=t.sent,t.next=18;break;case 9:if("engineer"!==e.mode){t.next=15;break}return t.next=12,C["a"].getEngineers({token:localStorage.getItem("token")});case 12:a=t.sent,t.next=18;break;case 15:return t.next=17,C["a"].getUsers({token:localStorage.getItem("token")});case 17:a=t.sent;case 18:r=a.data.users,e.data=r,t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](0),console.log(t.t0);case 25:e.disableLoading();case 26:case"end":return t.stop()}}),t,null,[[0,22]])})))()},createUser:function(){var e=this;this.$q.dialog({component:L,parent:this,text:"Hola"}).onOk(function(){var t=i()(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.token=localStorage.getItem("token"),t.prev=1,e.activateLoading("Cargando"),t.next=5,C["a"].register(a);case 5:r=t.sent,e.getUsers(),201===r.status&&e.alert("positive","Usuario agregado correctamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.alert("negative","Se ha presentado un error al crear el usuario");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))},del:function(e){var t=this;return i()(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,C["a"].deleteUser({id:e,token:localStorage.getItem("token")});case 4:r=a.sent,200===r.status&&(t.getUsers(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},V=z,A=(a("2922"),a("05c0")),T=a("eaac"),M=a("bd08"),B=a("db86"),H=Object(p["a"])(V,x,w,!1,null,"2e4d83fa",null),F=H.exports;b()(H,"components",{QBtn:$["a"],QTooltip:A["a"],QTable:T["a"],QTr:M["a"],QTd:B["a"],QIcon:f["a"],QInput:E["a"]});var U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"account_circle",color:"primary"}})]},proxy:!0}]),model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Email",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"mail",color:"primary"}})]},proxy:!0}]),model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("q-select",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",options:e.options,label:"Tipo",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"check",color:"primary"}})]},proxy:!0}]),model:{value:e.user.rank,callback:function(t){e.$set(e.user,"rank",t)},expression:"user.rank"}}),a("center",[a("q-btn",{attrs:{label:"Guardar",color:"primary"},on:{click:e.save}})],1)],1),a("div",{staticClass:"col-1"})])])},Y=[],N={name:"user-component",mixins:[l["a"]],props:[],data:function(){return{id:this.$route.params.id,user:{},options:["Cliente","Ingeniero","Administrador"]}},mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,C["a"].getUser({id:e.id,token:localStorage.getItem("token")});case 4:a=t.sent,e.user=a.data.user,e.user.rank=e.getRankById(a.data.user.rank),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:e.disableLoading();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},save:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.user,a.token=localStorage.getItem("token"),e.activateLoading("Cargando"),t.next=6,C["a"].modifyUser(a);case 6:r=t.sent,200===r.status&&e.alert("positive","Guardado correctamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.alert("negative","Se registro un fallo al guardar");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},G=N,K=Object(p["a"])(G,U,Y,!1,null,null,null),J=K.exports;b()(K,"components",{QInput:E["a"],QIcon:f["a"],QSelect:I["a"],QBtn:$["a"]});var W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text-h6"},[e._v("\n                  Proyectos\n                  "),a("div",{staticClass:"right"},[a("q-btn",{attrs:{round:"",color:"positive",size:"sm",icon:"add"},on:{click:e.createProject}},[a("q-tooltip",[e._v("\n                          Agregar\n                      ")])],1)],1)])]),a("div",{staticClass:"row"},[0===e.projects.length?a("div",[e._v("\n                  Ningun proyecto hasta el momento\n                ")]):e._e(),e._l(e.projects,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("q-card",{staticClass:"my-card",staticStyle:{margin:"5px"},attrs:{flat:"",bordered:""}},[a("q-card-section",{staticClass:"cards",attrs:{horizontal:""}},[a("q-card-section",{staticStyle:{width:"58.5%"}},[a("div",{staticClass:"text-h6"},[e._v(e._s(t.name))]),e._v("\n                                "+e._s(t.descripcion)+"\n                            ")]),a("q-img",{staticClass:"col-5",attrs:{src:e.getImgUrl(t.urlimg)}})],1),a("q-separator"),"select"===e.mode?a("q-card-actions",[a("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(a){return e.$emit("selectproject",t.id)}}},[e._v("\n                            Seleccionar\n                            ")])],1):a("q-card-actions",[a("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(a){return e.goTo("project/"+t.id)}}},[e._v("\n                            Ver\n                            ")]),a("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(a){return e.editProject(t)}}},[e._v("\n                            Editar\n                            ")]),a("q-btn",{attrs:{flat:"",color:"negative"},on:{click:function(a){return e.eliminar(t.id)}}},[e._v("\n                            Eliminar\n                            ")])],1)],1)],1)}))],2)]),a("div",{staticClass:"col-1"})])])},X=[],Z=a("758b"),ee={getProject:function(e){return Object(Z["a"])().get("project/"+e.id,{headers:{Authorization:e.token}})},getProjects:function(e){return Object(Z["a"])().get("projects",{headers:{Authorization:e.token}})},newProject:function(e){return Object(Z["a"])().post("projects",e,{headers:{Authorization:e.token}})},deleteProject:function(e){return Object(Z["a"])().delete("project/"+e.id,{headers:{Authorization:e.token}})},modifyProject:function(e){return Object(Z["a"])().post("project/"+e.id,e,{headers:{Authorization:e.token}})}},te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin container"},[a("div",{staticClass:"text-h6"},[e._v("Crear proyecto")]),a("q-separator"),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"description",color:"primary"}})]},proxy:!0}]),model:{value:e.project.name,callback:function(t){e.$set(e.project,"name",t)},expression:"project.name"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:"textarea",label:"Descripcion",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"topic",color:"primary"}})]},proxy:!0}]),model:{value:e.project.descripcion,callback:function(t){e.$set(e.project,"descripcion",t)},expression:"project.descripcion"}}),a("q-file",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Img",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"attach_file",color:"primary"}})]},proxy:!0}]),model:{value:e.project.photo,callback:function(t){e.$set(e.project,"photo",t)},expression:"project.photo"}}),void 0===e.project.idcliente||""===e.project.idcliente?a("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Agregar cliente",icon:"add"},on:{click:e.addClient}}):a("q-btn",{staticClass:"full-width",attrs:{color:"primary",outline:"",label:"Cambiar cliente",icon:"edit"},on:{click:e.addClient}}),a("br"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.project.name,e.project.photo,e.project.descripcion],e.onOKClick)}}}),a("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1),a("q-dialog",{attrs:{persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("users-component",{attrs:{mode:"project"},on:{add:e.add}})],1)],1)],1)],1)],1)},ae=[],re=(a("b0c0"),{mixins:[l["a"]],components:{UsersComponent:F},data:function(){return{project:{},options:[],dialog:!1}},methods:{add:function(e){this.project.idcliente=e.id,this.dialog=!1},addClient:function(){this.dialog=!0},show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){if(void 0!==this.project.idcliente&&null!==this.project.idcliente&&this.project.idcliente>0){var e=new FormData;e.append("name",this.project.name),e.append("descripcion",this.project.descripcion),e.append("idcliente",this.project.idcliente),e.append("photo",this.project.photo),this.$emit("ok",e),this.hide()}else this.alert("warning","Debes agregar un cliente antes de crear el proyecto")},onCancelClick:function(){this.hide()}}}),ne=re,oe=a("7d53"),ie=a("a370"),se=Object(p["a"])(ne,te,ae,!1,null,null,null),ce=se.exports;b()(se,"components",{QDialog:Q["a"],QCard:R["a"],QSeparator:O["a"],QInput:E["a"],QIcon:f["a"],QFile:oe["a"],QBtn:$["a"],QCardActions:P["a"],QCardSection:ie["a"]});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin container"},[a("div",{staticClass:"text-h6"},[e._v("Editar Proyecto")]),a("q-separator"),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"description",color:"primary"}})]},proxy:!0}]),model:{value:e.project.name,callback:function(t){e.$set(e.project,"name",t)},expression:"project.name"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:"textarea",label:"Descripcion",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"topic",color:"primary"}})]},proxy:!0}]),model:{value:e.project.descripcion,callback:function(t){e.$set(e.project,"descripcion",t)},expression:"project.descripcion"}}),a("q-file",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Img",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"attach_file",color:"primary"}})]},proxy:!0}]),model:{value:e.project.photo,callback:function(t){e.$set(e.project,"photo",t)},expression:"project.photo"}}),a("br"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.project.name,e.project.descripcion],e.onOKClick)}}}),a("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},ue=[],de={mixins:[l["a"]],data:function(){return{project:{}}},props:["projectToEdit"],mounted:function(){this.project=this.projectToEdit},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){var e=new FormData;e.append("name",this.project.name),e.append("descripcion",this.project.descripcion),e.append("photo",this.project.photo),this.$emit("ok",e),this.hide()},onCancelClick:function(){this.hide()}}},pe=de,me=Object(p["a"])(pe,le,ue,!1,null,null,null),ge=me.exports;b()(me,"components",{QDialog:Q["a"],QCard:R["a"],QSeparator:O["a"],QInput:E["a"],QIcon:f["a"],QFile:oe["a"],QCardActions:P["a"],QBtn:$["a"]});var fe={name:"projects-component",mixins:[l["a"]],props:["mode"],data:function(){return{projects:[]}},mounted:function(){this.getProjects()},methods:{organizarCards:function(){return i()(regeneratorRuntime.mark((function e(){var t,a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,document.getElementsByClassName("cards");case 2:for(t=e.sent,a=0,r=0;r<t.length;r++)a<=t[r].clientHeight&&(a=t[r].clientHeight);for(n=0;n<t.length;n++)document.getElementsByClassName("cards")[n].style.height=a+"px";case 6:case"end":return e.stop()}}),e)})))()},getProjects:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,ee.getProjects({token:localStorage.getItem("token")});case 4:a=t.sent,r=a.data.projects,e.projects=r,e.organizarCards(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},createProject:function(){var e=this;this.$q.dialog({component:ce,parent:this}).onOk(function(){var t=i()(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.token=localStorage.getItem("token"),t.prev=1,e.activateLoading("Cargando"),t.next=5,ee.newProject(a);case 5:r=t.sent,e.getProjects(),201===r.status&&e.alert("positive","Proyecto creado exitosamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.alert("negative","Se ha presentado un error al crear el Proyecto");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))},eliminar:function(e){var t=this;return i()(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,ee.deleteProject({id:e,token:localStorage.getItem("token")});case 4:r=a.sent,200===r.status&&(t.getProjects(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},editProject:function(e){var t=this;this.$q.dialog({component:ge,parent:this,projectToEdit:e}).onOk(function(){var a=i()(regeneratorRuntime.mark((function a(r){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r.id=e.id,r.token=localStorage.getItem("token"),a.prev=2,t.activateLoading("Cargando"),a.next=6,ee.modifyProject(r);case 6:n=a.sent,t.getProjects(),200===n.status&&t.alert("positive","Proyecto editado exitosamente"),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](2),t.alert("negative","Se ha presentado un error al editar el Proyecto");case 14:t.disableLoading();case 15:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e){return a.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))}}},ve=fe,he=(a("c1e4"),a("068f")),be=Object(p["a"])(ve,W,X,!1,null,"00cac249",null),ke=be.exports;b()(be,"components",{QBtn:$["a"],QTooltip:A["a"],QCard:R["a"],QCardSection:ie["a"],QImg:he["a"],QSeparator:O["a"],QCardActions:P["a"]});var ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"text-h4"},[e._v(e._s(e.project.name))]),a("br"),a("q-separator"),a("br"),a("b",[e._v("Descripción")]),a("br"),a("pre",[e._v(e._s(e.project.descripcion))]),a("br"),a("br"),a("q-separator"),a("div",{staticClass:"title"},[a("div",{staticClass:"text-h6"},[e._v("\n              Variables asociadas\n              "),a("div",{staticClass:"right"},[a("q-btn",{attrs:{round:"",color:"positive",size:"sm",icon:"add"},on:{click:e.assocVar}},[a("q-tooltip",[e._v("\n                    Asociar\n                  ")])],1)],1)])]),a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.data,columns:e.columns,"row-key":"name"},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.idvariable)+"\n                  ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.name)+"\n                  ")]),a("q-td",{key:"max",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.max)+"\n                  ")]),a("q-td",{key:"min",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.min)+"\n                  ")]),a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.del(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("desasociar")])],1)])],1)]}}])}),a("br"),a("q-separator"),a("br"),a("div",{staticClass:"title"},[a("div",{staticClass:"text-h6"},[e._v("\n              Ingenieros asociados\n              "),a("div",{staticClass:"right"},[a("q-btn",{attrs:{round:"",color:"positive",size:"sm",icon:"add"},on:{click:e.assocEngineer}},[a("q-tooltip",[e._v("\n                    Asociar\n                  ")])],1)],1)])]),a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.dataEngineers,columns:e.columnsEngineers,"row-key":"name"},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.idingeniero)+"\n                  ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.name)+"\n                  ")]),a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.deleteEngineer(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("desasociar")])],1)])],1)]}}])}),a("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("vars-component",{attrs:{mode:"project"},on:{add:e.add}})],1)],1)],1),a("q-dialog",{attrs:{persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogEngineers,callback:function(t){e.dialogEngineers=t},expression:"dialogEngineers"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("users-component",{attrs:{mode:"engineer"},on:{addengineer:e.addengineer}})],1)],1)],1)],1),a("div",{staticClass:"col-1"})])])},xe=[],we={getVariablesByProject:function(e){return Object(Z["a"])().get("variablesprojects/"+e.id,{headers:{Authorization:e.token}})},newVariablesProjects:function(e){return Object(Z["a"])().post("variablesprojects",e,{headers:{Authorization:e.token}})},deleteVarProject:function(e){return Object(Z["a"])().delete("variablesprojects/"+e.id,{headers:{Authorization:e.token}})}},Ce={getEngineersByProject:function(e){return Object(Z["a"])().get("engineersProjects/"+e.id,{headers:{Authorization:e.token}})},newEngineerProject:function(e){return Object(Z["a"])().post("engineersProjects",e,{headers:{Authorization:e.token}})},deleteEngineerProjectById:function(e){return Object(Z["a"])().delete("engineersProjects/"+e.id,{headers:{Authorization:e.token}})}},qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text-h6"},[e._v("\n                  Variables\n                  "),a("div",{staticClass:"right"},[a("q-btn",{attrs:{round:"",color:"positive",size:"sm",icon:"add"},on:{click:e.createVar}},[a("q-tooltip",[e._v("\n                          Agregar\n                      ")])],1)],1)])]),a("br"),a("q-table",{staticClass:"table",attrs:{dense:e.$q.screen.lt.md,data:e.data,columns:e.columns,"row-key":"name",filter:e.filter},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n                            "+e._s(t.row.id)+"\n                        ")]),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n                            "+e._s(t.row.name)+"\n                        ")]),"project"===e.mode?a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.$emit("add",t.row)}}},[a("q-icon",{attrs:{size:"md",name:"add"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("asociar")])],1)]):a("q-td",{key:"ops",attrs:{props:t}},[a("a",{staticClass:"text-blue",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.goTo("var/"+t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"edit"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("editar")])],1),a("a",{staticClass:"text-red",staticStyle:{cursor:"pointer",padding:"5px"},on:{click:function(a){return e.del(t.row.id)}}},[a("q-icon",{attrs:{size:"md",name:"delete"}}),a("q-tooltip",{attrs:{delay:1e3,offset:[0,10]}},[e._v("eliminar")])],1)])],1)]}},{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])})],1),a("div",{staticClass:"col-1"})])])},_e=[],je={addVar:function(e){return Object(Z["a"])().post("var",e,{headers:{Authorization:e.token}})},modifyVar:function(e){return Object(Z["a"])().post("var/"+e.id,e,{headers:{Authorization:e.token}})},deleteVar:function(e){return Object(Z["a"])().delete("var/"+e.id,{headers:{Authorization:e.token}})},getVars:function(e){return Object(Z["a"])().get("vars",{headers:{Authorization:e.token}})},getVarsByProject:function(e){return Object(Z["a"])().get("vars-project/"+e.id,{headers:{Authorization:e.token}})},getVar:function(e){return Object(Z["a"])().get("var/"+e.id,{headers:{Authorization:e.token}})}},Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin container"},[a("div",{staticClass:"text-h6"},[e._v("Crear variable")]),a("q-separator"),a("q-input",{attrs:{label:"Nombre de la variable",color:"grey-3","bg-color":"white","label-color":"primary"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"title",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.name,callback:function(t){e.$set(e.variable,"name",t)},expression:"variable.name"}}),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:function(t){return e.validateForm([e.variable.name],e.onOKClick)}}}),a("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},Qe=[],Re={mixins:[l["a"]],data:function(){return{variable:{}}},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.$emit("ok",this.variable),this.hide()},onCancelClick:function(){this.hide()}}},Oe=Re,Ee=Object(p["a"])(Oe,Se,Qe,!1,null,null,null),Ie=Ee.exports;b()(Ee,"components",{QDialog:Q["a"],QCard:R["a"],QSeparator:O["a"],QInput:E["a"],QIcon:f["a"],QCardActions:P["a"],QBtn:$["a"]});var Pe={name:"vars-component",mixins:[l["a"]],props:["mode"],data:function(){return{filter:"",columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],data:[]}},mounted:function(){this.getVars()},methods:{createVar:function(){var e=this;this.$q.dialog({component:Ie,parent:this,text:"Hola"}).onOk(function(){var t=i()(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.token=localStorage.getItem("token"),e.save(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}))},save:function(e){var t=this;return i()(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,je.addVar(e);case 4:r=a.sent,201===r.status&&(t.alert("positive","Variable agregada correctamente"),t.getVars()),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),422===a.t0.status?t.alert("negative","Ya existe una variable con ese nombre"):t.alert("negative","Error al agregar una variable");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},getVars:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,je.getVars({token:localStorage.getItem("token")});case 3:a=t.sent,e.data=a.data.vars,e.disableLoading();case 6:case"end":return t.stop()}}),t)})))()},del:function(e){var t=this;return i()(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,je.deleteVar({id:e,token:localStorage.getItem("token")});case 4:r=a.sent,200===r.status&&(t.getVars(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},$e=Pe,De=Object(p["a"])($e,qe,_e,!1,null,null,null),Le=De.exports;b()(De,"components",{QBtn:$["a"],QTooltip:A["a"],QTable:T["a"],QTr:M["a"],QTd:B["a"],QIcon:f["a"],QInput:E["a"]});var ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin container"},[a("div",{staticClass:"text-h6"},[e._v("Máximos y mínimos")]),a("q-separator"),a("q-input",{attrs:{type:"number",color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Máximo"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"flip_to_front",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.max,callback:function(t){e.$set(e.variable,"max",t)},expression:"variable.max"}}),a("q-input",{attrs:{type:"number",color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Mínimo"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"flip_to_back",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.min,callback:function(t){e.$set(e.variable,"min",t)},expression:"variable.min"}}),a("div",{staticClass:"text-h6"},[e._v("Razón por tomar valor fuera de rango")]),a("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.variable.razon_outrange,callback:function(t){e.$set(e.variable,"razon_outrange",t)},expression:"variable.razon_outrange"}}),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"OK"},on:{click:e.onOKClick}}),a("q-btn",{attrs:{color:"primary",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},Ve=[],Ae=a("fb3d"),Te=a.n(Ae),Me={mixins:[l["a"]],data:function(){return{variable:{},editor:Te.a,editorConfig:{}}},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.$emit("ok",this.variable),this.hide()},onCancelClick:function(){this.hide()}}},Be=Me,He=Object(p["a"])(Be,ze,Ve,!1,null,null,null),Fe=He.exports;b()(He,"components",{QDialog:Q["a"],QCard:R["a"],QSeparator:O["a"],QInput:E["a"],QIcon:f["a"],QCardActions:P["a"],QBtn:$["a"]});var Ue={name:"project-component",mixins:[l["a"]],components:{VarsComponent:Le,UsersComponent:F},props:[],data:function(){return{id:this.$route.params.id,project:{},columns:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"max",align:"center",label:"Maximo",field:"max",sortable:!0},{name:"min",align:"center",label:"Minimo",field:"min",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],columnsEngineers:[{name:"id",align:"center",label:"id",field:"id",sortable:!0},{name:"name",align:"center",label:"Nombre",field:"name",sortable:!0},{name:"ops",align:"center",label:"Opciones",field:"ops",sortable:!0}],data:[],dataEngineers:[],dialog:!1,dialogEngineers:!1}},mounted:function(){this.getVarInfo()},methods:{getVarInfo:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,ee.getProject({id:e.id,token:localStorage.getItem("token")});case 4:return a=t.sent,e.project=a.data.project,t.next=8,we.getVariablesByProject({id:e.id,token:localStorage.getItem("token")});case 8:return r=t.sent,e.data=r.data.variablesprojects,t.next=12,Ce.getEngineersByProject({id:e.id,token:localStorage.getItem("token")});case 12:n=t.sent,e.dataEngineers=n.data.engineerProject,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.log(t.t0);case 19:e.disableLoading();case 20:case"end":return t.stop()}}),t,null,[[0,16]])})))()},assocVar:function(){this.dialog=!0},assocEngineer:function(){this.dialogEngineers=!0},add:function(e){var t=this;return i()(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.dialog=!1,t.$q.dialog({component:Fe,parent:t}).onOk(function(){var a=i()(regeneratorRuntime.mark((function a(r){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r.token=localStorage.getItem("token"),r.idproyecto=t.id,r.idvariable=e.id,a.prev=3,t.activateLoading("Cargando"),a.next=7,we.newVariablesProjects(r);case 7:n=a.sent,201===n.status&&(t.getVarInfo(),t.alert("positive","Variables agregadas exitosamente")),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](3),t.alert("negative","Se ha presentado un error al agregar las variables");case 14:t.disableLoading();case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}()).onCancel((function(){})).onDismiss((function(){}));case 2:case"end":return a.stop()}}),a)})))()},addengineer:function(e){var t=this;return i()(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogEngineers=!1,r={},r.token=localStorage.getItem("token"),r.idproyecto=t.id,r.idingeniero=e.id,a.prev=5,t.activateLoading("Cargando"),a.next=9,Ce.newEngineerProject(r);case 9:n=a.sent,201===n.status&&(t.getVarInfo(),t.alert("positive","Ingeniero agregado exitosamente")),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](5),t.alert("negative","Se ha presentado un error al agregar el ingeniero");case 16:t.disableLoading();case 17:case"end":return a.stop()}}),a,null,[[5,13]])})))()},del:function(e){var t=this;return i()(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,we.deleteVarProject({id:e,token:localStorage.getItem("token")});case 4:r=a.sent,200===r.status&&(t.getVarInfo(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},deleteEngineer:function(e){var t=this;return i()(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.activateLoading("Cargando"),a.next=4,Ce.deleteEngineerProjectById({id:e,token:localStorage.getItem("token")});case 4:r=a.sent,200===r.status&&(t.getVarInfo(),t.alert("positive","Eliminado correctamente")),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.alert("negative","Se presentó un error");case 11:t.disableLoading();case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},Ye=Ue,Ne=(a("8305"),Object(p["a"])(Ye,ye,xe,!1,null,"5659be26",null)),Ge=Ne.exports;b()(Ne,"components",{QSeparator:O["a"],QBtn:$["a"],QTooltip:A["a"],QTable:T["a"],QTr:M["a"],QTd:B["a"],QIcon:f["a"],QDialog:Q["a"],QCard:R["a"],QCardSection:ie["a"]});var Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"account_circle",color:"primary"}})]},proxy:!0}]),model:{value:e.variable.name,callback:function(t){e.$set(e.variable,"name",t)},expression:"variable.name"}}),a("center",[a("q-btn",{attrs:{label:"Guardar",color:"primary"},on:{click:e.save}})],1)],1),a("div",{staticClass:"col-1"})])])},Je=[],We={name:"var-component",mixins:[l["a"]],props:[],data:function(){return{id:this.$route.params.id,variable:{}}},mounted:function(){this.getVarInfo()},methods:{getVarInfo:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,je.getVar({id:e.id,token:localStorage.getItem("token")});case 4:a=t.sent,e.variable=a.data.var,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:e.disableLoading();case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},save:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.variable,a.token=localStorage.getItem("token"),e.activateLoading("Cargando"),t.next=6,je.modifyVar(a);case 6:r=t.sent,200===r.status&&e.alert("positive","Guardado correctamente"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.alert("negative","Se registro un fallo al guardar");case 13:e.disableLoading();case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},Xe=We,Ze=Object(p["a"])(Xe,Ke,Je,!1,null,null,null),et=Ze.exports;b()(Ze,"components",{QInput:E["a"],QIcon:f["a"],QBtn:$["a"]});var tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("FullCalendar",{ref:"calendar",attrs:{events:e.events,config:e.config}}),a("br"),a("center",[e.user.rank>1?a("q-btn",{attrs:{label:"Crear reporte",color:"primary"},on:{click:e.newReport}}):e._e()],1),a("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogProjects,callback:function(t){e.dialogProjects=t},expression:"dialogProjects"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("projects-component",{attrs:{mode:"select"},on:{selectproject:e.selectProject}})],1)],1)],1)],1),a("div",{staticClass:"col-1"})])])},at=[],rt={createReport:function(e){return Object(Z["a"])().post("report",e,{headers:{Authorization:e.token}})},getReportById:function(e){return Object(Z["a"])().get("report/"+e.id,{headers:{Authorization:e.token}})},getReports:function(e){return Object(Z["a"])().get("reports",{headers:{Authorization:e.token}})},deleteReport:function(e){return Object(Z["a"])().delete("report/"+e.id,{headers:{Authorization:e.token}})},editReport:function(e){return Object(Z["a"])().post("modify_report/",e,{headers:{Authorization:e.token}})}},nt=(a("6e7b"),a("25cc")),ot={name:"reports-component",mixins:[l["a"]],components:{FullCalendar:nt["a"],ProjectsComponent:ke},props:["user"],data:function(){return{events:[],config:{},dialogProjects:!1}},created:function(){this.getCalendarInfo(),this.getReports()},methods:{getReports:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,rt.getReports({token:localStorage.getItem("token")});case 3:for(a=t.sent,e.disableLoading(),r=a.data.reports,n=0;n<r.length;n++)o={title:r[n].name,start:r[n].fecha,_id:r[n].id},e.events.push(o);case 7:case"end":return t.stop()}}),t)})))()},getCalendarInfo:function(){var e=this,t={months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],daysLong:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],days:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],today:"Hoy",month:"Mes",week:"Semana",day:"Día",list:"Lista"};this.config={defaultView:"month",editable:!1,displayEventTime:!1,header:{left:"prev,today,next",right:"month,listMonth,basicWeek,basicDay"},buttonText:{today:t.today,month:t.month,week:t.week,day:t.day,listMonth:t.list},allDayDefault:!0,height:"auto",monthNames:t.months,monthNamesShort:t.monthsShort,dayNames:t.daysLong,dayNamesShort:t.days,eventTextColor:"white",eventClick:function(t){e.goTo("report/"+t._id)},eventMouseover:function(e,t,a){},eventMouseout:function(e,t,a){}}},newReport:function(){this.dialogProjects=!0},selectProject:function(e){this.goTo("new-report/"+e)}}},it=ot,st=(a("31d6"),Object(p["a"])(it,tt,at,!1,null,"e222d258",null)),ct=st.exports;b()(st,"components",{QBtn:$["a"],QDialog:Q["a"],QCard:R["a"],QCardSection:ie["a"]});var lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"text-h6"},[e._v("\n                Crear informe\n            ")]),a("q-form",{on:{submit:e.save}},[e._l(e.vars,(function(t){return a("div",{key:t.id},[a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",filled:"",type:"number",label:t.name},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"variable.value"}})],1)})),a("q-separator"),a("div",{staticClass:"text-h6"},[e._v("Observacion:")]),a("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}}),e.user.rank>1?a("q-btn",{staticClass:"right",attrs:{round:"",type:"submit",color:"primary",icon:"save"}}):e._e()],2)],1),a("div",{staticClass:"col-1"})])])},ut=[],dt=a("bd4c"),pt={name:"user-component",mixins:[l["a"]],props:["user"],data:function(){return{id:this.$route.params.id,vars:[],editor:Te.a,observacion:"",editorConfig:{}}},mounted:function(){this.getVarsByProject()},methods:{getVarsByProject:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,we.getVariablesByProject({id:e.id,token:localStorage.getItem("token")});case 4:a=t.sent,e.vars=a.data.variablesprojects,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:e.disableLoading();case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},save:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={variables:e.vars,token:localStorage.getItem("token"),observacion:e.observacion,idproyecto:e.id,fecha:dt["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss")},t.prev=1,e.activateLoading("Cargando"),t.next=5,rt.createReport(a);case 5:r=t.sent,201===r.status?(e.alert("positive","Reporte generado exitosamente"),e.goTo("reports")):e.alert("warning","Reporte creado, correo no enviado."),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),e.alert("negative","Ha ocurrido un error");case 12:e.disableLoading();case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}},mt=pt,gt=a("0378"),ft=Object(p["a"])(mt,lt,ut,!1,null,null,null),vt=ft.exports;b()(ft,"components",{QForm:gt["a"],QInput:E["a"],QSeparator:O["a"],QBtn:$["a"]});var ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"text-h6"},[e._v("Reporte #"+e._s(e.id))]),a("div",{staticClass:"text-h8"},[e._v("Proyecto: "+e._s(e.report.name))]),a("div",{staticClass:"text-h8"},[e._v("Cliente: "+e._s(e.report.cliente_name))]),a("q-separator"),e._l(e.report.variables,(function(t){return a("div",{key:t.id},[a("q-input",{attrs:{type:"number",color:"grey-3","bg-color":"white","label-color":"primary",filled:"",label:t.name,disable:e.user.rank<2},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"variable.value"}})],1)})),a("div",{staticClass:"text-h6"},[e._v("Observacion:")]),a("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.report.observacion,callback:function(t){e.$set(e.report,"observacion",t)},expression:"report.observacion"}}),e.user.rank>1?a("q-btn",{attrs:{flat:"",color:"primary"},on:{click:e.editReport}},[e._v("\n              Editar\n            ")]):e._e(),e.user.rank>1?a("q-btn",{attrs:{flat:"",color:"negative"},on:{click:e.deleteReport}},[e._v("\n              Eliminar\n            ")]):e._e()],2),a("div",{staticClass:"col-1"})])])},bt=[],kt={name:"report-component",mixins:[l["a"]],props:["user"],data:function(){return{id:this.$route.params.id,report:{},editor:Te.a,editorConfig:{}}},created:function(){this.getReportInfo()},methods:{getReportInfo:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activateLoading("Cargando"),t.next=3,rt.getReportById({id:e.id,token:localStorage.getItem("token")});case 3:a=t.sent,e.report=a.data.report,e.disableLoading();case 6:case"end":return t.stop()}}),t)})))()},deleteReport:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,rt.deleteReport({id:e.id,token:localStorage.getItem("token")});case 4:a=t.sent,200===a.status&&(e.alert("positive","Eliminado correctamente"),e.goTo("reports")),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.alert("negative","Se presentó un error");case 11:e.disableLoading();case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},editReport:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),e.report.token=localStorage.getItem("token"),t.next=5,rt.editReport(e.report);case 5:a=t.sent,200===a.status&&(e.alert("positive","Actualizado correctamente"),e.goTo("reports")),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.alert("negative","Se presentó un error");case 12:e.disableLoading();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},yt=kt,xt=Object(p["a"])(yt,ht,bt,!1,null,null,null),wt=xt.exports;b()(xt,"components",{QSeparator:O["a"],QInput:E["a"],QBtn:$["a"]});var Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[void 0===e.idproject||""===e.idproject?a("q-btn",{staticClass:"full-width",attrs:{color:"primary",outline:"",label:"Seleccionar proyecto",icon:"add"},on:{click:e.addProject}}):a("q-btn",{staticClass:"full-width",attrs:{color:"primary",outline:"",label:"Cambiar proyecto",icon:"edit"},on:{click:e.addProject}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",label:"Desde",required:"",rules:[function(e){return!!e||"Tienes que llenar este campo"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)],1)]},proxy:!0}]),model:{value:e.from,callback:function(t){e.from=t},expression:"from"}}),a("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"primary",label:"Hasta",required:"",rules:[function(e){return!!e||"Tienes que llenar este campo"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"primary",name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format24h:""},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1)]},proxy:!0}]),model:{value:e.to,callback:function(t){e.to=t},expression:"to"}}),a("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Generar grafica"},on:{click:function(t){return e.validateForm([e.idproject],e.generarGraficas)}}}),e._l(e.graphics,(function(t,r){return a("div",{key:t.id},[a("highcharts",{attrs:{options:e.getChartOptions(r)}}),a("br"),a("analisis-grafica-component",{attrs:{values:t}}),a("br"),a("q-separator")],1)})),a("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",[a("projects-component",{attrs:{mode:"select"},on:{selectproject:e.selectProject}})],1)],1)],1)],2),a("div",{staticClass:"col-1"})])])},qt=[],_t=a("4452"),jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md box"},[a("div",{staticClass:"text-h5"},[e._v("Analisis de gráfica")]),a("div",{staticClass:"text-h6"},[e._v("Fechas dónde la variable estuvo fuera de rango:")]),e._l(e.reportsOutRange,(function(t,r){return a("ul",{key:r},[a("li",[e._v("Fecha: "+e._s(t.fecha))])])})),a("b",[e._v("Razon:")]),a("div",{domProps:{innerHTML:e._s(e.razon_outrange)}}),a("q-separator"),a("div",{staticClass:"text-h6"},[e._v("Observaciones en los reportes:")]),e._l(e.values,(function(t,r){return a("q-timeline",{key:r,attrs:{color:"orange"}},[t.observacion?a("q-timeline-entry",{attrs:{subtitle:t.fecha+", "+t.ingeniero,side:"left"}},[a("div",{domProps:{innerHTML:e._s(t.observacion)}})]):e._e()],1)}))],2)},St=[],Qt=(a("e260"),a("d3b7"),a("ddb0"),{name:"analisis-graficas-component",mixins:[l["a"]],props:["values"],data:function(){return{reportsOutRange:[],razon_outrange:""}},mounted:function(){this.getReportsOutRange()},methods:{getReportsOutRange:function(){for(var e=0;e<this.values.length;e++)(this.values[e].value>this.values[e].max||this.values[e].value<this.values[e].min)&&(this.reportsOutRange.push(this.values[e]),this.razon_outrange=this.values[e].razon_outrange)}}}),Rt=Qt,Ot=a("05eb"),Et=a("74af"),It=Object(p["a"])(Rt,jt,St,!1,null,null,null),Pt=It.exports;b()(It,"components",{QSeparator:O["a"],QTimeline:Ot["a"],QTimelineEntry:Et["a"]});var $t={getStats:function(e){return Object(Z["a"])().post("getstats",e,{headers:{Authorization:e.token}})}},Dt={name:"graphics-component",mixins:[l["a"]],props:["mode"],components:{highcharts:_t["Chart"],ProjectsComponent:ke,AnalisisGraficaComponent:Pt},data:function(){return{idproject:"",dialog:!1,generar:!1,from:dt["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss"),to:dt["b"].formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss"),graphics:[]}},methods:{generarGraficas:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.generar=!0,a={},a.idproyecto=e.idproject,a.token=localStorage.getItem("token"),a.from=e.from,a.to=e.to,e.activateLoading("Cargando"),t.next=9,$t.getStats(a);case 9:r=t.sent,e.disableLoading(),e.graphics=r.data.statics,e.getVars(e.graphics);case 13:case"end":return t.stop()}}),t)})))()},selectProject:function(e){var t=this;return i()(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.idproject=e,t.dialog=!1;case 2:case"end":return a.stop()}}),a)})))()},addProject:function(){this.dialog=!0},getChartOptions:function(e){return this.getChar(e)}}},Lt=Dt,zt=a("7cbe"),Vt=a("52ee"),At=a("ca78"),Tt=Object(p["a"])(Lt,Ct,qt,!1,null,null,null),Mt=Tt.exports;b()(Tt,"components",{QBtn:$["a"],QInput:E["a"],QIcon:f["a"],QPopupProxy:zt["a"],QDate:Vt["a"],QTime:At["a"],QSeparator:O["a"],QDialog:Q["a"],QCard:R["a"],QCardSection:ie["a"]});var Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"text-h4"},[e._v("Bienvenido, "+e._s(e.user.name)+".")]),a("br"),e._v("\n            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit ducimus doloribus rerum necessitatibus, earum cupiditate voluptatibus eligendi architecto libero. Placeat ipsum ipsa atque minima fugit similique est a, quidem eligendi.\n            "),a("br"),a("q-separator"),a("br"),a("center",[a("q-btn",{attrs:{label:"Activar tour",color:"primary"},on:{click:e.startTour}})],1)],1),a("div",{staticClass:"col-1"})])])},Ht=[],Ft={name:"home-component",mixins:[l["a"]],props:["user"],data:function(){return{}},mounted:function(){},methods:{startTour:function(){this.$emit("tour")}}},Ut=Ft,Yt=Object(p["a"])(Ut,Bt,Ht,!1,null,null,null),Nt=Yt.exports;b()(Yt,"components",{QSeparator:O["a"],QBtn:$["a"]});var Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"},[a("div",{staticClass:"row"},e._l(e.formulas,(function(t){return a("div",{key:t.id,staticClass:"col-md-6 col-xs-12"},[a("q-card",{class:"my-card bg-green-7 text-white",staticStyle:{margin:"5px"},attrs:{flat:"",bordered:""}},[a("q-card-section",{staticClass:"cards",attrs:{horizontal:""}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v(e._s(t.name))])])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{staticClass:"bg-green",attrs:{flat:""},on:{click:function(a){return e.goTo("calculate/"+t.id)}}},[e._v("\n                            Calcular\n                            ")])],1)],1)],1)})),0)]),a("div",{staticClass:"col-1"})])])},Kt=[],Jt={name:"calculate-component",mixins:[l["a"]],data:function(){return{formulas:[{name:"Enfriamentos de sistemas abiertos",id:1},{name:"Parametros vapor",id:2}]}},mounted:function(){},methods:{organizarCards:function(){return i()(regeneratorRuntime.mark((function e(){var t,a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,document.getElementsByClassName("cards");case 2:for(t=e.sent,a=0,r=0;r<t.length;r++)a<=t[r].clientHeight&&(a=t[r].clientHeight);for(n=0;n<t.length;n++)document.getElementsByClassName("cards")[n].style.height=a+"px";case 6:case"end":return e.stop()}}),e)})))()}}},Wt=Jt,Xt=Object(p["a"])(Wt,Gt,Kt,!1,null,null,null),Zt=Xt.exports;b()(Xt,"components",{QCard:R["a"],QCardSection:ie["a"],QCardActions:P["a"],QBtn:$["a"]});var ea=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ta=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10 container"}),a("div",{staticClass:"col-1"})])])}],aa={name:"calculate-form-component",mixins:[l["a"]],data:function(){return{}},mounted:function(){},methods:{}},ra=aa,na=Object(p["a"])(ra,ea,ta,!1,null,null,null),oa=na.exports,ia=[{title:"Inicio",icon:"home",link:"home",minRank:1},{title:"Usuarios",icon:"business",link:"users",minRank:3},{title:"Proyectos",icon:"library_books",link:"projects",minRank:3},{title:"Variables",icon:"description",link:"vars",minRank:3},{title:"Informes",icon:"article",link:"reports",minRank:1},{title:"Graficas",icon:"analytics",link:"graphics",minRank:1},{title:"Formulas",icon:"calculate",link:"calculate",minRank:2}],sa={name:"MainLayout",components:{EssentialLink:y,UsersComponent:F,UserComponent:J,ProjectsComponent:ke,ProjectComponent:Ge,HomeComponent:Nt,CalculateComponent:Zt,CalculateFormComponent:oa,VarsComponent:Le,VarComponent:et,ReportsComponent:ct,NewReportComponent:vt,ReportComponent:wt,GraphicsComponent:Mt},mixins:[l["a"]],data:function(){return{leftDrawerOpen:!1,essentialLinks:ia,user:{},steps:[{target:"#home",header:{title:"Inicio"},content:"Plataforma donde se realizan los distintos programas químicos, también se realizan calculos de dosificaciones y sugerencias de nuestros productos químicos."},{target:"#users",overlay:"#users",header:{title:"Sección de Usuarios"},content:"En este apartado puedes agregar clientes, ingenieros y administradores.",params:{placement:"bottom"}},{target:"#projects",overlay:"#projects",header:{title:"Sección de Proyectos"},content:"Gestiona los proyectos que manejas actualmente.",params:{placement:"bottom"}},{target:"#vars",overlay:"#vars",header:{title:"Sección de Variables"},content:"Agrega variables a la aplicación para usarlos en tratamientos.",params:{placement:"bottom-right"}}]}},props:["view"],mounted:function(){this.verifySession()},methods:{verifySession:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.activateLoading("Cargando"),t.next=4,C["a"].getMyUser({token:localStorage.getItem("token")});case 4:a=t.sent,e.user=a.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.goTo("login");case 11:e.disableLoading();case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},activateTour:function(){!1===this.leftDrawerOpen&&(this.leftDrawerOpen=!0),this.$tours.myTour.start()}}},ca=sa,la=(a("3245"),a("4d5a")),ua=a("e359"),da=a("65c6"),pa=a("6ac5"),ma=a("9404"),ga=a("1c1c"),fa=a("09e3"),va=Object(p["a"])(ca,r,n,!1,null,"3bd811ae",null);t["default"]=va.exports;b()(va,"components",{QLayout:la["a"],QHeader:ua["a"],QToolbar:da["a"],QBtn:$["a"],QToolbarTitle:pa["a"],QImg:he["a"],QDrawer:ma["a"],QList:ga["a"],QPageContainer:fa["a"]})},"7dbf":function(e,t,a){},8305:function(e,t,a){"use strict";var r=a("9a97"),n=a.n(r);n.a},"9a97":function(e,t,a){},"9f21":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("cf57"),n=a("4515"),o={data:function(){return{graphics:{}}},methods:{getVars:function(e){this.graphics=e},validateForm:function(e,t){for(var a=!0,r=0;r<e.length;r++)void 0!==e[r]&&null!==e[r]&&""!==e[r]||(a=!1);return a?t():this.alert("warning","Faltan campos por rellenar"),a},getImgUrl:function(e){return"http://extranet.exro.co:8082/v1/"+e},goTo:function(e){this.$router.push("/"+e).catch((function(e){e._name}))},alert:function(e,t){this.$q.notify({position:"top",message:t,color:e})},getToken:function(e){var t=e.token_type+" "+e.token;return t},getRankById:function(e){var t="Usuario";return 1===e?t="Cliente":2===e?t="Ingeniero":3===e&&(t="Administrador"),t},getRankByName:function(e){var t=0;return"Cliente"===e?t=1:"Ingeniero"===e?t=2:"Administrador"===e&&(t=3),t},activateLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={message:e};1===t?a.spinner=r["a"]:2===t&&(a.spinner=n["a"]),this.$q.loading.show(a)},disableLoading:function(){this.$q.loading.hide()},getChar:function(e){var t={exporting:{buttons:{contextButton:{menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","downloadCSV"]}}},lang:{downloadPDF:"Descargar PDF",downloadPNG:"Descargar PNG",downloadJPEG:"Descargar JPEG",downloadSVG:"Descargar SVG",downloadCSV:"Descargar EXCEL",printChart:"Imprimir gráfica",viewFullscreen:"Ver en pantalla completa",categories:"Fechas",category:"Fecha"},chart:{type:"line"},title:{text:e},xAxis:{categories:this.getFechas(e)},yAxis:{title:{text:"Valor"}},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!1},area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#E9BC36"]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:[{name:"Minimo",data:this.getMins(e),color:"#21ba45"},{name:"Maximo",data:this.getMaxs(e),color:"#0080DD"},{name:"Reportes",data:this.getValues(e),color:"#E9BC36"}]};return t},getFechas:function(e){for(var t=[],a=0;a<this.graphics[e].length;a++)t.push(this.graphics[e][a].fecha);return t},getValues:function(e){for(var t=[],a=0;a<this.graphics[e].length;a++)t.push(this.graphics[e][a].value);return t},getMins:function(e){for(var t=[],a=0;a<this.graphics[e].length;a++)t.push(this.graphics[e][a].min);return t},getMaxs:function(e){for(var t=[],a=0;a<this.graphics[e].length;a++)t.push(this.graphics[e][a].max);return t}}}},b066:function(e,t,a){},b688:function(e,t,a){},c1e4:function(e,t,a){"use strict";var r=a("7dbf"),n=a.n(r);n.a},c3e7:function(e,t,a){e.exports=a.p+"img/profile.56d6b32a.png"},cafc:function(e,t,a){"use strict";var r=a("b688"),n=a.n(r);n.a},cf05:function(e,t,a){e.exports=a.p+"img/logo.d1089cd2.png"}}]);